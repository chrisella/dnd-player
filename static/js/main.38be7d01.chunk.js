(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){e.exports={userListWrapper:"UserList_userListWrapper__Bi3pU",visible:"UserList_visible___L6z0",hidden:"UserList_hidden__1sDcK",header:"UserList_header__3zFpp",listStyle:"UserList_listStyle__b52iq",user:"UserList_user__1jB4j",online:"UserList_online__36i6v"}},11:function(e,t,a){e.exports={row:"PlayerCharacterSheet_row__2kml4",rowCenter:"PlayerCharacterSheet_rowCenter__2xJeq",column:"PlayerCharacterSheet_column__1mbrg",characterSheet:"PlayerCharacterSheet_characterSheet__3-ClE",inline:"PlayerCharacterSheet_inline__2dGLu",hpCurrent:"PlayerCharacterSheet_hpCurrent__2jujm",popout:"PlayerCharacterSheet_popout__kTK4_","character-close":"PlayerCharacterSheet_character-close__YiMGv","character-popout":"PlayerCharacterSheet_character-popout__1CbMg",characterClose:"PlayerCharacterSheet_characterClose__2TzrS",characterCancel:"PlayerCharacterSheet_characterCancel__3cta9",characterDetails:"PlayerCharacterSheet_characterDetails__2gebL",characterName:"PlayerCharacterSheet_characterName__eiG8B",button:"PlayerCharacterSheet_button__NVuUD",characterType:"PlayerCharacterSheet_characterType__UxLJd",abilityContainer:"PlayerCharacterSheet_abilityContainer__2pRxj",proficiency:"PlayerCharacterSheet_proficiency__1Hbjv",speed:"PlayerCharacterSheet_speed__uyL6t",initiative:"PlayerCharacterSheet_initiative__3kDGf",ability:"PlayerCharacterSheet_ability__2a7A7",abilityTitle:"PlayerCharacterSheet_abilityTitle__10CB2",proficiencyTitle:"PlayerCharacterSheet_proficiencyTitle__OBy6a",speedTitle:"PlayerCharacterSheet_speedTitle__27fNK",initiativeTitle:"PlayerCharacterSheet_initiativeTitle__F0NO-",speedType:"PlayerCharacterSheet_speedType__3XDiG",acTitle:"PlayerCharacterSheet_acTitle__2d_RV",hpTitle:"PlayerCharacterSheet_hpTitle__3A3gG",hpHeader:"PlayerCharacterSheet_hpHeader__3dQdH",abilityModifier:"PlayerCharacterSheet_abilityModifier__2UBxW",proficiencyModifier:"PlayerCharacterSheet_proficiencyModifier__1o_n5",speedModifier:"PlayerCharacterSheet_speedModifier__3ArCx",initiativeModifier:"PlayerCharacterSheet_initiativeModifier__1m83V",abilitySymbol:"PlayerCharacterSheet_abilitySymbol__yi6nk",proficiencySymbol:"PlayerCharacterSheet_proficiencySymbol__3OqyY",initiativeSymbol:"PlayerCharacterSheet_initiativeSymbol__c8kL0",abilityNumber:"PlayerCharacterSheet_abilityNumber__wa_00",proficiencyNumber:"PlayerCharacterSheet_proficiencyNumber__3mYcU",speedNumber:"PlayerCharacterSheet_speedNumber__1i9iw",initiativeNumber:"PlayerCharacterSheet_initiativeNumber__2hTw9",abilityScore:"PlayerCharacterSheet_abilityScore__2aLei",popupAdvantage:"PlayerCharacterSheet_popupAdvantage__l6R1M",popupDisadvantage:"PlayerCharacterSheet_popupDisadvantage__3_Bph",speedContainer:"PlayerCharacterSheet_speedContainer__3diqI",speedUnit:"PlayerCharacterSheet_speedUnit__fD3gV",speedPopup:"PlayerCharacterSheet_speedPopup__1A4om",speedPopupWrap:"PlayerCharacterSheet_speedPopupWrap__3fzeh",saveContainer:"PlayerCharacterSheet_saveContainer__28GdM",skillContainer:"PlayerCharacterSheet_skillContainer__x0dbc",save:"PlayerCharacterSheet_save__1oCKT",skill:"PlayerCharacterSheet_skill__4TDo4",saveWrapper:"PlayerCharacterSheet_saveWrapper__17FGw",skillWrapper:"PlayerCharacterSheet_skillWrapper__EL7xA",saveTitle:"PlayerCharacterSheet_saveTitle__1pjh2",skillAbility:"PlayerCharacterSheet_skillAbility__3iyYu",skillTitle:"PlayerCharacterSheet_skillTitle__37sn5",saveModifier:"PlayerCharacterSheet_saveModifier__1i6W4",skillModifier:"PlayerCharacterSheet_skillModifier__2lSCM",saveSymbol:"PlayerCharacterSheet_saveSymbol__14wcB",skillSymbol:"PlayerCharacterSheet_skillSymbol__2Gzdx",saveNumber:"PlayerCharacterSheet_saveNumber__19Vdh",skillNumber:"PlayerCharacterSheet_skillNumber__3Nc6W",saveProficiency:"PlayerCharacterSheet_saveProficiency__2Dvsd",skillProficiency:"PlayerCharacterSheet_skillProficiency__3zvOo",expertise:"PlayerCharacterSheet_expertise__1q8L6",proficient:"PlayerCharacterSheet_proficient__1SjD7",halfProficient:"PlayerCharacterSheet_halfProficient__InqKZ",ac:"PlayerCharacterSheet_ac__2-2c2",acNumber:"PlayerCharacterSheet_acNumber__3gYgI",hp:"PlayerCharacterSheet_hp__2KL0n",hpDivider:"PlayerCharacterSheet_hpDivider__1cCB_",hpMax:"PlayerCharacterSheet_hpMax__1T1S3",sectionTitle:"PlayerCharacterSheet_sectionTitle__18ElG",subtitle:"PlayerCharacterSheet_subtitle__1_5z6",trait:"PlayerCharacterSheet_trait__LG3H-",title:"PlayerCharacterSheet_title__2oy__",slotTitle:"PlayerCharacterSheet_slotTitle__1YyRy",slotNumber:"PlayerCharacterSheet_slotNumber__3DgHu",fullSpellSlot:"PlayerCharacterSheet_fullSpellSlot__1ARKk",emptySpellSlot:"PlayerCharacterSheet_emptySpellSlot__1wWO0"}},1153:function(e,t,a){"use strict";a.r(t);var r,n=a(1),c=a(3),i=a(4),A=a(2),o=a(5),s=a(0),l=a.n(s),u=a(60),p=a(305),d=a.n(p),h=a(499),m=a(28),f=a(35),g=a(11),v=a.n(g),E=a(48),b=a(7);!function(e){e[e.Tiny=0]="Tiny",e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Large=3]="Large",e[e.Huge=4]="Huge",e[e.Gargantuan=5]="Gargantuan"}(r||(r={}));var y,C,O=function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,null,[{key:"mapCharacterAttackEffect",value:function(e,t){var a=this.attackEffectMap[e.type];return a?a(e,t):{type:C.Text,text:"Unknown attack type ".concat(e.type,"!")}}},{key:"mapToHitCharacterEffect",value:function(e,t){var a=e;return{type:C.ToHit,modifier:N.getAbilityModifier(t,a.ability)+N.getProficiencyBonus(t)+(a.bonus||0),critRange:20}}},{key:"mapDamageCharacterEffect",value:function(e,t){var a=e;return{type:C.Damage,damageType:a.damageType,diceCount:a.diceCount,diceSize:a.diceSize,bonus:(a.bonus||0)+(a.ability?N.getAbilityModifier(t,a.ability):0)}}},{key:"mapSavingThrowCharacterEffect",value:function(t,a){var r=t;return{type:C.SavingThrow,saveType:r.saveType,saveDC:10+N.getAbilityModifier(a,r.DCAbility),onSave:e.mapCharacterAttackEffect(r.onSave,a),onFail:e.mapCharacterAttackEffect(r.onFail,a)}}},{key:"mapTextCharacterEffect",value:function(e){var t=e;return{type:C.Text,text:t.text}}}]),e}();O.attackEffectMap={0:O.mapToHitCharacterEffect,1:O.mapDamageCharacterEffect,2:O.mapSavingThrowCharacterEffect,3:O.mapTextCharacterEffect},function(e){e[e.ToHit=0]="ToHit",e[e.Damage=1]="Damage",e[e.SavingThrow=2]="SavingThrow",e[e.Text=3]="Text"}(C||(C={}));var S,j,N=function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,null,[{key:"getProficiencyBonus",value:function(e){if(!e||!e.levels)return null;var t=e.levels.map(function(e){return e.level}).reduce(function(e,t){return e+t});return t>20?null:1+Math.ceil(t/4)}},{key:"getSaveModifier",value:function(t,a){if(!t||!t.saves)return null;var r=this.getAbilityModifier(t,a);if(null===r)return null;var n=t.saves[a]||0,c=e.getProficiencyBonus(t);return r+Math.floor(n*c)}},{key:"getAbilityModifier",value:function(e,t){return e&&void 0!==e[t]?Math.floor((e[t]-10)/2):null}},{key:"getInitiativeModifier",value:function(e){return this.getAbilityModifier(e,"dexterity")}},{key:"getSkillModifier",value:function(t,a,r){if(!t||void 0===t[r])return null;var n=Math.floor((t[r]-10)/2),c=(t.skills||{})[a]||0,i=e.getProficiencyBonus(t);return n+Math.floor(c*i)}},{key:"getAttacks",value:function(e){return[].concat((e.equipment||[]).map(function(e){return(e.attacks||[]).map(function(t){return Object(b.a)({source:e.name},t)})})).concat((e.attacks||[]).map(function(e){return Object(b.a)({source:"Innate"},e)})).flat().map(function(t){return{name:"".concat(t.source," ").concat(t.title),range:t.range,effects:t.effects.map(function(t){return O.mapCharacterAttackEffect(t,e)})}})}},{key:"getShortAbilityName",value:function(t){var a=e.abilityNameMap[t];return a&&a.short}},{key:"getLongAbilityName",value:function(t){var a=e.abilityNameMap[t];return a&&a.long}},{key:"getLongSkillName",value:function(t){return e.skillNameMap[t]}},{key:"getSaveName",value:function(t){return e.saveNameMap[t]}},{key:"getSenseName",value:function(t){return e.senseNameMap[t]}},{key:"getSizeName",value:function(t){return e.sizeNameMap[t]}},{key:"getSpeedName",value:function(t){return e.speedNameMap[t]}},{key:"getSpellSlots",value:function(e){if(!e||!e.levels||!e.levels.length)return null;if(1===e.levels.length)switch(e.levels[0].className){case"paladin":case"ranger":var t=e.levels[0].level;return{1:t>=2?Math.min(4,Math.ceil(t/2)+1):0,2:t>=5?Math.min(3,Math.ceil(t/2)-1):0,3:t>=9?Math.min(3,Math.ceil(t/2)-3):0,4:t>=13?Math.min(3,Math.ceil(t/2)-6):0,5:t>=17?Math.min(2,Math.ceil(t/2)-8):0}}var a=e.levels.map(function(e){return e.className.match(/bard|cleric|druid|sorcerer|wizard/)?e.level:e.className.match(/paladin|ranger/)?Math.floor(e.level/2):0}).reduce(function(e,t){return e+t},0);return{1:Math.min(4,a+1),2:a>=3?Math.min(3,a-1):0,3:a>=5?Math.min(3,a-3):0,4:a>=7?Math.min(3,a-6):0,5:a>=9?Math.min(3,Math.ceil((a-1)/8)):0,6:a>=11?Math.min(2,Math.floor((a-3)/8)):0,7:a>=13?Math.min(2,Math.floor(a/10)):0,8:a>=15?1:0,9:a>=17?1:0}}}]),e}();N.abilityNameMap={strength:{short:"STR",long:"Strength"},dexterity:{short:"DEX",long:"Dexterity"},constitution:{short:"CON",long:"Constitution"},intelligence:{short:"INT",long:"Intelligence"},wisdom:{short:"WIS",long:"Wisdom"},charisma:{short:"CHA",long:"Charisma"}},N.skillNameMap={acrobatics:"Acrobatics",animalHandling:"Animal Handling",arcana:"Arcana",athletics:"Athletics",deception:"Deception",history:"History",insight:"Insight",intimidation:"Intimidation",investigation:"Investigation",medicine:"Medicine",nature:"Nature",perception:"Perception",performance:"Performance",persuasion:"Persuasion",religion:"Religion",sleightOfHand:"Sleight of Hand",stealth:"Stealth",survival:"Survival"},N.saveNameMap={strength:"Strength Save",dexterity:"Dexterity Save",constitution:"Constitution Save",intelligence:"Intelligence Save",wisdom:"Wisdom Save",charisma:"Charisma Save"},N.senseNameMap={tremorsense:"tremorsense",darkvision:"darkvision",blindsight:"blindsight",truesight:"truesight"},N.sizeNameMap=(y={},Object(E.a)(y,r.Tiny,"Tiny"),Object(E.a)(y,r.Small,"Small"),Object(E.a)(y,r.Medium,"Medium"),Object(E.a)(y,r.Large,"Large"),Object(E.a)(y,r.Huge,"Huge"),Object(E.a)(y,r.Gargantuan,"Gargantuan"),y),N.speedNameMap={walk:"",fly:"fly",burrow:"burrow",swim:"swim",climb:"climb"},N.classNameMap={barbarian:"Barbarian",bard:"Bard",cleric:"Cleric",druid:"Druid",fighter:"Fighter",monk:"Monk",paladin:"Paladin",ranger:"Ranger",rogue:"Rogue",sorcerer:"Sorcerer",warlock:"Warlock",wizard:"Wizard"},function(e){e[e.Text=0]="Text",e[e.DiceRoll=1]="DiceRoll",e[e.Condition=2]="Condition"}(S||(S={})),function(e){e[e.Disadvantage=-1]="Disadvantage",e[e.None=0]="None",e[e.Advantage=1]="Advantage"}(j||(j={}));var I=a(74),w=function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,null,[{key:"doBasicRoll",value:function(e,t,a,r,n,c){var i=(r<0?"":"+")+r,A=new I.DiceRoll("d20"+i),o={pcId:e.id,characterName:e.name,npcTokenId:null,type:"roll",rollType:t,rollName:a,modifier:i,roll1Total:A.total,roll1Details:A.toString().match(/.*?: (.*?) =/)[1],roll1CritSuccess:20===A.rolls[0][0],roll1CritFail:1===A.rolls[0][0]};if(n){var s=new I.DiceRoll("d20"+i);o.rollAdvantageType=n,o.roll2Total=s.total,o.roll2Details=s.toString().match(/.*?: (.*?) =/)[1],o.roll2CritSuccess=20===s.rolls[0][0],o.roll2CritFail=1===s.rolls[0][0]}c("",o)}},{key:"doSpell",value:function(t,a,r,n){var c=!1,i={type:"spell",title:a.name,characterName:t.name,results:[]},A={type:S.Text,text:"time: ".concat(a.time,", duration: ").concat(a.duration).concat(a.range).concat(a.concentration?", Concentration":"")};i.results.push(A);var o=!0,s=!1,l=void 0;try{for(var u,p=a.effects[Symbol.iterator]();!(o=(u=p.next()).done);o=!0){var d=u.value,h=e.applyEffect(d,r,c);c=h.crit,i.results.push(h.result)}}catch(C){s=!0,l=C}finally{try{o||null==p.return||p.return()}finally{if(s)throw l}}var m=!0,f=!1,g=void 0;try{for(var v,E=(a.effectsHigherLevel||[])[Symbol.iterator]();!(m=(v=E.next()).done);m=!0){var b=v.value,y=e.applyEffect(b,r,c);c=y.crit,i.results.push(y.result)}}catch(C){f=!0,g=C}finally{try{m||null==E.return||E.return()}finally{if(f)throw g}}n("",i)}},{key:"doAction",value:function(t,a,r,n){var c=!1,i={type:"action",title:a.title||a.name,characterName:t.name,results:[]},A=!0,o=!1,s=void 0;try{for(var l,u=a.effects[Symbol.iterator]();!(A=(l=u.next()).done);A=!0){var p=l.value,d=e.applyEffect(p,r,c);c=d.crit,i.results.push(d.result)}}catch(h){o=!0,s=h}finally{try{A||null==u.return||u.return()}finally{if(o)throw s}}n("",i)}},{key:"applyEffect",value:function(e,t,a){switch(e.type){case C.ToHit:var r,n,c,i,A=e,o=(A.modifier<0?"":"+")+A.modifier,s={advantage:t,modifier:A.modifier,type:S.DiceRoll,rolls:[]},l=new I.DiceRoll("d20"+o),u=l.toString().match(/.*?: (.*?) =/)[1],p=l.rolls[0][0]===(A.critRange||20),d=1===l.rolls[0][0];t&&(n=(r=new I.DiceRoll("d20"+o)).toString().match(/.*?: (.*?) =/)[1],c=r.rolls[0][0]===(A.critRange||20),i=1===r.rolls[0][0]),a=t>=0?p||c:p&&c;var h=!!r&&(t>0&&l.total<r.total||t<0&&l.total>r.total);if(s.rolls.push({total:l.total,critFail:d,critSuccess:p,details:u,suffix:h?"":"to hit",ignore:h}),r){var m=t>0&&l.total>=r.total||t<0&&l.total<=r.total;s.rolls.push({total:r.total,critFail:i,critSuccess:c,details:n,suffix:m?"":"to hit",ignore:m})}return{result:s,crit:a};case C.Damage:var f=e,g=new I.DiceRoll("".concat(f.diceCount*(a?2:1),"d").concat(f.diceSize,"+").concat(f.bonus||0)),v={advantage:j.None,modifier:f.bonus||0,type:S.DiceRoll,rolls:[]},E=g.toString().match(/.*?: (.*?) =/)[1];return v.rolls.push({critFail:!1,critSuccess:!1,details:E,ignore:!1,total:g.total,suffix:f.damageType}),{result:v,crit:a};case C.SavingThrow:var b=e;return{result:{type:S.Condition,condition:"DC ".concat(b.saveDC," ").concat(N.getLongAbilityName(b.saveType)," save"),onSuccess:this.applyEffect(b.onSave,0,a).result,onFailure:this.applyEffect(b.onFail,0,a).result},crit:a};case C.Text:var y=e;return{result:{type:S.Text,text:y.text},crit:a};default:return{result:{type:S.Text,text:"Unexpected attack effect ".concat(e.type,"!")},crit:a}}}}]),e}(),P=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={},a.handleClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.ability,r=t.character,n=N.getAbilityModifier(r,a);return l.a.createElement("div",{className:v.a.ability,onClick:function(t){return e.handleClick(t,0)}},l.a.createElement("div",{className:v.a.popupAdvantage,onClick:function(t){return e.handleClick(t,1)}},"A"),l.a.createElement("div",{className:v.a.popupDisadvantage,onClick:function(t){return e.handleClick(t,-1)}},"D"),l.a.createElement("div",{className:v.a.abilityTitle},N.getLongAbilityName(a)),l.a.createElement("div",{className:v.a.abilityModifier},l.a.createElement("div",{className:v.a.abilitySymbol},n<0?"-":"+"),l.a.createElement("div",{className:v.a.abilityNumber},Math.abs(n))),l.a.createElement("div",{className:v.a.abilityScore},r[a]))}},{key:"handleClick",value:function(e,t){e.stopPropagation(),w.doBasicRoll(this.props.character,"Ability",N.getLongAbilityName(this.props.ability),N.getAbilityModifier(this.props.character,this.props.ability),t,this.props.sendMessage)}}]),t}(l.a.Component),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.ability,r=t.character,n=r.saves||{},c=N.getSaveModifier(r,a),i=Oe[n[a]||0];return l.a.createElement("div",{className:v.a.save,onClick:function(t){return e.handleClick(t,0)}},l.a.createElement("div",{className:v.a.popupAdvantage,onClick:function(t){return e.handleClick(t,1)}},"A"),l.a.createElement("div",{className:v.a.popupDisadvantage,onClick:function(t){return e.handleClick(t,-1)}},"D"),l.a.createElement("div",{className:v.a.saveWrapper},l.a.createElement("div",{className:"".concat(v.a.saveProficiency," ").concat(i)}),l.a.createElement("div",{className:v.a.saveTitle},N.getShortAbilityName(a)),l.a.createElement("div",{className:v.a.saveModifier},l.a.createElement("span",{className:v.a.saveSymbol},c<0?"-":"+"),l.a.createElement("span",{className:v.a.saveNumber},Math.abs(c)))))}},{key:"handleClick",value:function(e,t){e.stopPropagation(),w.doBasicRoll(this.props.character,"Save",N.getSaveName(this.props.ability),N.getSaveModifier(this.props.character,this.props.ability),t,this.props.sendMessage)}}]),t}(l.a.Component),T=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={},a.handleClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.ability,r=t.character,n=t.skill,c=r.skills||{},i=N.getSkillModifier(r,n,a),A=Oe[c[n]||0];return l.a.createElement("div",{className:v.a.skill,onClick:function(t){return e.handleClick(t,0)}},l.a.createElement("div",{className:v.a.popupAdvantage,onClick:function(t){return e.handleClick(t,1)}},"A"),l.a.createElement("div",{className:v.a.popupDisadvantage,onClick:function(t){return e.handleClick(t,-1)}},"D"),l.a.createElement("div",{className:v.a.skillWrapper},l.a.createElement("div",{className:"".concat(v.a.skillProficiency," ").concat(A)}),l.a.createElement("div",{className:v.a.skillAbility},N.getShortAbilityName(a)),l.a.createElement("div",{className:v.a.skillTitle},N.getLongSkillName(n)),l.a.createElement("div",{className:v.a.skillModifier},l.a.createElement("div",{className:v.a.skillSymbol},i<0?"-":"+"),l.a.createElement("div",{className:v.a.skillNumber},Math.abs(i)))))}},{key:"handleClick",value:function(e,t){e.stopPropagation();var a=N.getSkillModifier(this.props.character,this.props.skill,this.props.ability);w.doBasicRoll(this.props.character,"Skill","".concat(N.getLongSkillName(this.props.skill)," (").concat(N.getLongAbilityName(this.props.ability),")"),a,t,this.props.sendMessage)}}]),t}(l.a.Component),D=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.character,t=N.getProficiencyBonus(e);return l.a.createElement("div",{className:v.a.proficiency},l.a.createElement("div",{className:v.a.proficiencyTitle},"Proficiency"),l.a.createElement("div",{className:v.a.proficiencyModifier},l.a.createElement("div",{className:v.a.proficiencySymbol},"+"),l.a.createElement("div",{className:v.a.proficiencyNumber},t)))}}]),t}(l.a.Component),_=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this.props.character.speed||{walk:0},t=[],a=0,r=Object.keys(e);a<r.length;a++){var n=r[a];e[n]&&t.push(l.a.createElement("div",{className:v.a.speedContainer,key:n},l.a.createElement("div",{className:v.a.speedPopupWrap},l.a.createElement("span",{className:v.a.speedNumber},e[n]),l.a.createElement("span",{className:v.a.speedUnit},"ft.")),l.a.createElement("div",{className:v.a.speedType},n)))}return l.a.createElement("div",{className:v.a.speed},l.a.createElement("div",{className:v.a.speedTitle},"Speed"),l.a.createElement("div",{className:v.a.speedContainer},l.a.createElement("span",{className:v.a.speedNumber},e.walk),l.a.createElement("span",{className:v.a.speedUnit},"ft.")),l.a.createElement("div",{className:v.a.speedPopup},l.a.createElement("div",{className:v.a.speedTitle},"Speed"),t))}}]),t}(l.a.Component),M=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={},a.handleClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.character,a=N.getInitiativeModifier(t);return l.a.createElement("div",{className:v.a.initiative,onClick:function(t){return e.handleClick(t,0)}},l.a.createElement("div",{className:v.a.popupAdvantage,onClick:function(t){return e.handleClick(t,1)}},"A"),l.a.createElement("div",{className:v.a.popupDisadvantage,onClick:function(t){return e.handleClick(t,-1)}},"D"),l.a.createElement("div",{className:v.a.initiativeTitle},"Initiative"),l.a.createElement("div",{className:v.a.initiativeModifier},l.a.createElement("div",{className:v.a.initiativeSymbol},a<0?"-":"+"),l.a.createElement("div",{className:v.a.initiativeNumber},Math.abs(a))))}},{key:"handleClick",value:function(e,t){e.stopPropagation(),w.doBasicRoll(this.props.character,"Initiative","Initiative",N.getInitiativeModifier(this.props.character),t,this.props.sendMessage)}}]),t}(l.a.Component),B=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.character;return l.a.createElement("div",{className:v.a.ac},l.a.createElement("div",{className:v.a.acTitle},"AC"),l.a.createElement("div",{className:v.a.acNumber},e.ac))}}]),t}(l.a.Component),x=a(132),R=a(475),U=a.n(R),L={ENTER:"enter",CANCEL:"esc"},F=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).handlers={ENTER:function(){return a.onEnter()},CANCEL:function(){return a.onCancel()}},a._input=void 0,a.state={newValue:void 0===e.value||null===e.value?"":e.value.toString()},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.setState({newValue:this.props.value?this.props.value.toString():""})}},{key:"render",value:function(){var e=this,t=this.onChange.bind(this),a=this.onCancel.bind(this),r=this.onFocus.bind(this);return l.a.createElement(x.HotKeys,{keyMap:L,handlers:this.handlers,className:this.props.className,style:this.props.style,onBlur:this.props.onBlur},l.a.createElement(x.ObserveKeys,{only:Object.values(L),except:void 0},l.a.createElement("input",{ref:function(t){return e._input=t},value:this.state.newValue,onChange:t,onBlur:a,onFocus:r,className:this.props.inputClassName,style:this.props.inputStyle,autoFocus:this.props.autoFocus})))}},{key:"onChange",value:function(e){this.setState({newValue:e.target.value})}},{key:"onEnter",value:function(){var e=this.state.newValue;"-"!==e[0]&&"+"!==e[0]||(e=this.props.value+e);var t=Math.floor(U()(e));this.props.onEnter(t),this._input.blur()}},{key:"onFocus",value:function(){var e=this;setTimeout(function(){return e._input.selectionStart=e._input.selectionEnd=e.state.newValue.length},0)}},{key:"onCancel",value:function(){this._input.blur(),this.setState({newValue:this.props.value.toString()})}}]),t}(l.a.Component),Q=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.character;return l.a.createElement("div",{className:v.a.hp},l.a.createElement("div",{className:v.a.hpTitle},"Hit Points"),l.a.createElement("div",{className:v.a.hpCurrent},l.a.createElement(F,{value:t.hp,inputClassName:v.a.hpCurrent,onEnter:function(a){return e.props.updatePlayerCharacter(t.id,Object(b.a)({},t,{hp:a}))}}),l.a.createElement("span",{className:v.a.hpHeader},"Current")),l.a.createElement("div",{className:v.a.hpDivider},"/"),l.a.createElement("div",{className:v.a.hpMax},l.a.createElement("span",null,t.maxHp),l.a.createElement("span",{className:v.a.hpHeader},"Max")))}}]),t}(l.a.Component),G=a(57),H=a.n(G),Y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={},a.handleClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.attack,a=t.effects.filter(function(e){return e.type===C.ToHit})[0],r=t.effects.filter(function(e){return e.type===C.Damage})[0];return l.a.createElement("div",{className:H.a.attack,onClick:function(t){return e.handleClick(t,0)}},a&&l.a.createElement("div",{className:v.a.popupAdvantage,onClick:function(t){return e.handleClick(t,1)}},"A"),void 0!==a&&l.a.createElement("div",{className:v.a.popupDisadvantage,onClick:function(t){return e.handleClick(t,-1)}},"D"),l.a.createElement("div",{className:H.a.attackName},l.a.createElement("span",null,t.name)),l.a.createElement("div",{className:H.a.attackRange},t.range," ft."),l.a.createElement("div",{className:H.a.attackToHit},a&&l.a.createElement("div",null,l.a.createElement("div",{className:H.a.attackToHitSymbol},a.modifier<0?"-":"+"),l.a.createElement("div",{className:H.a.attackToHitNumber},Math.abs(a.modifier)))),l.a.createElement("div",{className:H.a.attackDamage},r&&l.a.createElement("div",null,r.diceCount,"d",r.diceSize,"+",r.bonus||0," ",r.damageType)))}},{key:"handleClick",value:function(e,t){e.stopPropagation();var a=this.props.attack,r=!1,n={type:"action",characterName:this.props.character.name,title:a.name,results:[]},c=!0,i=!1,A=void 0;try{for(var o,s=a.effects[Symbol.iterator]();!(c=(o=s.next()).done);c=!0){var l=o.value,u=w.applyEffect(l,t,r);r=u.crit,n.results.push(u.result)}}catch(p){i=!0,A=p}finally{try{c||null==s.return||s.return()}finally{if(i)throw A}}this.props.sendMessage("",n)}}]),t}(l.a.Component),K=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.character,a=N.getAttacks(t).map(function(t){return l.a.createElement(Y,Object.assign({key:t.name,attack:t},e.props))});return l.a.createElement("div",{className:H.a.attack},l.a.createElement("div",{className:H.a.attackContainer},l.a.createElement("div",{className:H.a.attackHeader},l.a.createElement("span",{className:H.a.attackName},"Attack"),l.a.createElement("span",{className:H.a.attackRange},"Range"),l.a.createElement("span",{className:H.a.attackToHit},"To Hit"),l.a.createElement("span",{className:H.a.attackDamage},"Damage")),a),l.a.createElement("div",{className:H.a.attacksTitle},"Attacks"))}}]),t}(l.a.Component),J=a(69),W=a.n(J),z=a(133),V=a.n(z),X=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.character,e.item);return l.a.createElement("div",{className:V.a.wrapper},l.a.createElement("span",{className:V.a.name},t.name),l.a.createElement("span",{className:V.a.quantity},t.quantity||"-"),l.a.createElement("span",{className:V.a.weight},t.weight?t.weight+" lb.":"-"),l.a.createElement("span",{className:V.a.notes},t.notes))}}]),t}(l.a.Component),q=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=(this.props.character.equipment||[]).map(function(t,a){return l.a.createElement(X,Object.assign({key:a,item:t},e.props))});return l.a.createElement("div",{className:W.a.equipment},l.a.createElement("div",{className:W.a.wrapper},l.a.createElement("div",{className:W.a.header},l.a.createElement("span",{className:W.a.name},"Name"),l.a.createElement("span",{className:W.a.quantity},"Quantity"),l.a.createElement("span",{className:W.a.weight},"Weight"),l.a.createElement("span",{className:W.a.notes},"Notes")),t),l.a.createElement("div",{className:W.a.title},"Equipment"))}}]),t}(l.a.Component),Z=a(90),$="player_character_asset",ee="upload_image",te=a(476),ae=a.n(te),re=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,a=e.imageUrl;return t(l.a.createElement("div",{className:ae.a.wrapper},l.a.createElement("img",{src:a||"https://placekitten.com/128/128"})))}}]),t}(s.Component),ne={canDrop:function(e,t){return!0},hover:function(e,t,a){},drop:function(e,t,a){var r=t.getItem();e.updateCharacter&&e.updateCharacter(e.characterId,Object(b.a)({},e.character,{imageRef:r.imageRef}))}};var ce,ie=Object(Z.DropTarget)(ee,ne,function(e,t){return{connectDropTarget:e.dropTarget()}})(re),Ae=a(70),oe=a.n(Ae),se=a(213),le=a.n(se),ue=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.showAdvantage;return l.a.createElement("div",{onClick:function(t){return e.onClick(t,0)},className:le.a.rollable},t&&l.a.createElement("div",null,l.a.createElement("div",{className:le.a.popupAdvantage,onClick:function(t){return e.onClick(t,1)}},"A"),l.a.createElement("div",{className:le.a.popupDisadvantage,onClick:function(t){return e.onClick(t,-1)}},"D")),this.props.children)}},{key:"onClick",value:function(e,t){e.stopPropagation(),this.props.onClick(t)}}]),t}(l.a.Component),pe=a(214),de=a.n(pe),he=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:de.a.hoverContainer},l.a.createElement("div",{className:de.a.hoverChildren},this.props.children),l.a.createElement("div",{className:de.a.hover},this.props.content))}}]),t}(s.Component),me=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.spell,t=this.onClick.bind(this),a=l.a.createElement("div",null,l.a.createElement("div",{className:oe.a.title},e.name),l.a.createElement("div",{className:oe.a.italic},"Level ".concat(e.level," ").concat(e.school)),l.a.createElement("div",null,l.a.createElement("span",{className:oe.a.bold},"Casting Time:"),l.a.createElement("span",null,e.time)),l.a.createElement("div",null,l.a.createElement("span",{className:oe.a.bold},"Range:"),l.a.createElement("span",null,e.range)),l.a.createElement("div",null,l.a.createElement("span",{className:oe.a.bold},"Components:"),l.a.createElement("span",null,e.verbal&&"V",e.somatic&&"S",e.material&&"M")),l.a.createElement("div",null,l.a.createElement("span",{className:oe.a.bold},"Duration:"),l.a.createElement("span",null,e.duration)),l.a.createElement("hr",null),l.a.createElement("div",null,e.effects.map(function(e){return e.text}).join("\n")),l.a.createElement("div",null,(e.effectsHigherLevel||[]).map(function(e){return e.text}).join("\n")),l.a.createElement("div",null,l.a.createElement("span",{className:oe.a.bold},"Classes:"),l.a.createElement("span",null,e.classes.join(", "))));return l.a.createElement("div",{className:oe.a.wrapper},l.a.createElement("input",{type:"checkbox",checked:this.props.prepared,disabled:!0}),l.a.createElement(he,{content:a},l.a.createElement(ue,{onClick:t},e.name)),e.concentration&&l.a.createElement("span",null,"Concentration"))}},{key:"onClick",value:function(e){w.doSpell(this.props.character,this.props.spell,e,this.props.sendMessage)}}]),t}(l.a.Component),fe=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.character,a=e.slot,r=N.getSpellSlots(t);if(!r[a]&&0!==a)return null;for(var n=this.adjustSlot.bind(this,-1),c=this.adjustSlot.bind(this,1),i=(t.spellSlots||{})[a],A=[],o=0;o<r[a];o++)o<i.current?A.push(l.a.createElement("div",{key:o,className:v.a.fullSpellSlot,onClick:n})):A.push(l.a.createElement("div",{key:o,className:v.a.emptySpellSlot,onClick:c}));return l.a.createElement("div",null,l.a.createElement("div",{className:v.a.rowCenter,style:{justifyContent:"space-between"}},l.a.createElement("div",{className:v.a.slotTitle},0===a?"Cantrips":l.a.createElement("span",null,"Level ",l.a.createElement("span",{className:v.a.slotNumber},a))),l.a.createElement("div",null,A)),l.a.createElement("div",null,this.props.children))}},{key:"adjustSlot",value:function(e){var t=Object(b.a)({},this.props.character.spellSlots);t[this.props.slot]={current:t[this.props.slot].current+e},this.props.updatePlayerCharacter(this.props.character.id,Object(b.a)({},this.props.character,{spellSlots:t}))}}]),t}(l.a.Component),ge=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.character,a=(t.levels||[]).filter(function(e){return e.className.match(/cleric|druid|paladin/)}).map(function(e){return{className:e.className,maxSpellLevel:Math.ceil(e.level/2)}}),r=this.props.spells.filter(function(e){return(e.classes||[]).some(function(t){return a.some(function(a){return a.className===t&&a.maxSpellLevel>=e.level})})}).map(function(e){return{spellId:e.id,prepared:(t.spells||[]).some(function(t){return t.prepared&&t.spellId===e.id})}}),n=[].concat(r,(t.spells||[]).filter(function(e){return!r.some(function(t){return t.spellId===e.spellId})})).map(function(t){return{ref:t,spell:e.props.spells.find(function(e){return e.id===t.spellId})}}).sort(function(e,t){return e.spell.level>t.spell.level?1:e.spell.level<t.spell.level?-1:e.spell.name>t.spell.name?1:-1}),c={};for(var i in n){var A=n[i];c[A.spell.level]||(c[A.spell.level]=[]),c[A.spell.level].push(l.a.createElement(me,Object.assign({key:i,prepared:A.ref.prepared,spell:A.spell},this.props)))}if(!n.length)return null;for(var o=[],s=[],u=0;u<=9;u++)(u<5?o:s).push(l.a.createElement(fe,{key:u,slot:u,character:t,updatePlayerCharacter:this.props.updatePlayerCharacter},c[u]));return l.a.createElement("div",{className:oe.a.spells},l.a.createElement("div",{className:v.a.subtitle},"Spellcasting"),l.a.createElement("div",{className:v.a.row},l.a.createElement("div",{className:oe.a.wrapper},o),l.a.createElement("div",{className:oe.a.wrapper},s)))}}]),t}(l.a.Component),ve=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.character;if(!t.traits||!t.traits.length)return null;var a=(t.traits||[]).map(function(t,a){return l.a.createElement("div",{className:v.a.trait},l.a.createElement(ue,{key:a,onClick:function(){return e.onClick(t)}},l.a.createElement("span",{className:v.a.title},t.name,".")),l.a.createElement("span",null,t.description))});return l.a.createElement("div",{className:v.a.traits},l.a.createElement("div",{className:v.a.subtitle},"Traits"),l.a.createElement("div",{className:v.a.wrapper},a))}},{key:"onClick",value:function(e){this.props.sendMessage("",{type:"info",characterName:this.props.character.name,title:"Trait: ".concat(e.name),details:e.description})}}]),t}(l.a.Component),Ee=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=(this.props.character.resources||[]).map(function(t,a){return l.a.createElement("div",{key:a},l.a.createElement("div",null,t.name),l.a.createElement("div",{className:v.a.row},l.a.createElement(F,{value:t.quantity,onEnter:function(a){return e.updateResource(t,a)}}),l.a.createElement("span",null,"/ ",t.max)))});return l.a.createElement("div",{className:W.a.resources},l.a.createElement("div",{className:W.a.wrapper},t),l.a.createElement("div",{className:W.a.title},"Resources"))}},{key:"updateResource",value:function(e,t){var a=this.props,r=a.character,n=a.updatePlayerCharacter,c=r.resources.map(function(e){return Object(b.a)({},e)});c.find(function(t){return t.name===e.name}).quantity=t,n(r.id,Object(b.a)({},r,{resources:c}))}}]),t}(l.a.Component),be=a(26),ye=a(25),Ce=a.n(ye),Oe={0:v.a.none,.5:v.a.halfProficient,1:v.a.proficient,2:v.a.expertise},Se=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={newCharacter:JSON.stringify(a.props.character,void 0," ")},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.character,a=e.editPlayerCharacter,r=e.inline;return l.a.createElement("div",{className:"column ".concat(v.a.characterSheet," ").concat(r?"inline":""," popout")},l.a.createElement("div",{className:v.a.row},l.a.createElement("div",{className:v.a.characterName},t.name),l.a.createElement("div",{onClick:function(){return a(t.id)},className:v.a.button},l.a.createElement(Ce.a,{path:be.e,size:1,color:"#a6792d"}))),l.a.createElement("div",{className:v.a.row},l.a.createElement("div",{className:v.a.characterType},N.getSizeName(t.size)," ",t.race," ",(t.levels||[]).map(function(e){return"".concat(N.classNameMap[e.className]," ").concat(e.level)}).join(", "),", ",t.alignment)),l.a.createElement("div",{className:"".concat(v.a.row," ").concat(v.a.characterDetails)},l.a.createElement("div",{className:v.a.characterImage,style:{float:"right"}},l.a.createElement(ie,{imageUrl:this.props.image?this.props.image.downloadUrl:t.imageRef,character:t,characterId:t.id,updateCharacter:this.props.updatePlayerCharacter}))),l.a.createElement("hr",null),l.a.createElement("div",{className:v.a.row},l.a.createElement("div",{className:v.a.abilityContainer},l.a.createElement(P,Object.assign({ability:"strength",character:t},this.props)),l.a.createElement(P,Object.assign({ability:"dexterity",character:t},this.props)),l.a.createElement(P,Object.assign({ability:"constitution",character:t},this.props)),l.a.createElement(P,Object.assign({ability:"intelligence",character:t},this.props)),l.a.createElement(P,Object.assign({ability:"wisdom",character:t},this.props)),l.a.createElement(P,Object.assign({ability:"charisma",character:t},this.props))),l.a.createElement(D,Object.assign({character:t},this.props)),l.a.createElement(_,Object.assign({character:t},this.props)),l.a.createElement(Q,Object.assign({character:t},this.props))),l.a.createElement("div",{className:v.a.row},l.a.createElement("div",{className:v.a.column},l.a.createElement("div",{className:v.a.saveContainer},l.a.createElement(k,Object.assign({ability:"strength",character:t},this.props)),l.a.createElement(k,Object.assign({ability:"dexterity",character:t},this.props)),l.a.createElement(k,Object.assign({ability:"constitution",character:t},this.props)),l.a.createElement(k,Object.assign({ability:"intelligence",character:t},this.props)),l.a.createElement(k,Object.assign({ability:"wisdom",character:t},this.props)),l.a.createElement(k,Object.assign({ability:"charisma",character:t},this.props)),l.a.createElement("div",{className:"section-title"},"Saving Throws"))),l.a.createElement("div",{className:v.a.column},l.a.createElement("div",{className:v.a.skillContainer},l.a.createElement(T,Object.assign({skill:"acrobatics",ability:"dexterity",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"animalHandling",ability:"wisdom",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"arcana",ability:"intelligence",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"athletics",ability:"strength",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"deception",ability:"charisma",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"history",ability:"intelligence",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"insight",ability:"wisdom",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"intimidation",ability:"charisma",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"investigation",ability:"intelligence",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"medicine",ability:"wisdom",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"nature",ability:"intelligence",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"perception",ability:"wisdom",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"performance",ability:"charisma",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"persuasion",ability:"charisma",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"religion",ability:"intelligence",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"sleightOfHand",ability:"dexterity",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"stealth",ability:"dexterity",character:t},this.props)),l.a.createElement(T,Object.assign({skill:"survival",ability:"wisdom",character:t},this.props)),l.a.createElement("div",{className:v.a.sectionTitle},"Skills"))),l.a.createElement("div",{className:v.a.column,style:{flex:1}},l.a.createElement("div",{className:v.a.row},l.a.createElement(M,Object.assign({character:t},this.props)),l.a.createElement(B,Object.assign({character:t},this.props))),l.a.createElement("div",{className:v.a.row},l.a.createElement(K,Object.assign({character:t},this.props))),l.a.createElement("div",{className:v.a.row},l.a.createElement(q,Object.assign({character:t},this.props))),l.a.createElement("div",{className:v.a.row},l.a.createElement(Ee,Object.assign({character:t},this.props))))),l.a.createElement("div",{className:v.a.row},l.a.createElement(ve,Object.assign({character:t},this.props))),l.a.createElement("div",null,l.a.createElement(ge,Object.assign({character:t},this.props))))}}]),t}(l.a.Component),je=a(15),Ne=a.n(je),Ie=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.character,r=t.prop;return l.a.createElement("select",{value:(a.saves||{})[r],onChange:function(t){return e.updateSaveProperty(t.target.value)}},l.a.createElement("option",{value:0},"Not proficient"),l.a.createElement("option",{value:.5},"Half proficient"),l.a.createElement("option",{value:1},"Proficient"),l.a.createElement("option",{value:2},"Expertise"))}},{key:"updateSaveProperty",value:function(e){this.props.updateCharacterProperty("saves",Object(b.a)({},this.props.character.saves,Object(E.a)({},this.props.prop,e)))}}]),t}(l.a.Component),we=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.ability,r=t.character;return l.a.createElement("div",{className:Ne.a.columnCenter},l.a.createElement("div",{className:Ne.a.label},N.getShortAbilityName(a)),l.a.createElement("input",{className:Ne.a.ability,value:r[a],type:"number",min:0,max:30,placeholder:"10",onChange:function(t){return e.props.updateCharacterProperty(a,t.target.value)}}),l.a.createElement(Ie,Object.assign({prop:a},this.props)))}}]),t}(l.a.Component),Pe=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:Ne.a.row},l.a.createElement(we,Object.assign({ability:"strength"},this.props)),l.a.createElement(we,Object.assign({ability:"dexterity"},this.props)),l.a.createElement(we,Object.assign({ability:"constitution"},this.props)),l.a.createElement(we,Object.assign({ability:"intelligence"},this.props)),l.a.createElement(we,Object.assign({ability:"wisdom"},this.props)),l.a.createElement(we,Object.assign({ability:"charisma"},this.props)))}}]),t}(l.a.Component),ke=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.type,r=t.character;return l.a.createElement("div",{className:Ne.a.money},l.a.createElement("div",{className:Ne.a.moneyTitle},a),l.a.createElement("input",{value:(r.money||{})[a],type:"number",min:0,placeholder:"10",onChange:function(t){return e.props.updateCharacterProperty("money",Object(b.a)({},r.money,Object(E.a)({},a,t.target.value)))}}))}}]),t}(l.a.Component),Te=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:Ne.a.abilityContainer},l.a.createElement(ke,Object.assign({type:"cp"},this.props)),l.a.createElement(ke,Object.assign({type:"sp"},this.props)),l.a.createElement(ke,Object.assign({type:"gp"},this.props)),l.a.createElement(ke,Object.assign({type:"ep"},this.props)),l.a.createElement(ke,Object.assign({type:"pp"},this.props)))}}]),t}(l.a.Component),De=a(19),_e=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).prop=void 0,a.heading=void 0,a.direction=void 0,a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.character,a=this.prop,r=this.heading,n=this.direction,c=[];for(var i in t[a]||[]){var A=i,o=t[a][A];c.push(this.mapItem(A,o))}return l.a.createElement("div",{className:Ne.a[n||"columnCenter"]},l.a.createElement("span",{className:Ne.a.label},r),l.a.createElement("div",{className:Ne.a[n||"row"]},c,l.a.createElement("div",{className:Ne.a.button,onClick:function(){return e.addItem()}},l.a.createElement(Ce.a,{path:be.f,size:1,color:"#ccc"}))))}},{key:"updateItemProperty",value:function(e,t,a){var r=Object(De.a)(this.props.character[this.prop]);r[e][t]=a,this.props.updateCharacterProperty(this.prop,r)}},{key:"removeItem",value:function(e){var t=Object(De.a)(this.props.character[this.prop]);t.splice(parseInt(e),1),this.props.updateCharacterProperty(this.prop,t)}},{key:"addItem",value:function(){this.props.updateCharacterProperty(this.prop,[].concat(Object(De.a)(this.props.character[this.prop]||[]),[{}]))}}]),t}(l.a.Component),Me=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).prop="levels",a.heading="Levels",a.direction="row",a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"mapItem",value:function(e,t){var a=this;return l.a.createElement(Be,{key:e,level:t,updateLevelProperty:function(t,r){return a.updateItemProperty(e,t,r)},removeLevel:function(){return a.removeItem(e)}})}}]),t}(_e),Be=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.level,a=[];for(var r in N.classNameMap)a.push(l.a.createElement("option",{key:r,value:r},N.classNameMap[r]));return l.a.createElement("div",{className:Ne.a.row},l.a.createElement("div",{className:Ne.a.button,onClick:this.props.removeLevel,style:{background:"#333"}},l.a.createElement(Ce.a,{path:be.c,size:1,color:"#ccc"})),l.a.createElement("select",{value:t.className,onChange:function(t){return e.props.updateLevelProperty("className",t.target.value)}},a),l.a.createElement("input",{type:"number",min:"1",max:"20",value:t.level,onChange:function(t){return e.props.updateLevelProperty("level",t.target.value)}}))}}]),t}(l.a.Component),xe=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:Ne.a.columnCenter},l.a.createElement("div",{className:Ne.a.row},l.a.createElement(Re,Object.assign({prop:"acrobatics"},this.props)),l.a.createElement(Re,Object.assign({prop:"animalHandling"},this.props)),l.a.createElement(Re,Object.assign({prop:"arcana"},this.props)),l.a.createElement(Re,Object.assign({prop:"athletics"},this.props)),l.a.createElement(Re,Object.assign({prop:"deception"},this.props))),l.a.createElement("div",{className:Ne.a.row},l.a.createElement(Re,Object.assign({prop:"history"},this.props)),l.a.createElement(Re,Object.assign({prop:"insight"},this.props)),l.a.createElement(Re,Object.assign({prop:"intimidation"},this.props)),l.a.createElement(Re,Object.assign({prop:"investigation"},this.props)),l.a.createElement(Re,Object.assign({prop:"medicine"},this.props))),l.a.createElement("div",{className:Ne.a.row},l.a.createElement(Re,Object.assign({prop:"nature"},this.props)),l.a.createElement(Re,Object.assign({prop:"perception"},this.props)),l.a.createElement(Re,Object.assign({prop:"performance"},this.props)),l.a.createElement(Re,Object.assign({prop:"persuasion"},this.props)),l.a.createElement(Re,Object.assign({prop:"religion"},this.props))),l.a.createElement("div",{className:Ne.a.row},l.a.createElement(Re,Object.assign({prop:"sleightOfHand"},this.props)),l.a.createElement(Re,Object.assign({prop:"stealth"},this.props)),l.a.createElement(Re,Object.assign({prop:"survival"},this.props))))}}]),t}(l.a.Component),Re=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.character,r=t.prop;return l.a.createElement("div",{className:Ne.a.columnCenter},l.a.createElement("span",{className:Ne.a.label},N.getLongSkillName(r)),l.a.createElement("select",{value:(a.skills||{})[r],onChange:function(t){return e.updateSkillProperty(t.target.value)}},l.a.createElement("option",{value:0},"Not proficient"),l.a.createElement("option",{value:.5},"Half proficient"),l.a.createElement("option",{value:1},"Proficient"),l.a.createElement("option",{value:2},"Expertise")))}},{key:"updateSkillProperty",value:function(e){this.props.updateCharacterProperty("skills",Object(b.a)({},this.props.character.skills,Object(E.a)({},this.props.prop,e)))}}]),t}(l.a.Component),Ue=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).prop="spells",a.heading="",a.direction="column",a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"mapItem",value:function(e,t){var a=this;return l.a.createElement(Le,{spells:this.props.lookup,spell:t,key:e,character:this.props.character,removeItem:function(){return a.removeItem(e)},updateItemProperty:function(t,r){return a.updateItemProperty(e,t,r)}})}}]),t}(_e),Le=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=[],a=!0,r=!1,n=void 0;try{for(var c,i=this.props.spells[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var A=c.value;t.push(l.a.createElement("option",{value:A.id,key:A.id},A.name))}}catch(o){r=!0,n=o}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}return l.a.createElement("div",{className:Ne.a.action},l.a.createElement("div",{className:Ne.a.button,onClick:this.props.removeItem},l.a.createElement(Ce.a,{path:be.c,size:1,color:"#ccc"})),l.a.createElement("input",{type:"checkbox",checked:this.props.spell.prepared,onChange:function(t){return e.props.updateItemProperty("prepared",t.currentTarget.checked)}}),l.a.createElement("select",{value:this.props.spell.spellId,onChange:function(t){return e.props.updateItemProperty("spellId",t.currentTarget.value)}}," ",t," "))}}]),t}(l.a.Component),Fe=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).prop="traits",a.heading="",a.direction="column",a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"mapItem",value:function(e,t){var a=this;return l.a.createElement(Qe,{key:e,trait:t,updateTraitProperty:function(t,r){return a.updateItemProperty(e,t,r)},removeTrait:function(){return a.removeItem(e)}})}}]),t}(_e),Qe=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.trait;return l.a.createElement("div",{className:Ne.a.row},l.a.createElement("div",{className:Ne.a.button,onClick:this.props.removeTrait,style:{background:"#333"}},l.a.createElement(Ce.a,{path:be.c,size:1,color:"#ccc"})),l.a.createElement("input",{value:t.name,onChange:function(t){return e.props.updateTraitProperty("name",t.target.value)}}),l.a.createElement("textarea",{value:t.description,onChange:function(t){return e.props.updateTraitProperty("description",t.target.value)}}))}}]),t}(l.a.Component),Ge=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.effects;return l.a.createElement("div",{className:"column"},l.a.createElement("div",{className:"".concat(Ne.a.column," ").concat(Ne.a.center)},(t||[]).map(function(t,a){return l.a.createElement(He,{key:a,effect:t,updateEffectProperty:function(t,r){return e.updateEffectProperty(a,t,r)},removeEffect:function(){return e.removeEffect(a)}})}),l.a.createElement("div",{className:Ne.a.button,onClick:function(){return e.addEffect()}},l.a.createElement(Ce.a,{path:be.f,size:1,color:"#ccc"}))))}},{key:"updateEffectProperty",value:function(e,t,a){var r=Object(De.a)(this.props.effects);r[e][t]=a,this.props.updateEffects(r)}},{key:"removeEffect",value:function(e){var t=Object(De.a)(this.props.effects);t.splice(e,1),this.props.updateEffects(t)}},{key:"addEffect",value:function(){this.props.updateEffects([].concat(Object(De.a)(this.props.effects||[]),[{type:3}]))}}]),t}(l.a.Component),He=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.effect;a||(a={type:C.Text,text:"No effect"});switch(a.type){case C.ToHit:var r=a;e=l.a.createElement(Ye,Object.assign({toHitEffect:r},this.props));break;case C.Damage:var n=a;e=l.a.createElement(Ke,Object.assign({damageEffect:n},this.props));break;case C.SavingThrow:var c=a;e=l.a.createElement(Je,Object.assign({saveEffect:c},this.props));break;case C.Text:var i=a;e=l.a.createElement(We,Object.assign({textEffect:i},this.props))}return l.a.createElement("div",{className:"".concat(Ne.a.effect," ").concat(Ne.a.row)},l.a.createElement("div",{className:Ne.a.button,onClick:this.props.removeEffect},l.a.createElement(Ce.a,{path:be.c,size:1,color:"#ccc"})),l.a.createElement("select",{value:a.type,onChange:function(e){return t.props.updateEffectProperty("type",parseInt(e.target.value))}},l.a.createElement("option",{value:C.ToHit},"To Hit"),l.a.createElement("option",{value:C.Damage},"Damage"),l.a.createElement("option",{value:C.SavingThrow},"Saving Throw"),l.a.createElement("option",{value:C.Text},"Text")),e)}}]),t}(l.a.Component),Ye=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.toHitEffect,a=e.updateEffectProperty;return l.a.createElement("div",{className:Ne.a.effect},l.a.createElement("select",{value:t.ability,onChange:function(e){return a("ability",e.target.value)}},l.a.createElement("option",{value:""},"None"),l.a.createElement("option",{value:"strength"},"Strength"),l.a.createElement("option",{value:"dexterity"},"Dexterity"),l.a.createElement("option",{value:"constitution"},"Constitution"),l.a.createElement("option",{value:"intelligence"},"Intelligence"),l.a.createElement("option",{value:"wisdom"},"Wisdom"),l.a.createElement("option",{value:"charisma"},"Charisma")),"+",l.a.createElement("input",{value:t.bonus,type:"number",onChange:function(e){return a("bonus",parseInt(e.target.value))}}))}}]),t}(l.a.Component),Ke=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.damageEffect,a=e.updateEffectProperty;return l.a.createElement("div",{className:Ne.a.effect},l.a.createElement("input",{value:t.diceCount,type:"number",onChange:function(e){return a("diceCount",e.target.value)}}),l.a.createElement("select",{value:t.diceSize,onChange:function(e){return a("diceSize",parseInt(e.target.value))}},l.a.createElement("option",{value:4},"d4"),l.a.createElement("option",{value:6},"d6"),l.a.createElement("option",{value:8},"d8"),l.a.createElement("option",{value:10},"d10"),l.a.createElement("option",{value:12},"d12")),"+",l.a.createElement("select",{value:t.ability,onChange:function(e){return a("ability",e.target.value)}},l.a.createElement("option",{value:""},"None"),l.a.createElement("option",{value:"strength"},"Strength"),l.a.createElement("option",{value:"dexterity"},"Dexterity"),l.a.createElement("option",{value:"constitution"},"Constitution"),l.a.createElement("option",{value:"intelligence"},"Intelligence"),l.a.createElement("option",{value:"wisdom"},"Wisdom"),l.a.createElement("option",{value:"charisma"},"Charisma")),"+",l.a.createElement("input",{value:t.bonus,type:"number",onChange:function(e){return a("bonus",parseInt(e.target.value))}}),l.a.createElement("input",{value:t.damageType,onChange:function(e){return a("damageType",e.target.value)}}))}}]),t}(l.a.Component),Je=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.saveEffect,r=t.updateEffectProperty;return l.a.createElement("div",{className:Ne.a.effect},"DC Ability",l.a.createElement("select",{value:a.DCAbility,onChange:function(e){return r("DCability",e.target.value)}},l.a.createElement("option",{value:"strength"},"Strength"),l.a.createElement("option",{value:"dexterity"},"Dexterity"),l.a.createElement("option",{value:"constitution"},"Constitution"),l.a.createElement("option",{value:"intelligence"},"Intelligence"),l.a.createElement("option",{value:"wisdom"},"Wisdom"),l.a.createElement("option",{value:"charisma"},"Charisma")),l.a.createElement("select",{value:a.saveType,onChange:function(e){return r("saveType",e.target.value)}},l.a.createElement("option",{value:"strength"},N.getSaveName("strength")),l.a.createElement("option",{value:"dexterity"},N.getSaveName("dexterity")),l.a.createElement("option",{value:"constitution"},N.getSaveName("constitution")),l.a.createElement("option",{value:"intelligence"},N.getSaveName("intelligence")),l.a.createElement("option",{value:"wisdom"},N.getSaveName("wisdom")),l.a.createElement("option",{value:"charisma"},N.getSaveName("charisma"))),"On save:",l.a.createElement(He,{effect:a.onSave,removeEffect:function(){},updateEffectProperty:function(t,a){return e.updateInnerEffectProperty("onSave",t,a)}}),"On fail:",l.a.createElement(He,{effect:a.onFail,removeEffect:function(){},updateEffectProperty:function(t,a){return e.updateInnerEffectProperty("onFail",t,a)}}))}},{key:"updateInnerEffectProperty",value:function(e,t,a){var r=Object(b.a)({},this.props.effect[e]);r[t]=a,this.props.updateEffectProperty(e,r)}}]),t}(l.a.Component),We=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.textEffect,a=e.updateEffectProperty;return l.a.createElement("div",{className:Ne.a.effect},l.a.createElement("textarea",{value:t.text,onChange:function(e){return a("text",e.target.value)}}))}}]),t}(l.a.Component),ze=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).prop="attacks",a.heading="",a.direction="column",a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"mapItem",value:function(e,t){var a=this;return l.a.createElement(Ve,{attack:t,key:e,updateItemProperty:function(t,r){return a.updateItemProperty(e,t,r)},removeItem:function(){return a.removeItem(e)}})}}]),t}(_e),Ve=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.attack;return l.a.createElement("div",{className:Ne.a.row},l.a.createElement("div",{className:Ne.a.button,onClick:this.props.removeItem},l.a.createElement(Ce.a,{path:be.c,size:1,color:"#ccc"})),l.a.createElement("input",{className:Ne.a.italicHeading,value:t.title,placeholder:"Name",onChange:function(t){return e.props.updateItemProperty("title",t.target.value)}}),l.a.createElement("input",{className:Ne.a.italicHeading,value:t.range,type:"number",min:"0",placeholder:"range",onChange:function(t){return e.props.updateItemProperty("range",parseInt(t.target.value))}}),l.a.createElement("input",{className:Ne.a.italicHeading,value:t.longRange,type:"number",placeholder:"4",min:"0",onChange:function(t){return e.props.updateItemProperty("longRange",parseInt(t.target.value))}}),l.a.createElement(Ge,{effects:this.props.attack.effects,updateEffects:function(t){return e.props.updateItemProperty("effects",Object(De.a)(t))}}))}}]),t}(l.a.Component),Xe=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).prop="equipment",a.heading="",a.direction="column",a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"mapItem",value:function(e,t){var a=this;return l.a.createElement(qe,{item:t,key:e,character:this.props.character,updateItemProperty:function(t,r){return a.updateItemProperty(e,t,r)},removeItem:function(){return a.removeItem(e)}})}}]),t}(_e),qe=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item,a=[],r=function(r){var n=t.attacks[r];a.push(l.a.createElement(Ve,{key:r,attack:n,updateItemProperty:function(t,a){return e.updateAttackProperty(r,t,a)},removeItem:function(){return e.removeAttack(r)}}))};for(var n in t.attacks||[])r(n);return l.a.createElement("div",{className:Ne.a.column},l.a.createElement("div",{className:Ne.a.row},l.a.createElement("div",{className:Ne.a.button,onClick:this.props.removeItem},l.a.createElement(Ce.a,{path:be.c,size:1,color:"#ccc"})),l.a.createElement("input",{className:Ne.a.italicHeading,value:t.name,placeholder:"Name",onChange:function(t){return e.props.updateItemProperty("name",t.target.value)}}),l.a.createElement("input",{className:Ne.a.italicHeading,value:t.weight,type:"number",min:"0",placeholder:"weight",onChange:function(t){return e.props.updateItemProperty("weight",parseInt(t.target.value))}})),a,l.a.createElement("div",{className:Ne.a.button,onClick:function(){return e.addAttack()}},l.a.createElement(Ce.a,{path:be.f,size:1,color:"#ccc"})))}},{key:"updateAttackProperty",value:function(e,t,a){var r=Object(De.a)(this.props.item.attacks);r[e][t]=a,this.props.updateItemProperty("attacks",r)}},{key:"removeAttack",value:function(e){var t=Object(De.a)(this.props.item.attacks);t.splice(parseInt(e),1),this.props.updateItemProperty("attacks",t)}},{key:"addAttack",value:function(){this.props.updateItemProperty("attacks",[].concat(Object(De.a)(this.props.item.attacks||[]),[{}]))}}]),t}(l.a.Component),Ze=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).prop="resources",a.heading="",a.direction="column",a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"mapItem",value:function(e,t){var a=this;return l.a.createElement($e,{key:e,resource:t,updateResourceProperty:function(t,r){return a.updateItemProperty(e,t,r)},removeResource:function(){return a.removeItem(e)}})}}]),t}(_e),$e=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.resource;return l.a.createElement("div",{className:Ne.a.resource},l.a.createElement("div",{className:Ne.a.button,onClick:this.props.removeResource,style:{background:"#333"}},l.a.createElement(Ce.a,{path:be.c,size:1,color:"#ccc"})),l.a.createElement("input",{value:t.name,onChange:function(t){return e.props.updateResourceProperty("name",t.target.value)}}),":",l.a.createElement("input",{value:t.quantity,onChange:function(t){return e.props.updateResourceProperty("quantity",parseInt(t.target.value))}}),"/",l.a.createElement("input",{value:t.max,onChange:function(t){return e.props.updateResourceProperty("max",parseInt(t.target.value))}}))}}]),t}(l.a.Component),et=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.update.bind(this),t=this.props.character;return l.a.createElement("div",{className:Ne.a.columnCenter},l.a.createElement("span",{className:Ne.a.label},"Speed"),l.a.createElement("div",{className:"".concat(Ne.a.speedContainer," ").concat(Ne.a.row)},l.a.createElement(tt,{type:"walk",character:t,updateSpeedProperty:e}),l.a.createElement(tt,{type:"fly",character:t,updateSpeedProperty:e}),l.a.createElement(tt,{type:"climb",character:t,updateSpeedProperty:e}),l.a.createElement(tt,{type:"swim",character:t,updateSpeedProperty:e}),l.a.createElement(tt,{type:"burrow",character:t,updateSpeedProperty:e})))}},{key:"update",value:function(e,t){var a=Object(b.a)({},this.props.character.speed);a[e]=t,this.props.updateCharacterProperty("speed",a)}}]),t}(l.a.Component),tt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.type,r=(t.character.speed||{})[a]||0;return l.a.createElement("div",{className:Ne.a.speed},l.a.createElement("div",{className:Ne.a.label},a," (ft.)"),l.a.createElement("input",{value:r,type:"number",min:0,placeholder:"10",onChange:function(t){return e.props.updateSpeedProperty(a,t.target.value)}}))}}]),t}(l.a.Component),at=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={newCharacter:Object(b.a)({},a.props.character)},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.newCharacter,a=this.update.bind(this);return l.a.createElement("div",{className:"".concat(Ne.a.column," ").concat(Ne.a.characterSheet," 'popout'}")},l.a.createElement("div",{className:Ne.a.characterImageContainer},l.a.createElement(ie,{imageUrl:this.props.image?this.props.image.downloadUrl:t.imageRef,character:t,characterId:t.id,updateCharacter:this.props.updatePlayerCharacter})),l.a.createElement("div",{className:Ne.a.row},l.a.createElement("input",{className:Ne.a.name,value:t.name,placeholder:"Name",onChange:function(t){return e.update("name",t.target.value)}}),l.a.createElement("div",{onClick:function(){return e.abortEditSheet()},className:Ne.a.button},l.a.createElement(Ce.a,{path:be.a,size:1,color:"#a6792d"})),l.a.createElement("div",{onClick:function(){return e.saveSheet()},className:Ne.a.button},l.a.createElement(Ce.a,{path:be.b,size:1,color:"#a6792d"}))),l.a.createElement("div",{className:Ne.a.row},l.a.createElement("div",{className:Ne.a.columnCenter},l.a.createElement("span",{className:Ne.a.label},"Size"),l.a.createElement("select",{value:t.size,placeholder:"Size",onChange:function(t){return e.update("size",t.target.value)}},l.a.createElement("option",{value:r.Tiny},"Tiny"),l.a.createElement("option",{value:r.Small},"Small"),l.a.createElement("option",{value:r.Medium},"Medium"),l.a.createElement("option",{value:r.Large},"Large"),l.a.createElement("option",{value:r.Huge},"Huge"),l.a.createElement("option",{value:r.Gargantuan},"Gargantuan"))),l.a.createElement("div",{className:Ne.a.columnCenter},l.a.createElement("span",{className:Ne.a.label},"Race"),l.a.createElement("input",{value:t.race,placeholder:"Race",onChange:function(t){return e.update("race",t.target.value)}})),l.a.createElement("div",{className:Ne.a.columnCenter},l.a.createElement("span",{className:Ne.a.label},"Alignment"),l.a.createElement("input",{value:t.alignment,placeholder:"Alignment",onChange:function(t){return e.update("alignment",t.target.value)}})),l.a.createElement("div",{className:Ne.a.columnCenter},l.a.createElement(Me,{character:t,updateCharacterProperty:a}))),l.a.createElement("hr",null),l.a.createElement("div",{className:Ne.a.columnCenter},l.a.createElement(Pe,{character:t,updateCharacterProperty:a}),l.a.createElement("div",{className:Ne.a.row},l.a.createElement("div",{className:Ne.a.columnCenter},l.a.createElement("span",{className:Ne.a.label},"HP"),l.a.createElement("div",{className:Ne.a.row},l.a.createElement("input",{value:t.hp,type:"number",placeholder:"10",onChange:function(t){return e.update("hp",t.target.value)}}),"/",l.a.createElement("input",{value:t.maxHp,type:"number",placeholder:"20",onChange:function(t){return e.update("maxHp",t.target.value)}}))),l.a.createElement("div",{className:Ne.a.columnCenter},l.a.createElement("span",{className:Ne.a.label},"Hit dice"),l.a.createElement("input",{value:t.hitDice,type:"number",placeholder:"10",onChange:function(t){return e.update("hitDice",t.target.value)}})),l.a.createElement("div",{className:Ne.a.columnCenter},l.a.createElement("span",{className:Ne.a.label},"AC"),l.a.createElement("input",{value:t.ac,type:"number",placeholder:"20",onChange:function(t){return e.update("ac",t.target.value)}}))),l.a.createElement(xe,{character:t,updateCharacterProperty:a}),l.a.createElement(et,{character:t,updateCharacterProperty:a})),l.a.createElement("span",{className:Ne.a.subtitle},"Equipment"),l.a.createElement(Xe,{character:t,updateCharacterProperty:a}),l.a.createElement("span",{className:Ne.a.subtitle},"Spellcasting"),l.a.createElement(Ue,{character:t,updateCharacterProperty:a,lookup:this.props.spells}),l.a.createElement("span",{className:Ne.a.subtitle},"Innate Actions"),l.a.createElement(ze,{character:t,updateCharacterProperty:a}),l.a.createElement("span",{className:Ne.a.subtitle},"Traits"),l.a.createElement(Fe,{character:t,updateCharacterProperty:a}),l.a.createElement("span",{className:Ne.a.subtitle},"Resources"),l.a.createElement(Ze,{character:t,updateCharacterProperty:a}),l.a.createElement(Te,{character:t,updateCharacterProperty:a}))}},{key:"update",value:function(e,t){this.setState(function(a){var r={newCharacter:Object(b.a)({},a.newCharacter)};return r.newCharacter[e]=t,r})}},{key:"saveSheet",value:function(){this.props.updatePlayerCharacter(this.props.character.id,this.state.newCharacter),this.props.abortEditPlayerCharacter(this.props.character.id)}},{key:"abortEditSheet",value:function(){this.props.abortEditPlayerCharacter(this.props.character.id)}}]),t}(l.a.Component),rt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={editing:!1},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.editing?l.a.createElement(at,Object.assign({abortEditPlayerCharacter:this.props.abortEditPlayerCharacter},this.props)):l.a.createElement(Se,this.props)}}]),t}(l.a.Component),nt={CHAT:{SYNC:"CHAT.SYNC",SYNC_FAILED:"CHAT.SYNC_FAILED",NEW:{SAVE:"CHAT.NEW.SAVE"},OPEN:"CHAT.OPEN",CLOSE:"CHAT.CLOSE"}},ct=function(e){return{type:nt.CHAT.SYNC,messages:e}},it=function(e,t){return{type:nt.CHAT.NEW.SAVE,message:e,data:t}},At=function(e){return{type:nt.CHAT.SYNC_FAILED,error:e}},ot=function(){return{type:nt.CHAT.OPEN}},st=function(){return{type:nt.CHAT.CLOSE}},lt={ASSETS:{OPEN_SHEET:"ASSETS.OPEN_SHEET",PLAYERCHARACTER:{SYNC:"ASSETS.PLAYERCHARACTER.SYNC",SYNC_FAILED:"ASSETS.PLAYERCHARACTER.SYNC_FAILED",UPDATE:"ASSETS.PLAYERCHARACTER.UPDATE",NEW:{SAVE:"ASSETS.PLAYERCHARACTER.NEW.SAVE"}},NONPLAYERCHARACTER:{FILTER:{TEXT_CHANGE:"ASSETS.NONPLAYERCHARACTER.FILTER.TEXT_CHANGE"},LAST_UPDATE:{SYNC:"ASSETS.NONPLAYERCHARACTER.LAST_UPDATE.SYNC"},SYNC:"ASSETS.NONPLAYERCHARACTER.SYNC",SYNC_FAILED:"ASSETS.NONPLAYERCHARACTER.SYNC_FAILED",UPDATE:"ASSETS.NONPLAYERCHARACTER.UPDATE",NEW:{SAVE:"ASSETS.NONPLAYERCHARACTER.NEW.SAVE"}}}},ut=function(e){return{type:lt.ASSETS.OPEN_SHEET,characterId:e}},pt=function(e){return{type:lt.ASSETS.PLAYERCHARACTER.SYNC,playerCharacters:e}},dt=function(e){return{type:lt.ASSETS.PLAYERCHARACTER.SYNC_FAILED,error:e}},ht=function(e,t){return{type:lt.ASSETS.PLAYERCHARACTER.UPDATE,characterId:e,character:t}},mt=function(e){return{type:lt.ASSETS.NONPLAYERCHARACTER.SYNC,nonPlayerCharacters:e}},ft=function(e){return{type:lt.ASSETS.NONPLAYERCHARACTER.SYNC_FAILED,error:e}},gt=function(e,t){return{type:lt.ASSETS.NONPLAYERCHARACTER.UPDATE,characterId:e,character:t}},vt=function(e){return{type:lt.ASSETS.NONPLAYERCHARACTER.NEW.SAVE,nonPlayerCharacterData:e}},Et=function(e){return{type:lt.ASSETS.NONPLAYERCHARACTER.LAST_UPDATE.SYNC,lastUpdate:e}},bt=a(20),yt=a.n(bt),Ct=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ability,a=e.character,r=N.getAbilityModifier(a,t);return l.a.createElement("div",{className:yt.a.ability},l.a.createElement("div",{className:yt.a.abilityTitle},N.getShortAbilityName(t)),l.a.createElement(ue,{onClick:this.handleClick,showAdvantage:!0},"".concat(a[t]," (").concat(r>=0?"+".concat(r):r,")")))}},{key:"handleClick",value:function(e){w.doBasicRoll(this.props.character,"Ability",N.getLongAbilityName(this.props.ability),N.getAbilityModifier(this.props.character,this.props.ability),e,this.props.sendMessage)}}]),t}(l.a.Component),Ot=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:yt.a.abilityContainer},l.a.createElement(Ct,Object.assign({ability:"strength"},this.props)),l.a.createElement(Ct,Object.assign({ability:"dexterity"},this.props)),l.a.createElement(Ct,Object.assign({ability:"constitution"},this.props)),l.a.createElement(Ct,Object.assign({ability:"intelligence"},this.props)),l.a.createElement(Ct,Object.assign({ability:"wisdom"},this.props)),l.a.createElement(Ct,Object.assign({ability:"charisma"},this.props)))}}]),t}(l.a.Component),St=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.skill,t=N.getLongSkillName(e.skill);return l.a.createElement("div",{className:yt.a.skill},l.a.createElement("span",{style:{marginRight:"4px"}},t),l.a.createElement(ue,{showAdvantage:!0,onClick:this.handleClick},e.modifier>=0?"+".concat(e.modifier):e.modifier))}},{key:"handleClick",value:function(e){w.doBasicRoll(this.props.character,"Skill",N.getLongSkillName(this.props.skill.skill),this.props.skill.modifier,e,this.props.sendMessage)}}]),t}(l.a.Component),jt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.character;if(!e.skills||!e.skills.length)return null;var t=[];for(var a in e.skills){var r=e.skills[a];t.push(l.a.createElement(St,Object.assign({key:a,skill:r},this.props)))}return l.a.createElement("div",{className:yt.a.row},l.a.createElement("span",{className:yt.a.boldHeading},"Skills"),t)}}]),t}(l.a.Component),Nt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.character;if(!t.traits||!t.traits.length)return null;var a=[],r=function(r){var n=t.traits[r];a.push(l.a.createElement("div",{className:yt.a.trait,key:r},l.a.createElement(ue,{onClick:function(){return e.onClick(n)}},l.a.createElement("span",{className:yt.a.italicHeading},n.title,".")),l.a.createElement("span",null,n.description)))};for(var n in t.traits)r(n);return l.a.createElement("div",null,a)}},{key:"onClick",value:function(e){var t={type:"info",characterName:this.props.character.name,title:"Trait: ".concat(e.title),details:e.description};this.props.sendMessage("",t)}}]),t}(l.a.Component),It=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.character,r=t.actionProperty;if(!a[r]||!a[r].length)return null;var n=[],c=!1,i=function(t){var i=a[r][t],A=i.effects.map(function(e,t){switch(e.type){case C.Text:var a=e;return l.a.createElement("span",{key:t},a.text);case C.ToHit:var r=e;return c=!0,l.a.createElement("span",{key:t},r.modifier," to hit, range ",i.range," ft.");case C.Damage:var n=e;return l.a.createElement("span",{key:t},"Hit: ",n.diceCount,"d",n.diceSize,"+",n.bonus," ",n.damageType," damage.");default:return l.a.createElement("div",{key:t})}});n.push(l.a.createElement("div",{className:yt.a.action,key:t},l.a.createElement(ue,{showAdvantage:c,onClick:function(t){return e.doAction(i,t)}},l.a.createElement("span",{className:yt.a.italicHeading},i.name,".")),l.a.createElement("span",null,A)))};for(var A in a[r])i(A);return l.a.createElement("div",null,n)}},{key:"doAction",value:function(e,t){w.doAction(this.props.character,e,t,this.props.sendMessage)}}]),t}(l.a.Component),wt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.character;if(!e.senses)return null;var t=[];for(var a in e.senses){var r=e.senses[a];r&&t.push(l.a.createElement("div",{key:a},N.getSenseName(a)," ",r.toString()," ft."))}return l.a.createElement("div",{className:yt.a.row},l.a.createElement("span",{className:yt.a.boldHeading},"Senses"),t)}}]),t}(l.a.Component),Pt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"getFormat",value:function(e,t){return e.speed&&e.speed[t]?"".concat(e.speed[t]," ft. ").concat(N.getSpeedName(t)):""}},{key:"render",value:function(){var e=this.props.character,t=[this.getFormat(e,"walk"),this.getFormat(e,"fly"),this.getFormat(e,"climb"),this.getFormat(e,"swim"),this.getFormat(e,"burrow")].filter(function(e){return e}).join(", ");return l.a.createElement("div",{className:yt.a.row},l.a.createElement("span",{className:yt.a.boldHeading},"Speed"),l.a.createElement("span",null,t))}}]),t}(l.a.Component),kt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.save,a=e.character.saves[t],r=N.getLongAbilityName(t);return l.a.createElement("div",{className:yt.a.save},l.a.createElement("span",{style:{marginRight:"4px"}},r),l.a.createElement(ue,{showAdvantage:!0,onClick:this.handleClick},a>=0?"+".concat(a):a))}},{key:"handleClick",value:function(e){w.doBasicRoll(this.props.character,"Save",N.getSaveName(this.props.save),this.props.character.saves[this.props.save],e,this.props.sendMessage)}}]),t}(l.a.Component),Tt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.character;if(!e.saves)return null;var t=[];for(var a in e.saves)e.saves[a]&&t.push(l.a.createElement(kt,Object.assign({key:a,save:a},this.props)));return t.length?l.a.createElement("div",{className:yt.a.row},l.a.createElement("span",{className:yt.a.boldHeading},"Saving Throws"),t):null}}]),t}(l.a.Component),Dt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.character,r=t.editNonPlayerCharacter,n=t.characterId,c=t.inline;return l.a.createElement("div",{className:"".concat(yt.a.column," ").concat(yt.a.characterSheet," ").concat(c?yt.a.inline:"")},!c&&l.a.createElement("div",{className:yt.a.characterImageContainer},l.a.createElement(ie,{imageUrl:this.props.image?this.props.image.downloadUrl:a.imageRef,character:a,characterId:n,updateCharacter:this.props.updateNonPlayerCharacter})),l.a.createElement("div",{className:"".concat(yt.a.characterName," ").concat(yt.a.row)},l.a.createElement("span",null,a.name),l.a.createElement("div",{onClick:function(){return e.rollInitiative(0)},className:yt.a.button},l.a.createElement(ye.Icon,{path:be.g,size:1,color:"#a6792d"})),this.props.editNonPlayerCharacter&&l.a.createElement("div",{onClick:function(){return r(n)},className:yt.a.button},l.a.createElement(ye.Icon,{path:be.d,size:1,color:"#a6792d"}))),l.a.createElement("div",{className:yt.a.characterType},N.getSizeName(a.size)," ",a.class,", ",a.alignment),l.a.createElement("hr",{className:yt.a.divider}),l.a.createElement("div",null,l.a.createElement("span",{className:yt.a.boldHeading},"Armor Class"),l.a.createElement("span",null,a.ac," (",a.acType,")")),l.a.createElement("div",null,l.a.createElement("span",{className:yt.a.boldHeading},"Hit Points"),a.maxHp&&l.a.createElement("span",{className:yt.a.row},l.a.createElement(F,{value:a.hp,onEnter:function(t){return e.props.updateNonPlayerCharacter(e.props.characterId,Object(b.a)({},e.props.character,{hp:t}))}})," ","/"," ",l.a.createElement(F,{value:a.maxHp,onEnter:function(t){return e.props.updateNonPlayerCharacter(e.props.characterId,Object(b.a)({},e.props.character,{maxHp:t}))}}))||l.a.createElement("span",null,a.hpDice)),l.a.createElement(Pt,this.props),l.a.createElement("hr",{className:yt.a.divider}),l.a.createElement(Ot,this.props),l.a.createElement("hr",{className:yt.a.divider}),l.a.createElement(Tt,this.props),l.a.createElement(jt,this.props),a.damageResistances&&l.a.createElement("div",null,l.a.createElement("span",{className:yt.a.boldHeading},"Damage Resistances"),l.a.createElement("span",null,a.damageResistances)),a.damageImmunities&&l.a.createElement("div",null,l.a.createElement("span",{className:yt.a.boldHeading},"Damage Immunities"),l.a.createElement("span",null,a.damageImmunities)),a.conditionImmunities&&l.a.createElement("div",null,l.a.createElement("span",{className:yt.a.boldHeading},"Condition Immunities"),l.a.createElement("span",null,a.conditionImmunities)),l.a.createElement(wt,this.props),l.a.createElement("div",null,l.a.createElement("span",{className:yt.a.boldHeading},"Languages"),l.a.createElement("span",null,a.languages)),l.a.createElement("div",null,l.a.createElement("span",{className:yt.a.boldHeading},"Challenge"),l.a.createElement("span",null,a.cr)),l.a.createElement("hr",{className:yt.a.divider}),l.a.createElement(Nt,this.props),a.actions&&a.actions.length&&l.a.createElement("div",null,l.a.createElement("div",{className:yt.a.subheading},"Actions"),l.a.createElement(It,Object.assign({actionProperty:"actions"},this.props))),a.reactions&&a.reactions.length&&l.a.createElement("div",null,l.a.createElement("div",{className:yt.a.subheading},"Reactions"),l.a.createElement(It,Object.assign({actionProperty:"reactions"},this.props))),a.legendaryActions&&a.legendaryActions.length&&l.a.createElement("div",null,l.a.createElement("div",{className:yt.a.subheading},"Legendary Actions"),l.a.createElement("div",{style:{marginBottom:"8px"}},"The ".concat(a.name," can take ").concat(a.legendaryActionCount||1," legendary actions, choosing from the options below. Only one legendary action option can be used at a time and only at the end of another creature's turn. The ").concat(a.name," regains spent legendary actions at the start of its turn.")),l.a.createElement(It,Object.assign({actionProperty:"legendaryActions"},this.props))))}},{key:"rollInitiative",value:function(e){var t=N.getInitiativeModifier(this.props.character),a=(t<0?"":"+")+t,r=new I.DiceRoll("d20"+a),n={pcId:null,npcTokenId:this.props.tokenId,type:"roll",characterName:this.props.character.name,rollType:"Initiative",rollName:"Initiative",modifier:a,roll1Total:r.total,roll1Details:r.toString().match(/.*?: (.*?) =/)[1],roll1CritSuccess:20===r.rolls[0][0],roll1CritFail:1===r.rolls[0][0]};if(e){var c=new I.DiceRoll("d20"+a);n.rollAdvantageType=e,n.roll2Total=c.total,n.roll2Details=c.toString().match(/.*?: (.*?) =/)[1],n.roll2CritSuccess=20===c.rolls[0][0],n.roll2CritFail=1===c.rolls[0][0]}this.props.sendMessage("",n)}}]),t}(l.a.Component),_t=a(16),Mt=a.n(_t),Bt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.skill,a=[];for(var r in N.skillNameMap)a.push(l.a.createElement("option",{key:r,value:r},N.skillNameMap[r]));return l.a.createElement("div",{className:Mt.a.skill},l.a.createElement("div",{className:Mt.a.button,onClick:this.props.removeSkill,style:{background:"#333"}},l.a.createElement(Ce.a,{path:be.c,size:1,color:"#ccc"})),l.a.createElement("select",{value:t.skill,onChange:function(t){return e.props.updateSkillProperty("skill",t.target.value)}},a),l.a.createElement("input",{type:"number",min:"-30",max:"+30",value:t.modifier,onChange:function(t){return e.props.updateSkillProperty("modifier",t.target.value)}}))}}]),t}(l.a.Component),xt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.character,a=[],r=function(r){var n=r,c=t.skills[n];a.push(l.a.createElement(Bt,{key:n,skill:c,updateSkillProperty:function(t,a){return e.updateSkillProperty(n,t,a)},removeSkill:function(){return e.removeSkill(n)}}))};for(var n in t.skills)r(n);return l.a.createElement("div",{className:"row"},l.a.createElement("span",{className:Mt.a.boldHeading},"Skills"),l.a.createElement("div",{className:"".concat(Mt.a.column," ").concat(Mt.a.center)},a,l.a.createElement("div",{className:Mt.a.button,onClick:function(){return e.addSkill()}},l.a.createElement(Ce.a,{path:be.f,size:1,color:"#ccc"}))))}},{key:"updateSkillProperty",value:function(e,t,a){var r=Object(De.a)(this.props.character.skills);r[e][t]=a,this.props.updateCharacterProperty("skills",r)}},{key:"removeSkill",value:function(e){var t=Object(De.a)(this.props.character.skills);t.splice(parseInt(e),1),this.props.updateCharacterProperty("skills",t)}},{key:"addSkill",value:function(){this.props.updateCharacterProperty("skills",[].concat(Object(De.a)(this.props.character.skills||[]),[{skill:"acrobatics",modifier:0}]))}}]),t}(l.a.Component),Rt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.ability,r=t.character;return l.a.createElement("div",{className:Mt.a.ability},l.a.createElement("div",{className:Mt.a.abilityTitle},N.getShortAbilityName(a)),l.a.createElement("input",{value:r[a],type:"number",min:0,max:30,placeholder:"10",onChange:function(t){return e.props.updateCharacterProperty(a,t.target.value)}}))}}]),t}(l.a.Component),Ut=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:Mt.a.abilityContainer},l.a.createElement(Rt,Object.assign({ability:"strength"},this.props)),l.a.createElement(Rt,Object.assign({ability:"dexterity"},this.props)),l.a.createElement(Rt,Object.assign({ability:"constitution"},this.props)),l.a.createElement(Rt,Object.assign({ability:"intelligence"},this.props)),l.a.createElement(Rt,Object.assign({ability:"wisdom"},this.props)),l.a.createElement(Rt,Object.assign({ability:"charisma"},this.props)))}}]),t}(l.a.Component),Lt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.type,r=(t.character.speed||{})[a]||0;return l.a.createElement("div",{className:Mt.a.speed},l.a.createElement("div",{className:Mt.a.speedTitle},a," (ft.)"),l.a.createElement("input",{value:r,type:"number",min:0,placeholder:"10",onChange:function(t){return e.props.updateSpeedProperty(a,t.target.value)}}))}}]),t}(l.a.Component),Ft=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.update.bind(this),t=this.props.character;return l.a.createElement("div",{className:"row"},l.a.createElement("span",{className:Mt.a.boldHeading},"Speed"),l.a.createElement("div",{className:"".concat(Mt.a.speedContainer," ").concat(Mt.a.row)},l.a.createElement(Lt,{type:"walk",character:t,updateSpeedProperty:e}),l.a.createElement(Lt,{type:"fly",character:t,updateSpeedProperty:e}),l.a.createElement(Lt,{type:"climb",character:t,updateSpeedProperty:e}),l.a.createElement(Lt,{type:"swim",character:t,updateSpeedProperty:e}),l.a.createElement(Lt,{type:"burrow",character:t,updateSpeedProperty:e})))}},{key:"update",value:function(e,t){var a=Object(b.a)({},this.props.character.speed);a[e]=t,this.props.updateCharacterProperty("speed",a)}}]),t}(l.a.Component),Qt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.type,r=(t.character.senses||{})[a]||0;return l.a.createElement("div",{className:Mt.a.sense},l.a.createElement("div",{className:Mt.a.senseTitle},a," (ft.)"),l.a.createElement("input",{value:r,type:"number",min:0,placeholder:"10",onChange:function(t){return e.props.updateSenseProperty(a,t.target.value)}}))}}]),t}(l.a.Component),Gt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.update.bind(this),a=this.props.character;return l.a.createElement("div",{className:"row"},l.a.createElement("span",{className:Mt.a.boldHeading},"Senses"),l.a.createElement("div",{className:"".concat(Mt.a.speedContainer," ").concat(Mt.a.row)},l.a.createElement("div",null,l.a.createElement("label",null,"Blind"),l.a.createElement("input",{type:"checkbox",name:"blind",checked:a.senses&&a.senses.blind||!1,onChange:function(t){return e.update("blind",t.target.checked)}})),l.a.createElement(Qt,{type:"darkvision",character:a,updateSenseProperty:t}),l.a.createElement(Qt,{type:"blindsight",character:a,updateSenseProperty:t}),l.a.createElement(Qt,{type:"truesight",character:a,updateSenseProperty:t}),l.a.createElement(Qt,{type:"tremorsense",character:a,updateSenseProperty:t})))}},{key:"update",value:function(e,t){var a=Object(b.a)({},this.props.character.senses);a[e]=t,this.props.updateCharacterProperty("senses",a)}}]),t}(l.a.Component),Ht=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.type,r=(t.character.saves||{})[a]||0;return l.a.createElement("div",{className:Mt.a.save},l.a.createElement("div",{className:Mt.a.saveTitle},N.getShortAbilityName(a)),l.a.createElement("input",{value:r,type:"number",min:0,placeholder:"10",onChange:function(t){return e.props.updateSaveProperty(a,t.target.value)}}))}}]),t}(l.a.Component),Yt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.update.bind(this),t=this.props.character;return l.a.createElement("div",{className:"row"},l.a.createElement("span",{className:Mt.a.boldHeading},"Saving Throws"),l.a.createElement("div",{className:"".concat(Mt.a.savesContainer," ").concat(Mt.a.row)},l.a.createElement(Ht,{type:"strength",character:t,updateSaveProperty:e}),l.a.createElement(Ht,{type:"dexterity",character:t,updateSaveProperty:e}),l.a.createElement(Ht,{type:"constitution",character:t,updateSaveProperty:e}),l.a.createElement(Ht,{type:"intelligence",character:t,updateSaveProperty:e}),l.a.createElement(Ht,{type:"wisdom",character:t,updateSaveProperty:e}),l.a.createElement(Ht,{type:"charisma",character:t,updateSaveProperty:e})))}},{key:"update",value:function(e,t){var a=Object(b.a)({},this.props.character.saves);a[e]=t,this.props.updateCharacterProperty("saves",a)}}]),t}(l.a.Component),Kt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.trait;return l.a.createElement("div",{className:Mt.a.trait},l.a.createElement("div",{className:Mt.a.button,onClick:this.props.removeTrait},l.a.createElement(Ce.a,{path:be.c,size:1,color:"#ccc"})),l.a.createElement("input",{className:Mt.a.italicHeading,value:t.title,placeholder:"Title",onChange:function(t){return e.props.updateTraitProperty("title",t.target.value)}}),l.a.createElement("textarea",{value:t.description,placeholder:"Description",onChange:function(t){return e.props.updateTraitProperty("description",t.target.value)}}))}}]),t}(l.a.Component),Jt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.character,a=[],r=function(r){var n=r,c=t.traits[n];a.push(l.a.createElement(Kt,{key:n,trait:c,updateTraitProperty:function(t,a){return e.updateTraitProperty(n,t,a)},removeTrait:function(){return e.removeTrait(n)}}))};for(var n in t.traits)r(n);return l.a.createElement("div",{className:"column"},l.a.createElement("span",{className:Mt.a.subheading},"Traits"),l.a.createElement("div",{className:"".concat(Mt.a.column," ").concat(Mt.a.center)},a,l.a.createElement("div",{className:Mt.a.button,onClick:function(){return e.addTrait()}},l.a.createElement(Ce.a,{path:be.f,size:1,color:"#ccc"}))))}},{key:"updateTraitProperty",value:function(e,t,a){var r=Object(De.a)(this.props.character.traits);r[e][t]=a,this.props.updateCharacterProperty("traits",r)}},{key:"removeTrait",value:function(e){var t=Object(De.a)(this.props.character.traits);t.splice(parseInt(e),1),this.props.updateCharacterProperty("traits",t)}},{key:"addTrait",value:function(){this.props.updateCharacterProperty("traits",[].concat(Object(De.a)(this.props.character.traits||[]),[{title:"",description:""}]))}}]),t}(l.a.Component),Wt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.effect;a||(a={type:C.Text,text:"No effect"});switch(a.type){case C.ToHit:var r=a;e=l.a.createElement(zt,Object.assign({toHitEffect:r},this.props));break;case C.Damage:var n=a;e=l.a.createElement(Vt,Object.assign({damageEffect:n},this.props));break;case C.SavingThrow:var c=a;e=l.a.createElement(Xt,Object.assign({saveEffect:c},this.props));break;case C.Text:var i=a;e=l.a.createElement(qt,Object.assign({textEffect:i},this.props))}return l.a.createElement("div",{className:"".concat(Mt.a.effect," ").concat(Mt.a.row)},l.a.createElement("div",{className:Mt.a.button,onClick:this.props.removeEffect},l.a.createElement(Ce.a,{path:be.c,size:1,color:"#ccc"})),l.a.createElement("select",{value:a.type,onChange:function(e){return t.props.updateEffectProperty("type",parseInt(e.target.value))}},l.a.createElement("option",{value:C.ToHit},"To Hit"),l.a.createElement("option",{value:C.Damage},"Damage"),l.a.createElement("option",{value:C.SavingThrow},"Saving Throw"),l.a.createElement("option",{value:C.Text},"Text")),e)}}]),t}(l.a.Component),zt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.toHitEffect,a=e.updateEffectProperty;return l.a.createElement("div",{className:Mt.a.effect},l.a.createElement("input",{value:t.modifier,onChange:function(e){return a("modifier",e.target.value)}}))}}]),t}(l.a.Component),Vt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.damageEffect,a=e.updateEffectProperty;return l.a.createElement("div",{className:Mt.a.effect},l.a.createElement("input",{value:t.diceCount,type:"number",onChange:function(e){return a("diceCount",e.target.value)}}),l.a.createElement("select",{value:t.diceSize,onChange:function(e){return a("diceSize",parseInt(e.target.value))}},l.a.createElement("option",{value:4},"d4"),l.a.createElement("option",{value:6},"d6"),l.a.createElement("option",{value:8},"d8"),l.a.createElement("option",{value:10},"d10"),l.a.createElement("option",{value:12},"d12")),"+",l.a.createElement("input",{value:t.bonus,type:"number",onChange:function(e){return a("bonus",e.target.value)}}),l.a.createElement("input",{value:t.damageType,onChange:function(e){return a("damageType",e.target.value)}}))}}]),t}(l.a.Component),Xt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.saveEffect,r=t.updateEffectProperty;return l.a.createElement("div",{className:Mt.a.effect},"DC",l.a.createElement("input",{value:a.saveDC,type:"number",onChange:function(e){return r("saveDC",e.target.value)}}),l.a.createElement("select",{value:a.saveType,onChange:function(e){return r("saveType",e.target.value)}},l.a.createElement("option",{value:"strength"},N.getSaveName("strength")),l.a.createElement("option",{value:"dexterity"},N.getSaveName("dexterity")),l.a.createElement("option",{value:"constitution"},N.getSaveName("constitution")),l.a.createElement("option",{value:"intelligence"},N.getSaveName("intelligence")),l.a.createElement("option",{value:"wisdom"},N.getSaveName("wisdom")),l.a.createElement("option",{value:"charisma"},N.getSaveName("charisma"))),"On save:",l.a.createElement(Wt,{effect:a.onSave,removeEffect:function(){},updateEffectProperty:function(t,a){return e.updateInnerEffectProperty("onSave",t,a)}}),"On fail:",l.a.createElement(Wt,{effect:a.onFail,removeEffect:function(){},updateEffectProperty:function(t,a){return e.updateInnerEffectProperty("onFail",t,a)}}))}},{key:"updateInnerEffectProperty",value:function(e,t,a){var r=Object(b.a)({},this.props.effect[e]);r[t]=a,this.props.updateEffectProperty(e,r)}}]),t}(l.a.Component),qt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.textEffect,a=e.updateEffectProperty;return l.a.createElement("div",{className:Mt.a.effect},l.a.createElement("textarea",{value:t.text,onChange:function(e){return a("text",e.target.value)}}))}}]),t}(l.a.Component),Zt=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.effects;return l.a.createElement("div",{className:"column"},l.a.createElement("div",{className:"".concat(Mt.a.column," ").concat(Mt.a.center)},(t||[]).map(function(t,a){return l.a.createElement(Wt,{key:a,effect:t,updateEffectProperty:function(t,r){return e.updateEffectProperty(a,t,r)},removeEffect:function(){return e.removeEffect(a)}})}),l.a.createElement("div",{className:Mt.a.button,onClick:function(){return e.addEffect()}},l.a.createElement(Ce.a,{path:be.f,size:1,color:"#ccc"}))))}},{key:"updateEffectProperty",value:function(e,t,a){var r=Object(De.a)(this.props.effects);r[e][t]=a,this.props.updateEffects(r)}},{key:"removeEffect",value:function(e){var t=Object(De.a)(this.props.effects);t.splice(e,1),this.props.updateEffects(t)}},{key:"addEffect",value:function(){this.props.updateEffects([].concat(Object(De.a)(this.props.effects||[]),[{type:3}]))}}]),t}(l.a.Component),$t=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.action;return l.a.createElement("div",{className:Mt.a.action},l.a.createElement("div",{className:Mt.a.button,onClick:this.props.removeAction},l.a.createElement(Ce.a,{path:be.c,size:1,color:"#ccc"})),l.a.createElement("input",{className:Mt.a.italicHeading,value:t.name,placeholder:"Name",onChange:function(t){return e.props.updateActionProperty("name",t.target.value)}}),l.a.createElement(Zt,{effects:t.effects,updateEffects:function(t){return e.props.updateActionProperty("effects",Object(De.a)(t))}}))}},{key:"removeEffect",value:function(e){var t=Object(De.a)(this.props.action.effects);t.splice(parseInt(e),1),this.props.updateActionProperty("effects",t)}},{key:"addEffect",value:function(){this.props.updateActionProperty("effects",[].concat(Object(De.a)(this.props.action.effects||[]),[{type:"3",text:""}]))}}]),t}(l.a.Component),ea=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.character,r=t.actionProperty,n=[],c=function(t){var c=t,i=a[r][c];n.push(l.a.createElement($t,{key:c,action:i,updateActionProperty:function(t,a){return e.updateActionProperty(c,t,a)},removeAction:function(){return e.removeAction(c)}}))};for(var i in a[r]||[])c(i);return l.a.createElement("div",{className:"column"},l.a.createElement("div",{className:"".concat(Mt.a.column," ").concat(Mt.a.center)},n,l.a.createElement("div",{className:Mt.a.button,onClick:function(){return e.addAction()}},l.a.createElement(Ce.a,{path:be.f,size:1,color:"#ccc"}))))}},{key:"updateActionProperty",value:function(e,t,a){var r=Object(De.a)(this.props.character[this.props.actionProperty]);r[e][t]=a,this.props.updateCharacterProperty(this.props.actionProperty,r)}},{key:"removeAction",value:function(e){var t=Object(De.a)(this.props.character[this.props.actionProperty]);t.splice(parseInt(e),1),this.props.updateCharacterProperty(this.props.actionProperty,t)}},{key:"addAction",value:function(){this.props.updateCharacterProperty(this.props.actionProperty,[].concat(Object(De.a)(this.props.character[this.props.actionProperty]||[]),[{title:"",description:""}]))}}]),t}(l.a.Component),ta=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={newCharacter:Object(b.a)({},a.props.character)},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.newCharacter,a=this.update.bind(this);return l.a.createElement("div",{className:"column character-sheet popout"},l.a.createElement("div",{className:"column ".concat(Mt.a.characterSheet," popout")},l.a.createElement("div",{className:Mt.a.characterImageContainer},l.a.createElement(ie,{imageUrl:this.props.image?this.props.image.downloadUrl:t.imageRef,character:t,characterId:this.props.characterId,updateCharacter:this.props.updateNonPlayerCharacter})),l.a.createElement("div",{className:Mt.a.characterName+" row"},l.a.createElement("input",{value:t.name,placeholder:"Name",onChange:function(t){return e.update("name",t.target.value)}}),l.a.createElement("div",{onClick:function(){return e.abortEditSheet()},className:Mt.a.button},l.a.createElement(ye.Icon,{path:be.a,size:1,color:"#a6792d"})),l.a.createElement("div",{onClick:function(){return e.saveSheet()},className:Mt.a.button},l.a.createElement(ye.Icon,{path:be.b,size:1,color:"#a6792d"}))),l.a.createElement("div",{className:Mt.a.characterType},l.a.createElement("select",{value:t.size,placeholder:"Size",onChange:function(t){return e.update("size",t.target.value)}},l.a.createElement("option",{value:r.Tiny},"Tiny"),l.a.createElement("option",{value:r.Small},"Small"),l.a.createElement("option",{value:r.Medium},"Medium"),l.a.createElement("option",{value:r.Large},"Large"),l.a.createElement("option",{value:r.Huge},"Huge"),l.a.createElement("option",{value:r.Gargantuan},"Gargantuan")),l.a.createElement("input",{value:t.class,placeholder:"Class",onChange:function(t){return e.update("class",t.target.value)}}),l.a.createElement("input",{value:t.alignment,placeholder:"Alignment",onChange:function(t){return e.update("alignment",t.target.value)}})),l.a.createElement("hr",{className:Mt.a.divider}),l.a.createElement("div",null,l.a.createElement("span",{className:Mt.a.boldHeading},"Armor Class"),l.a.createElement("span",null,l.a.createElement("input",{value:t.ac,type:"number",min:"0",onChange:function(t){return e.update("ac",t.target.value||0)}}),l.a.createElement("input",{value:t.acType,placeholder:"natural armor",onChange:function(t){return e.update("acType",t.target.value)}}))),l.a.createElement("div",null,l.a.createElement("span",{className:Mt.a.boldHeading},"Hit Points"),l.a.createElement("span",null,l.a.createElement("input",{value:t.hpDice,placeholder:"8d10 + 40",onChange:function(t){return e.update("hpDice",t.target.value)}}))),l.a.createElement(Ft,{updateCharacterProperty:a,character:t}),l.a.createElement("hr",{className:Mt.a.divider}),l.a.createElement(Ut,{updateCharacterProperty:a,character:t}),l.a.createElement("hr",{className:Mt.a.divider}),l.a.createElement(Yt,{updateCharacterProperty:a,character:t}),l.a.createElement(xt,{updateCharacterProperty:a,character:t}),l.a.createElement("div",null,l.a.createElement("span",{className:Mt.a.boldHeading},"Damage Resistances"),l.a.createElement("input",{value:t.damageResistances,placeholder:"cold",onChange:function(t){return e.update("damageResistances",t.target.value)}})),l.a.createElement("div",null,l.a.createElement("span",{className:Mt.a.boldHeading},"Damage Immunities"),l.a.createElement("input",{value:t.damageImmunities,placeholder:"cold",onChange:function(t){return e.update("damageImmunities",t.target.value)}})),l.a.createElement("div",null,l.a.createElement("span",{className:Mt.a.boldHeading},"Condition Immunities"),l.a.createElement("input",{value:t.conditionImmunities,placeholder:"poisoned",onChange:function(t){return e.update("conditionImmunities",t.target.value)}})),l.a.createElement(Gt,{updateCharacterProperty:a,character:t}),l.a.createElement("div",null,l.a.createElement("span",{className:Mt.a.boldHeading},"Languages"),l.a.createElement("input",{value:t.languages,placeholder:"Common",onChange:function(t){return e.update("languages",t.target.value)}})),l.a.createElement("div",null,l.a.createElement("span",{className:Mt.a.boldHeading},"Challenge"),l.a.createElement("input",{value:t.cr,placeholder:"1/2",onChange:function(t){return e.update("cr",t.target.value)}})),l.a.createElement("hr",{className:Mt.a.divider}),l.a.createElement(Jt,{updateCharacterProperty:a,character:t}),l.a.createElement("div",{className:Mt.a.subheading},"Actions"),l.a.createElement(ea,{updateCharacterProperty:a,character:t,actionProperty:"actions"}),l.a.createElement("div",{className:Mt.a.subheading},"Reactions"),l.a.createElement(ea,{updateCharacterProperty:a,character:t,actionProperty:"reactions"}),l.a.createElement("div",{className:Mt.a.subheading},"Legendary Actions"),l.a.createElement("label",null,"Number of legendary actions:"),l.a.createElement("input",{value:t.legendaryActionCount,type:"number",min:1,onChange:function(t){return e.update("legendaryActionCount",t.target.value)}}),l.a.createElement(ea,{updateCharacterProperty:a,character:t,actionProperty:"legendaryActions"})))}},{key:"update",value:function(e,t){this.setState(function(a){var r={newCharacter:Object(b.a)({},a.newCharacter)};return r.newCharacter[e]=t,r})}},{key:"saveSheet",value:function(){this.props.updateNonPlayerCharacter(this.props.characterId,this.state.newCharacter),this.props.abortEditNonPlayerCharacter(this.props.characterId)}},{key:"abortEditSheet",value:function(){this.props.abortEditNonPlayerCharacter(this.props.characterId)}}]),t}(l.a.Component),aa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={editing:!1},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.editing?l.a.createElement(ta,Object.assign({abortEditNonPlayerCharacter:this.props.abortEditNonPlayerCharacter},this.props)):l.a.createElement(Dt,this.props)}}]),t}(l.a.Component),ra={CHARACTERS:{EDIT_SHEET:"CHARACTERS.EDIT_SHEET",ABORT_EDIT_SHEET:"CHARACTERS.ABORT_EDIT_SHEET"}},na=function(e){return{type:ra.CHARACTERS.EDIT_SHEET,characterId:e}},ca=function(e){return{type:ra.CHARACTERS.ABORT_EDIT_SHEET,characterId:e}},ia=a(47),Aa=a.n(ia),oa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={win:null,el:null},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.el;return e?Aa.a.createPortal(this.props.children,e):null}},{key:"componentDidMount",value:function(){var e,t,a=this,r=window.open("","","width=".concat(this.props.width||600,",height=").concat(this.props.height||400,",left=200,top=200,toolbar=no,menubar=no,scrollbars=yes,resizable=yes")),n=document.createElement("div");r.document.body.appendChild(n),r.document.title=this.props.title||"",e=document,t=r.document,Array.from(e.styleSheets).forEach(function(a){try{if(a.href){var r=e.createElement("link");r.href=a.href,r.rel="stylesheet",t.head.appendChild(r)}else if(a.cssRules){var n=e.createElement("style");Array.from(a.cssRules).forEach(function(t){n.appendChild(e.createTextNode(t.cssText.replace(/url\("\//g,'url("'.concat(window.location.protocol,"//").concat(window.location.host,"/"))))}),t.head.appendChild(n)}}catch(c){}}),r.addEventListener("beforeunload",function(){a.props.onClose&&a.props.onClose()}),window.addEventListener("beforeunload",function(){a.state.win&&a.state.win.close()}),this.setState({win:r,el:n})}},{key:"componentWillUnmount",value:function(){this.state.win.close()}}]),t}(s.Component),sa=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.images,r=t.playerCharacters,n=t.nonPlayerCharacters,c=t.editingCharacterSheets;if(!t.activeCharacterSheetId)return null;var i=r.find(function(t){return t.id===e.props.activeCharacterSheetId});if(i){var A=a.find(function(e){return e.filePath===i.imageRef});return l.a.createElement(oa,{title:"Character Sheet",width:1024,height:768,onClose:function(){return e.props.openCharacterSheet(null)}},l.a.createElement(rt,Object.assign({character:i,image:A,editing:c.some(function(e){return e===i.id})},this.props)))}var o=n.find(function(t){return t.id===e.props.activeCharacterSheetId});if(o){var s=a.find(function(e){return e.filePath===o.imageRef});return l.a.createElement(oa,{title:"Character Sheet",width:800,height:600,onClose:function(){return e.props.openCharacterSheet(null)}},l.a.createElement(aa,Object.assign({character:o,characterId:this.props.activeCharacterSheetId,image:s,editing:c.some(function(t){return t===e.props.activeCharacterSheetId})},this.props)))}return null}}]),t}(s.Component),la=Object(m.c)(function(e){return{playerCharacters:e.assets.playerCharacters,nonPlayerCharacters:e.assets.nonPlayerCharacters,editingCharacterSheets:e.characters.editingCharacterSheets,activeCharacterSheetId:e.assets.activeCharacterSheetId,images:e.images.images,spells:e.spells.spells}},function(e){return{sendMessage:function(t,a){return e(it(t,a))},updatePlayerCharacter:function(t,a){return e(ht(t,a))},editPlayerCharacter:function(t){return e(na(t))},abortEditPlayerCharacter:function(t){return e(ca(t))},updateNonPlayerCharacter:function(t,a){return e(gt(t,a))},editNonPlayerCharacter:function(t){return e(na(t))},abortEditNonPlayerCharacter:function(t){return e(ca(t))},openCharacterSheet:function(t){return e(ut(t))}}})(sa),ua={STORAGE:{SEND_FILE:"STORAGE.SEND_FILE",SEND_FILE_SUCCESS:"STORAGE.SEND_FILE_SUCCESS",SEND_FILE_FAILURE:"STORAGE.SEND_FILE_FAILURE",SEND_FILE_PROGRESS:"STORAGE.SEND_FILE_PROGRESS"}},pa=function(e){return{type:ua.STORAGE.SEND_FILE_PROGRESS,progress:e}},da=function(){return{type:ua.STORAGE.SEND_FILE_SUCCESS}},ha=function(e){return{type:ua.STORAGE.SEND_FILE_FAILURE,error:e}},ma=a(17),fa=a(80),ga=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).handleHitAreaTypeChange=function(e){a.setState({hitAreaType:e.target.value})},a.state={uploadName:"",file:null,hitAreaType:"default"},a.onUpload=a.onUpload.bind(Object(f.a)(a)),a.onChangeFile=a.onChangeFile.bind(Object(f.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"onChangeFile",value:function(e){var t=e.target.files[0];this.setState({file:t})}},{key:"onUpload",value:function(e){this.state.file&&(this.state.uploadName&&0!==this.state.uploadName.length&&new RegExp(/^[a-z0-9_-]+$/,"i").test(this.state.uploadName)&&this.props.onUpload(this.state.uploadName,this.state.file))}},{key:"render",value:function(){var e=this,t=this.props.classes;return l.a.createElement("div",{className:t.wrapper},l.a.createElement(ma.n,{label:"Upload Name",onChange:function(t){return e.setState({uploadName:t.target.value})},disabled:this.props.inProgress,margin:"normal"}),l.a.createElement(ma.g,{onChange:this.onChangeFile,type:"file",margin:"dense"}),l.a.createElement(ma.a,{className:t.button,variant:"contained",onClick:this.onUpload,disabled:this.props.inProgress,color:"primary"},"Upload"),l.a.createElement(ma.c,{className:t.formControl},l.a.createElement(ma.h,{htmlFor:"hitAreaType"},"Hit Area Type"),l.a.createElement(ma.l,{value:this.state.hitAreaType,onChange:this.handleHitAreaTypeChange,inputProps:{name:"hitAreaType",id:"hitAreaType"}},l.a.createElement(ma.j,{value:"default"},"Default (Bounds)"),l.a.createElement(ma.j,{value:"circle"},"Circle"))),l.a.createElement(ma.i,{value:this.props.progress,variant:"determinate",color:"secondary"}))}}]),t}(s.Component),va=Object(fa.withStyles)(function(e){return{wrapper:{display:"flex",flexDirection:"column",padding:"5px"},button:{marginTop:"10px",marginBottom:"10px"}}})(ga);!function(e){e.DEFAULT="default",e.CIRCLE="circle"}(ce||(ce={}));var Ea,ba=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(va,{onUpload:this.props.sendFile,progress:this.props.uploadProgress,inProgress:this.props.uploading})}}]),t}(s.Component),ya=Object(m.c)(function(e){return{uploadProgress:e.storage.uploadProgress,uploading:e.storage.uploading}},function(e){return{sendFile:function(t,a){return e(function(e,t,a){return{type:ua.STORAGE.SEND_FILE,name:e,file:t,hitAreaType:a}}(t,a,ce.DEFAULT))}}})(ba),Ca=a(206),Oa=a.n(Ca),Sa=a(130),ja=a.n(Sa),Na={LOGIN:{REQUEST:"LOGIN.REQUEST",SUCCESS:"LOGIN.SUCCESS",FAILURE:"LOGIN.FAILURE"},LOGOUT:{REQUEST:"LOGOUT.REQUEST",SUCCESS:"LOGOUT.SUCCESS",FAILURE:"LOGOUT.FAILURE"},DM:{SET:"AUTH.DM.SET"},CAN_BE_DM:{SET:"AUTH.CAN_BE_DM.SET"}},Ia=function(e,t){return{type:Na.LOGIN.REQUEST,username:e,password:t}},wa=function(e){return{type:Na.LOGIN.SUCCESS,user:e}},Pa=function(e){return{type:Na.LOGIN.FAILURE,error:e}},ka=function(){return{type:Na.LOGOUT.REQUEST}},Ta=function(){return{type:Na.LOGOUT.SUCCESS}},Da=function(e){return{type:Na.LOGOUT.FAILURE,error:e}},_a=function(e){return{type:Na.CAN_BE_DM.SET,value:e}},Ma=a(477),Ba=a.n(Ma),xa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={username:"",password:""},a.updateState=a.updateState.bind(Object(f.a)(a)),a.login=a.login.bind(Object(f.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"updateState",value:function(e,t){var a={};a[e]=t,this.setState(a)}},{key:"login",value:function(){0!==this.state.username.length&&0!==this.state.password.length&&this.props.login(this.state.username,this.state.password)}},{key:"render",value:function(){var e=this,t=this.props,a=t.loggedIn;t.logout;return a?l.a.createElement("div",null):l.a.createElement("div",{className:Ba.a.wrapper},l.a.createElement(ja.a,{label:"Username",onChange:function(t){return e.updateState("username",t.target.value)},value:this.state.username,margin:"normal"}),l.a.createElement(ja.a,{label:"Password",onChange:function(t){return e.updateState("password",t.target.value)},value:this.state.password,margin:"normal",onKeyUp:function(t){13===t.keyCode&&e.login()}}),l.a.createElement(Oa.a,{variant:"contained",color:"primary",onClick:function(){return e.login()}},"Login"))}}]),t}(s.PureComponent),Ra=Object(m.c)(function(e){return{loggedIn:e.auth.loggedIn}},function(e){return{login:function(t,a){return e(Ia(t,a))},logout:function(){return e(ka())}}})(xa),Ua=a(50),La=a(13),Fa=a(209),Qa={background:0,tokens:1},Ga=function(e,t,a){return Math.pow(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2),.5)/a/40},Ha=function(e){if(null===e||void 0===e)return null;var t=e.reduce(function(e,t,a){var r=Math.floor(a/2),n=a%2===0,c=((n?e.x:e.y)*r+t)/(r+1);return Object(b.a)({},e,Object(E.a)({},n?"x":"y",c))},{x:0,y:0});return[t.x,t.y]},Ya=a(91),Ka=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(i.a)(this,Object(A.a)(t).call(this));var r=new La.Graphics;r.filters=[new Ya.a(1,2105376)],r.name="ruler",a.visible=e.visible;var c=new La.Text(e.distance||"",{fill:"#ccc"});return c.filters=[new Ya.a(1,2105376)],c.name="distanceText",a.addChild(r),a.addChild(c),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"redraw",value:function(e,t){var a=this.getChildByName("ruler"),r=this.getChildByName("distanceText");a.clear();var n=t.color||13802040;if(t.measuring&&t.start&&t.end){var c=a.toLocal(t.start),i=a.toLocal(t.end),A=Math.atan2(t.end.y-t.start.y,t.end.x-t.start.x);a.beginFill(n,.8),a.drawCircle(c.x,c.y,t.thickness*t.scale||20),a.endFill();var o=15*t.scale;a.lineStyle(t.thickness*t.scale||20,n).moveTo(c.x,c.y).lineTo(i.x,i.y).beginFill(n).drawPolygon([i.x,i.y,i.x-o*Math.cos(A)-o*Math.sin(A)/3,i.y-o*Math.sin(A)+o*Math.cos(A)/3,i.x-o/2*Math.cos(A),i.y-o/2*Math.sin(A),i.x-o*Math.cos(A)+o*Math.sin(A)/3,i.y-o*Math.sin(A)-o*Math.cos(A)/3,i.x,i.y]).endFill(),r.position.set(i.x+10*t.scale,i.y+10*t.scale),r.style.fontSize=25*t.scale}t.distance!==e.distance&&(r.text=t.distance||""),this.visible=t.visible}}]),t}(La.Container),Ja=Object(Ua.PixiComponent)("Ruler",{create:function(e){return new Ka(e)},applyProps:function(e,t,a){e.redraw(t,a)},didMount:function(e,t){},willUnmount:function(e,t){}}),Wa=Object(Ua.PixiComponent)("BasicFogLayer",{create:function(e){var t=new La.Container;t.position.set(0,0),t.pivot.set(.5,.5);var a=new La.Graphics;a.name="curtain",t.addChild(a);var r=new La.Graphics;return r.name="mask",t.addChild(r),t},applyProps:function(e,t,a){if(e.interactive=a.editing,(t.fogData||a.fogData)&&a.fogData.maskPolygons&&0!==Object.keys(a.fogData.maskPolygons).length){var r=e.getChildByName("mask"),n=e.getChildByName("curtain");if(r&&n){var c=("string"===typeof a.fogData.colour&&a.fogData.colour.startsWith("#")?a.fogData.colour.replace("#","0x"):a.fogData.colour)||0;n.clear(),n.beginFill(c,a.dm?.5:1),n.drawRect(-1e7,-1e7,2e7,2e7),n.endFill(),r.clear(),r.beginFill(16777215),Object.keys(a.fogData.maskPolygons).forEach(function(e){var t=a.fogData.maskPolygons[e];if(t&&t.points&&t.points.length%2===0){var n=t.points.map(function(e,a){return a%2===0?e+t.position.x:e+t.position.y});r.drawPolygon(n)}}),r.endFill();var i=32*a.viewportZoom;e.filters=[new La.filters.BlurFilter(i),new La.filters.AlphaFilter],e.filters[1].blendMode=La.BLEND_MODES.MULTIPLY}}},didMount:function(e,t){e.on("click",function(e){})},willUnmount:function(e,t){e.off("click")}}),za=a(63),Va=a.n(za),Xa=a(478),qa=a.n(Xa),Za=Object(Ua.PixiComponent)("Viewport",{create:function(e){var t=new qa.a({screenWidth:e.screenWidth,screenHeight:e.screenHeight,worldWidth:1e3,worldHeight:1e3,divWheel:e.app?e.app.renderer.plugins.interaction.interactionDOMElement:null,interaction:e.app?e.app.renderer.plugins.interaction:null});return t.clampZoom({minWidth:1e3,minHeight:1e3}),t.name=e.name||"viewport",t.drag({mouseButtons:"right"}).pinch().wheel({smooth:5}).decelerate(),t.on("zoomed",function(){e.onZoom&&e.onZoom(t.scale.x)}),t},applyProps:function(e,t,a){t.screenWidth===a.screenWidth&&t.screenHeight===a.screenHeight||e.resize(a.screenWidth,a.screenHeight)}}),$a=a(479),er=a.n($a),tr=a(480),ar=a.n(tr),rr=a(481),nr=a.n(rr),cr=a(482),ir=a.n(cr),Ar=a(483),or=a.n(Ar),sr=a(484),lr=a.n(sr),ur=Object(Ua.PixiComponent)("Ping",{create:function(e){var t=new La.Container;t.pivot.set(.5,.5),t.position.set(e.position.x,e.position.y),e.viewportZoom&&t.scale.set(1/e.viewportZoom*.6,1/e.viewportZoom*.6);var a=[La.Texture.fromImage(er.a),La.Texture.fromImage(ar.a),La.Texture.fromImage(nr.a),La.Texture.fromImage(ir.a),La.Texture.fromImage(or.a),La.Texture.fromImage(lr.a)],r=new La.extras.AnimatedSprite(a);return r.anchor.set(.5,.5),r.animationSpeed=.1,r.tint=e.colour||16711680,r.play(),t.addChild(r),t},applyProps:function(e,t,a){t.viewportZoom!==a.viewportZoom&&e.scale.set(1/a.viewportZoom*.6,1/a.viewportZoom*.6)},didMount:function(e,t){},willUnmount:function(e,t){}}),pr=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(i.a)(this,Object(A.a)(t).call(this))).midPointIndex=void 0,e.on("mouseover",e.onMouseOver),e.on("mouseout",e.onMouseOut),e.on("click",e.onMouseClick),e}return Object(o.a)(t,e),Object(c.a)(t,[{key:"onMouseClick",value:function(){console.log("Mouse Click Midpoint");var e=this.parent;e&&e.addNewPoint(this.midPointIndex,this.position)}},{key:"onMouseOver",value:function(){console.log("Mouse Over Midpoint")}},{key:"onMouseOut",value:function(){console.log("Mouse Out Midpoint")}}]),t}(La.Graphics),dr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this))).pointIndex=void 0,a._handleRect=void 0,a._fill=void 0,a._dragging=void 0,a._dragData=void 0,a._handleRect=e,a._fill=!1,a._dragging=!1,a._dragData=null,a.on("mouseover",a.onMouseOver),a.on("mouseout",a.onMouseOut),a.on("mousedown",a.onMouseDown),a.on("mouseup",a.onMouseUp),a.on("mousemove",a.onMouseMove),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"onMouseDown",value:function(e){e.stopPropagation(),this._fill=!0,this._dragging=!0,this._dragData=e.data}},{key:"onMouseUp",value:function(e){e.stopPropagation(),this._fill=!1,this._dragging=!1,this._dragData=null;var t=this.parent;t&&t.triggerUpdate()}},{key:"onMouseMove",value:function(e){if(this._dragging){e.stopPropagation();var t=this._dragData.getLocalPosition(e.currentTarget.parent);this.position.set(t.x,t.y);var a=this.parent;if(a){var r=Object(De.a)(a.localPoints);r.splice(2*this.pointIndex,2),r.splice(2*this.pointIndex,0,t.x,t.y),a.updateLocal(r)}}}},{key:"onMouseOver",value:function(e){console.log("Mouse Over Handle"),this.alpha=.7}},{key:"onMouseOut",value:function(e){this._fill=!1,console.log("Mouse Out Handle"),this.alpha=1}},{key:"dragging",get:function(){return this._dragging}},{key:"dragData",get:function(){return this._dragData}}]),t}(La.Graphics),hr=a(485),mr=a.n(hr),fr=function(e){function t(e,a){var r;Object(n.a)(this,t),(r=Object(i.a)(this,Object(A.a)(t).call(this))).updateLocal=function(e){e&&(r._localPoints=e,r._pPoints=r.convertToPoints(r._localPoints));var t=r.getChildByName("poly");if(t){var a=new La.Polygon(r._localPoints);t.clear(),t.lineStyle(8,65280),t.beginFill(r._deleteHover?12657700:65280,.4),t.drawPolygon(a),t.endFill(),t.hitArea=a}r.redrawDeleteHandle(),r._midPoints.forEach(function(e){return r.removeChild(e)}),r.redrawMidpoints()},r.addNewPoint=function(e,t){var a=Object(De.a)(r._localPoints);a.splice(2*e+2,0,t.x,t.y),r.updateLocal(a),r.redrawHandles()},r.closePolygonIfPossible=function(){},r._onUpdate=void 0,r._viewportZoom=1,r._deleteHover=!1,r._pPoints=[],r._localPoints=[],r._handles=[],r._midPoints=[],r._dragging=!1,r._dragData=null,r._dragGrabOffset=null;var c=new La.Polygon(e);r._onUpdate=a,r._localPoints=e,r._pPoints=r.convertToPoints(r._localPoints);var o=new La.Graphics;o.lineStyle(8,65280),o.beginFill(65280,.4),o.drawPolygon(c),o.endFill(),o.name="poly",o.hitArea=c,o.interactive=!0,o.on("mousedown",r.onMouseDown.bind(Object(f.a)(r))),o.on("mousemove",r.onMouseMove.bind(Object(f.a)(r))),o.on("mouseup",r.onMouseUp.bind(Object(f.a)(r))),r.addChild(o);var s=La.Sprite.fromImage(mr.a,void 0,1);s.name="delete",s.width=568,s.height=1024,s.anchor.set(.5,.5),s.interactive=!0,s.buttonMode=!0,s.on("click",function(e){console.log("Delete clicked"),r._delete()}),s.on("mouseover",function(e){s.tint=16711680,r._deleteHover=!0,r.updateLocal()}),s.on("mouseout",function(e){s.tint=16777215,r._deleteHover=!1,r.updateLocal()});var l=Ha(r._localPoints);return s.position.set(l[0],l[1]),r.addChild(s),r.redrawHandles(),r.redrawMidpoints(),r.redrawDeleteHandle(),r}return Object(o.a)(t,e),Object(c.a)(t,[{key:"triggerUpdate",value:function(){this._onUpdate&&this._onUpdate(this.position,this._localPoints)}},{key:"_delete",value:function(){this._onUpdate&&this._onUpdate(this.position,null)}},{key:"redrawDeleteHandle",value:function(){var e=this.getChildByName("delete");if(e){var t=Ha(this._localPoints),a=1/this._viewportZoom*.12;e.position.set(t[0],t[1]),e.scale.set(a,a)}}},{key:"redrawHandles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;this._handles.forEach(function(t){return e.removeChild(t)}),this._handles=[],t*=1/this._viewportZoom;var a=1/this._viewportZoom*4,r=0,n=!0,c=!1,i=void 0;try{for(var A,o=this._pPoints[Symbol.iterator]();!(n=(A=o.next()).done);n=!0){var s=A.value,l=new La.Rectangle(-t/2,-t/2,t,t),u=new dr(l);u.position.set(s.x,s.y),this._handles.push(u),u.pointIndex=r,u.name="handles-".concat(r++),u.interactive=!0,u.hitArea=l,u.lineStyle(a,16711680),u.drawShape(l),this.addChild(u)}}catch(p){c=!0,i=p}finally{try{n||null==o.return||o.return()}finally{if(c)throw i}}}},{key:"redrawMidpoints",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;this._midPoints.forEach(function(t){return e.removeChild(t)}),this._midPoints=[],t*=1/this._viewportZoom;for(var a=1/this._viewportZoom*3,r=[],n=0;n<this._pPoints.length-1;n++){var c=this._pPoints[n],i=this._pPoints[n+1],A=new La.Point((c.x+i.x)/2,(c.y+i.y)/2);r.push(A)}if(this._pPoints.length>2){var o=new La.Point((this._pPoints[0].x+this._pPoints[this._pPoints.length-1].x)/2,(this._pPoints[0].y+this._pPoints[this._pPoints.length-1].y)/2);r.push(o)}for(var s=0,l=0,u=r;l<u.length;l++){var p=u[l],d=new pr;d.position.set(p.x,p.y),this._midPoints.push(d),d.midPointIndex=s,d.name="midPoints-".concat(s++),d.lineStyle(a,255);var h=new La.Rectangle(-t/2,-t/2,t,t);d.drawShape(h),d.interactive=!0,d.hitArea=h,this.addChild(d)}}},{key:"convertToPoints",value:function(e){for(var t=[],a=0;a<e.length;a+=2){var r=new La.Point(e[a],e[a+1]);t.push(r)}return t}},{key:"onMouseDown",value:function(e){this._dragging=!0,this._dragData=e.data;var t=e.data.getLocalPosition(this);this._dragGrabOffset=new La.Point(t.x*this.scale.x,t.y*this.scale.y)}},{key:"onMouseMove",value:function(e){if(this._dragging){var t=this._dragData.getLocalPosition(this.parent);this.x=t.x-(this._dragGrabOffset?this._dragGrabOffset.x:0),this.y=t.y-(this._dragGrabOffset?this._dragGrabOffset.y:0),console.log("".concat(this.position.x,", ").concat(this.position.y));this.convertToPoints(this._localPoints);this.redrawHandles(),this.redrawMidpoints()}}},{key:"onMouseUp",value:function(e){this._dragging=!1,this._dragData=null,this._dragGrabOffset=null,this.triggerUpdate()}},{key:"localPoints",get:function(){return this._localPoints}},{key:"viewportZoom",set:function(e){e!==this._viewportZoom&&(this._viewportZoom=e||1,this.redrawHandles(),this.redrawMidpoints(),this.redrawDeleteHandle())}}]),t}(La.Container),gr=Object(Ua.PixiComponent)("EditablePolygon",{create:function(e){var t=new fr(e.polyPoints,e.onUpdate);return t.position=e.position,t.viewportZoom=e.viewportZoom,t},applyProps:function(e,t,a){e.getChildByName("poly");e.viewportZoom=a.viewportZoom},didMount:function(e,t){},willUnmount:function(e,t){}}),vr=a(96),Er=a(503);!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.DM_VISIBLE=1]="DM_VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Ea||(Ea={}));var br=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).dragGrabOffset=void 0,a.dragging=void 0,a.dragData=void 0,a.dragLocked=void 0,a.clickedAvailable=void 0,a.onMove=void 0,a.hoverFilters=[new Ya.a(4,16711680)],a.dragFilters=[new La.filters.AlphaFilter(.7)],a.interactive=!0,a.buttonMode=!0,a.viewportZoom=1,a.range=null,a.isSelected=!1,a.isSelectable=!0,a.onSelected=void 0,a.dragStartPosition=void 0,a._ruler=void 0,a.onDragStart=function(e){if(a.isSelectable){a.dragging=!0,a.dragData=e.data,a.dragGrabOffset=new La.Point(e.data.getLocalPosition(e.currentTarget).x*e.currentTarget.scale.x,e.data.getLocalPosition(e.currentTarget).y*e.currentTarget.scale.y),a.clickedAvailable=!0,a.dragStartPosition=new La.Point(e.data.global.x,e.data.global.y);var t=a.getChildByName("sprite");t&&(t.filters=[].concat(Object(De.a)(t.filters||[]),Object(De.a)(a.dragFilters))),a._ruler=new Ka({start:new La.Point(0,0),end:new La.Point(0,0),measuring:!1,scale:1/a.viewportZoom,visible:!1,distance:""}),a.parent.addChild(a._ruler)}},a.onDragEnd=function(e){var t=a.getChildByName("sprite");if(t&&(t.filters=t.filters.filter(function(e){return!(a.dragFilters.indexOf(e)>=0)})),a._ruler&&(a.parent.removeChild(a._ruler),a._ruler.destroy(),a._ruler=null),a.isSelectable&&(a.clickedAvailable||e.stopPropagation(),a.dragData&&a.dragging)){var r=a.dragData.getLocalPosition(e.currentTarget.parent);a.dragGrabOffset&&(r.x-=a.dragGrabOffset.x,r.y-=a.dragGrabOffset.y);var n=!0;a.isSelectable&&a.clickedAvailable&&a.onSelected&&(n=!1,a.isSelected||a.onSelected(a.mapObjectId)),a.dragging=!1,a.dragData=null,a.dragGrabOffset=null,a.dragStartPosition=null,a.clickedAvailable=!1,n&&a.onUpdateObject&&a.onUpdateObject(a.mapObjectId,{position:r})}},a.onDragMove=function(e){if(a.dragging){var r=a.dragData.global,n=Math.abs(r.x-a.dragStartPosition.x),c=Math.abs(r.y-a.dragStartPosition.y);if(!a.clickedAvailable||n>t.clickThreshold||c>t.clickThreshold){a.clickedAvailable=!1;var i=a.dragData.getLocalPosition(e.currentTarget.parent);if(a.x=i.x-(a.dragGrabOffset?a.dragGrabOffset.x:0),a.y=i.y-(a.dragGrabOffset?a.dragGrabOffset.y:0),a.onMove&&a.onMove(n,c,a.mapObjectId),a._ruler){var A=new La.Point(a.dragStartPosition.x-a.dragGrabOffset.x*a.viewportZoom,a.dragStartPosition.y-a.dragGrabOffset.y*a.viewportZoom),o=new La.Point(r.x-a.dragGrabOffset.x*a.viewportZoom,r.y-a.dragGrabOffset.y*a.viewportZoom),s=Ga([A.x,A.y],[o.x,o.y],a.viewportZoom);a._ruler.redraw({scale:1/a.viewportZoom,start:a.dragStartPosition,end:a.dragStartPosition,measuring:!0,visible:!0,distance:null,thickness:3},{scale:1/a.viewportZoom,start:A,end:o,measuring:!0,visible:!0,color:a.range&&s>a.range?14699317:void 0,distance:"".concat(s.toFixed(1)," ft."),thickness:3})}}}},a.onMouseOver=function(e){var t=a.getChildByName("sprite");t&&a.isSelectable&&!a.isSelected&&(t.filters=[].concat(Object(De.a)(t.filters||[]),Object(De.a)(a.hoverFilters)))},a.onMouseOut=function(e){var t=a.getChildByName("sprite");t&&a.isSelectable&&(t.filters=t.filters.filter(function(e){return!(a.hoverFilters.indexOf(e)>=0)}))},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"innerApplyProps",value:function(e,a,r){this.isSelectable=r.isSelectable,this.interactive=!!r.isSelectable,this.viewportZoom=r.viewportZoom,this.range=r.range,Object(Er.a)(Object(A.a)(t.prototype),"innerApplyProps",this).call(this,e,a,r)}}]),t}(function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).layerName=void 0,a.mapObjectId=void 0,a.onUpdateObject=void 0,a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"innerApplyProps",value:function(e,t,a){a.position!==t.position&&(new vr.list).add(new vr.to(e,{x:a.position.x,y:a.position.y},300,{ease:"easeInOutCubic"}));if(a.pivot!==t.pivot&&e.pivot.set(a.pivot?a.pivot.x:.5,a.pivot?a.pivot.y:.5),a.scale!==t.scale&&e.scale.set(a.scale?a.scale.x:1,a.scale?a.scale.y:1),a.visibility!==t.visibility)switch(a.visibility){case Ea.DM_VISIBLE:e.visible=!0,e.alpha=.4;break;case Ea.HIDDEN:e.visible=!1;break;default:e.visible=!0,e.alpha=1}}}]),t}(La.Container));br.clickThreshold=5;var yr=Object(Ua.PixiComponent)("Scenery",{create:function(e){var t=new La.Sprite(e.resource);t.name="sprite";var a=new br;a.addChild(t),a.hoverFilters=[new Ya.a(4,65280)];var r=new Ya.a(4,13421772);return r.padding=6,t.filters=[r],a.isSelectable=e.isSelectable||!0,a.onSelected=e.onSelected,a.onUpdateObject=e.onUpdateObject,a.layerName=e.layerName,a.mapObjectId=e.mapObjectId,a},applyProps:function(e,t,a){var r=e.getChildByName("sprite");(e.innerApplyProps(e,t,a),a.resource!==t.resource&&r&&(r.texture=a.resource),a.anchor!==t.anchor&&r&&r.anchor.set(a.anchor?a.anchor.x:.5,a.anchor?a.anchor.y:.5),a.rotation!==t.rotation)&&(new vr.list).add(new vr.to(r,{rotation:a.rotation||0},300,{ease:"easeInOutCubic"}));a.isSelected!==t.isSelected&&(e.isSelected=a.isSelected,r&&r.filters&&(r.filters=r.filters.filter(function(t){return!(e.hoverFilters.indexOf(t)>=0)}),r.filters[0].enabled=a.isSelected))},didMount:function(e,t){e.on("mousedown",e.onDragStart),e.on("mouseup",e.onDragEnd),e.on("mouseupoutside",e.onDragEnd),e.on("mousemove",e.onDragMove),e.on("mouseover",e.onMouseOver),e.on("mouseout",e.onMouseOut)},willUnmount:function(e,t){e.off("mousedown"),e.off("mouseup"),e.off("mouseupoutside"),e.off("mousemove"),e.off("mouseover"),e.off("mouseout")}}),Cr=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(i.a)(this,Object(A.a)(t).call(this))).hp=void 0,e.hpMax=void 0,e.ac=void 0,e.showText=!1,e._barGraphic=void 0,e._barText=void 0,e._barWidth=void 0,e._barHeight=void 0,e._lastTargetWidth=0,e.redraw=function(t){if(e.hpMax){var a=e.hp/e.hpMax;e._lastTargetWidth=t||e._lastTargetWidth;var r=Math.max(200,e._lastTargetWidth);e._barWidth=r,e._barHeight=20,e._barGraphic.clear().beginFill(0).drawRect(0,0,r,20).endFill().beginFill(2236962).drawRect(1,1,r-2,18).endFill(),e._barGraphic.beginFill(6406189).drawRect(1,1,r*a-2,18).endFill(),e._barGraphic.beginFill(16777215,.3).drawRect(1,1,r*a-2,3).endFill().beginFill(0,.3).drawRect(1,16,r*a-2,3).endFill(),e._barGraphic.beginFill(0,.9);for(var n=15;n<e.hp;n+=15)n%60?e._barGraphic.drawRect(n/e.hpMax*r-.5,0,1,20):e._barGraphic.drawRect(n/e.hpMax*r-1,0,2,20);e._barGraphic.endFill(),e._barGraphic.hitArea=new La.Rectangle(0,0,r,20),e._barText.position.set(r/2,10),e._barText.text="".concat(e.hp,"/").concat(e.hpMax),e._barText.style.fill="white",e._barText.visible=e.showText}else e._barText.text=""},e._barGraphic=new La.Graphics,e._barText=new La.Text(e.hpMax?"".concat(e.hp,"/").concat(e.hpMax):"",new La.TextStyle({fontSize:18,fontWeight:"bold"})),e._barText.anchor.set(.5,.5),e.interactive=!0,e.addChild(e._barGraphic),e.addChild(e._barText),e}return Object(o.a)(t,e),Object(c.a)(t,[{key:"barWidth",get:function(){return this._barWidth}},{key:"barHeight",get:function(){return this._barHeight}}]),t}(La.Container),Or=a(486),Sr=a.n(Or),jr=function(e){function t(){var e;Object(n.a)(this,t),(e=Object(i.a)(this,Object(A.a)(t).call(this))).ac=void 0,e._barAc=void 0,e.redraw=function(){e.ac?(e._barAc.position.set(0,0),e._barAc.text="".concat(e.ac||"")):e._barAc.text=""},e._barAc=new La.Text(e.ac?"".concat(e.ac):"",new La.TextStyle({fill:"#222",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;",fontSize:200}));var a=La.Texture.fromImage(Sr.a,void 0,void 0,1),r=new La.Sprite(a);return r.width=128,r.height=96,r.anchor.set(.4,.5),e.addChild(r),r.addChild(e._barAc),e._barAc.anchor.set(.5,.5),e}return Object(o.a)(t,e),t}(La.Container),Nr=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),t}(br),Ir=Object(Ua.PixiComponent)("Token",{create:function(e){var t=new Nr;t.isSelectable=e.isSelectable||!0,t.onSelected=e.onSelected,t.onMove=e.onMove,t.onUpdateObject=e.onUpdateObject,t.layerName=e.layerName,t.mapObjectId=e.mapObjectId,t.dragLocked=!1;var a=new La.Sprite(e.resource);e.isCircleHitarea?a.hitArea=new La.Circle(0,0,a.width/2):e.customHitArea&&(a.hitArea=e.customHitArea),a.name="sprite",a.width=200,a.height=200;var r=new Ya.a(4,13421772);r.padding=6,a.filters=[r];var n=new Cr;n.name="healthbar";var c=new jr;return c.name="ac",t.addChild(a),t.addChild(n),t.addChild(c),t},applyProps:function(e,t,a){var r=e.getChildByName("healthbar"),n=e.getChildByName("sprite"),c=e.getChildByName("ac");(e.innerApplyProps(e,t,a),a.resource!==t.resource&&n&&(n.texture=a.resource),a.anchor!==t.anchor&&n&&n.anchor.set(a.anchor?a.anchor.x:.5,a.anchor?a.anchor.y:.5),a.rotation!==t.rotation)&&(new vr.list).add(new vr.to(n,{rotation:a.rotation||0},300,{ease:"easeInOutCubic"}));if(a.ac!==t.ac&&(c.ac=a.ac,c.position.set(0,n.height/2-10),c.redraw()),a.hp!==t.hp){r.hp=a.hp.value,r.hpMax=a.hp.max,r.redraw(n.width);r.position.set(-r.barWidth/2,-n.height/2-r.barHeight-10)}a.isSelected!==t.isSelected&&(e.isSelected=a.isSelected,n&&n.filters&&(n.filters=n.filters.filter(function(t){return!(e.hoverFilters.indexOf(t)>=0)}),n.filters[0].enabled=e.isSelected),r.showText=a.isSelected,r.redraw(n.width))},didMount:function(e,t){e.on("mousedown",e.onDragStart),e.on("mouseup",e.onDragEnd),e.on("mouseupoutside",e.onDragEnd),e.on("mousemove",e.onDragMove),e.on("mouseover",e.onMouseOver),e.on("mouseout",e.onMouseOut),e.on("click",function(e){})},willUnmount:function(e,t){e.off("mousedown"),e.off("mouseup"),e.off("mouseupoutside"),e.off("mousemove"),e.off("mouseover"),e.off("mouseout"),e.off("click")}}),wr=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.object,a=e.layerName,n=e.map,c=e.pc,i=e.npc,A=e.resource,o=e.viewportZoom,s=e.isSelected,u=e.layerLocked,p=e.dm,d=e.measuring,h=e.fogAddMode,m=e.keyShiftDown,f=e.onSelectObject,g=e.onUpdateObject,v=e.handleMultiDrag,E=t.dmOnly||!1?p?Ea.DM_VISIBLE:Ea.HIDDEN:Ea.VISIBLE,b=!!c||!!i,y=c||i,C=t.scale;if(y){var O=(y.size||"").toString();switch(parseInt(O)){case r.Tiny:C=new La.Point(.5,.5);break;case r.Small:case r.Medium:C=new La.Point(1,1);break;case r.Large:C=new La.Point(2,2);break;case r.Huge:C=new La.Point(3,3);break;case r.Gargantuan:C=new La.Point(4,4);break;default:C=new La.Point(1,1)}}return b?l.a.createElement(Ir,{key:t.id,resource:A,hp:t.hp||(c?{value:c.hp,max:c.maxHp}:void 0),ac:y&&y.ac||void 0,range:y&&y.speed?Math.max.apply(Math,Object(De.a)(Object.values(y.speed))):void 0,position:t.position,scale:C,rotation:t.rotation,pivot:t.pivot,anchor:t.anchor,onUpdateObject:function(e,t){return g(n.id,e,t)},isSelected:s,isSelectable:(c||p)&&!u&&!d&&!h&&!m,onSelected:f,mapObjectId:t.id,layerName:a,visibility:E,viewportZoom:o,onMove:v}):l.a.createElement(yr,{key:t.id,position:t.position,scale:t.scale,rotation:t.rotation,pivot:t.pivot,anchor:t.anchor,resource:A,onUpdateObject:function(e,t){return g(n.id,e,t)},isSelected:s,isSelectable:p&&!u&&!d&&!h&&!m,onSelected:f,mapObjectId:t.id,layerName:a,visibility:E,viewportZoom:o})}}]),t}(s.Component),Pr=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.layer,a=e.map,r=e.playerCharacters,n=e.nonPlayerCharacters,c=e.dm,i=e.viewportZoom,A=e.selectedObjects,o=e.fogAddMode,s=e.measuring,u=e.keyShiftDown,p=e.onSelectObject,d=e.onUpdateObject,h=e.handleMultiDrag,m=a.layers[t.name],f=!!m&&m.locked;return l.a.createElement(Ua.Container,{key:t.name,name:"layer-".concat(t.name)},t.objects.map(function(e){var m=e.pcId?r.find(function(t){return t.id===e.pcId}):null,g=e.npcId?n.find(function(t){return t.id===e.npcId}):null,v=m&&m.imageRef?m.imageRef:g&&g.imageRef?g.imageRef:e.imageRef||"__missing__",E=La.loader.resources[v]&&La.loader.resources[v].texture,b=!!A.find(function(t){return t===e.id});return l.a.createElement(wr,{key:e.id,map:a,layerName:t.name,object:e,pc:m,npc:g,resource:E,viewportZoom:i,isSelected:b,dm:c,fogAddMode:o,measuring:s,keyShiftDown:u,layerLocked:f,onSelectObject:p,onUpdateObject:d,handleMultiDrag:h})}))}}]),t}(s.Component),kr=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,loadingAssets:!0,loadProgress:0,app:null,measuring:!1,measureStart:null,measureEnd:null,measuredDistance:null,viewportZoom:1,newFogIndex:null,newFogPosition:null,newFogPoints:null,boxSelectStart:null,boxSelectEnd:null},a.app=void 0,a.root=void 0,a._viewport=void 0,a._stage=void 0,a._mainWrapper=void 0,a.loader=La.loader,a.handleWindowResize=function(){a.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight})},a.loadAssets=function(e,t,r){if(t.loadingAssets&&!a.state.loadingAssets&&a._viewport&&a._viewport.fitWorld(),r||a.props.mapData&&!e.mapData||a.props.mapData&&a.props.mapData.objects!==e.mapData.objects){a.loader.resources.__missing__||a.loader.add("__missing__","https://placekitten.com/128/128");var n=Object.keys(a.props.mapData.objects||{}).map(function(e){var t=a.props.mapData.objects[e],r=t.pcId?a.props.playerCharacters.find(function(e){return e.id===t.pcId}):null,n=t.npcId?a.props.nonPlayerCharacters.find(function(e){return e.id===t.npcId}):null,c=t&&t.imageRef?t.imageRef:r?r.imageRef:n&&n.imageRef||"__missing__";if(!!a.loader.resources[c])return null;var i=a.props.images.find(function(e){return e.filePath===c});return{name:c,url:i?i.downloadUrl:c,loadType:2}}).filter(function(e){return e}),c=Array.from(new Set(n.map(function(e){return e.name}))).map(function(e){return Object(b.a)({},n.find(function(t){return t.name===e}))});a.loader.add(c),a.loader.load(function(){a.setState({loadingAssets:!1})}),a.loader.onProgress.add(function(e){return a.setState({loadProgress:e.progress})})}},a.onMapMount=function(e){a.setState({app:e}),e.stage.interactive=!0,e.stage.on("mousedown",function(e){if(e.target.name===a._viewport.name){if(!a.state.measuring&&a.props.onSelectObject&&a.props.selectedObjects.length>0&&a.props.onSelectObject(null),a.state.measuring&&a.setState({measureStart:e.data.global.clone(),measureEnd:e.data.global.clone(),measuredDistance:"0"}),a.props.dm&&a.props.fogAddMode){var t=a._viewport.toLocal(e.data.global),r=a.state.newFogPosition;(!a.state.newFogPosition||0===a.state.newFogPosition.x&&0===a.state.newFogPosition.y)&&(a.setState({newFogPosition:t.clone()}),r=t.clone());var n=new La.Point(t.x-r.x,t.y-r.y);a.setState(function(e){return{newFogPoints:[].concat(Object(De.a)(e.newFogPoints),[n.x,n.y])}})}if(!a.state.measuring&&!a.props.fogAddMode&&a.props.keyShiftDown){var c=a._viewport.toLocal(e.data.global);a.props.sendPing({position:c.clone(),userId:a.props.user.uid})}if(!a.state.measuring&&!a.props.fogAddMode&&!a.props.fogEditMode){var i=a._viewport.toLocal(e.data.global);a.setState({boxSelectStart:i.clone()})}}}),e.stage.on("mousemove",function(e){if(a.state.measuring&&a.state.measureStart&&a.setState({measureEnd:e.data.global.clone(),measuredDistance:"".concat(Ga([a.state.measureStart.x,a.state.measureStart.y],[a.state.measureEnd.x,a.state.measureEnd.y],a._viewport.scale.x)," ft.")}),!a.state.measuring&&!a.props.fogAddMode&&!a.props.fogEditMode){var t=a._viewport.toLocal(e.data.global);a.setState({boxSelectEnd:t.clone()})}}),e.stage.on("mouseup",function(e){if(a.state.measuring&&a.setState({measureStart:null,measureEnd:null,measuredDistance:null}),a.state.boxSelectStart&&a.state.boxSelectEnd){var t=new La.Rectangle(a.state.boxSelectStart.x,a.state.boxSelectStart.y,a.state.boxSelectEnd.x-a.state.boxSelectStart.x,a.state.boxSelectEnd.y-a.state.boxSelectStart.y),r=Object.keys(a.props.mapData.objects).filter(function(e){var r=a.props.mapData.objects[e],n=a.props.mapData.layers,c=n.hasOwnProperty(r.layer)?n[r.layer]:null;return(!c||!c.locked)&&t.contains(r.position.x,r.position.y)});a.props.onSelectObjects(r)}a.setState({boxSelectStart:null,boxSelectEnd:null})})},a.handleMultiDrag=function(e,t,r){(console.log("".concat(r," - ").concat(e,",").concat(t)),a.props.selectedObjects&&a.props.selectedObjects.length>1)&&a.props.selectedObjects.filter(function(e){return e!==r}).map(function(e){return Object(b.a)({},a.props.mapData.objects[e],{id:e})}).forEach(function(r){a.props.onUpdateObject(a.props.mapData.id,r.id,{position:{x:r.position.x+e,y:r.position.y+t}})})},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadAssets(this.props,this.state,!0),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"componentDidUpdate",value:function(e,t){this.loadAssets(e,t,!1),this.props.measureModeEnabled!==e.measureModeEnabled&&this.setState({measuring:this.props.measureModeEnabled}),this.props.dm&&this.props.fogAddMode&&!e.fogAddMode&&this.setState({newFogIndex:Object(Fa.v4)(),newFogPosition:new La.Point(0,0),newFogPoints:[]}),this.props.dm&&!this.props.fogAddMode&&e.fogAddMode&&(this.state.newFogPoints.length>=4&&this.props.onUpdateFogPolygon(this.props.mapData.id,this.state.newFogIndex,this.state.newFogPosition,this.state.newFogPoints),this.setState({newFogIndex:null,newFogPosition:null,newFogPoints:null}))}},{key:"render",value:function(){var e=this;if(this.state.loadingAssets)return l.a.createElement("div",{className:Va.a.loadingWrapper},l.a.createElement("div",{className:Va.a.loadingText},"LOADING..."),l.a.createElement(ma.i,{variant:"determinate",value:this.state.loadProgress}));if(!this.props.mapData)return l.a.createElement("div",{className:Va.a.noMapWrapper},l.a.createElement("div",{className:Va.a.noMapText},"No Map"));var t=this.props.mapData.backgroundColour,a=this.props.dm,r=this.props,n=r.connectDropTarget,c=null;r.isHovering&&(c=l.a.createElement("div",{className:Va.a.dragAddObjectWrapper},l.a.createElement("div",{className:Va.a.dragAddObjectText},"+")));var i,A=(i=this.props.mapData)&&i.objects?Object.keys(i.objects).reduce(function(e,t){var a=i.objects[t].layer;if(void 0===a||null===a||0===a.length)return e;var r=e.find(function(e){return e.name===a});return r||(r={objects:[],zIndex:Qa[a],name:a},e.push(r)),r.objects.push(Object(b.a)({},i.objects[t],{id:t})),e},[]):[],o=function(e,t){return e.zIndex-t.zIndex};return n(l.a.createElement("div",{ref:function(t){return e._mainWrapper=t}},c,l.a.createElement("div",{className:Va.a.controlStateOverlay},this.props.measureModeEnabled&&l.a.createElement("span",{className:Va.a.controlState},"MEASURING MODE"),this.props.dm&&this.props.fogEditMode&&l.a.createElement("span",{className:Va.a.controlState},"FOG EDIT MODE"),this.props.dm&&this.props.fogAddMode&&l.a.createElement("span",{className:Va.a.controlState},"FOG ADD MODE")),l.a.createElement(Ua.Stage,{ref:function(t){return e._stage=t},onMount:this.onMapMount,width:this.state.windowWidth,height:this.state.windowHeight,options:{antialias:!0,backgroundColor:t?parseInt(t.slice(1),16):16777215}},l.a.createElement(Ua.AppConsumer,null,function(t){return l.a.createElement(Za,{name:"viewport",ref:function(t){return e._viewport=t},app:t,screenWidth:e.state.windowWidth,screenHeight:e.state.windowHeight,onZoom:function(t){return e.setState({viewportZoom:t})}},A.sort(o).map(function(t){return l.a.createElement(Pr,{key:t.name,dm:a,fogAddMode:e.props.fogAddMode,handleMultiDrag:e.handleMultiDrag,keyShiftDown:e.props.keyShiftDown,layer:t,map:e.props.mapData,measuring:e.state.measuring,playerCharacters:e.props.playerCharacters,nonPlayerCharacters:e.props.nonPlayerCharacters,onSelectObject:e.props.onSelectObject,selectedObjects:e.props.selectedObjects,onUpdateObject:e.props.onUpdateObject,viewportZoom:e.state.viewportZoom})}),l.a.createElement(Wa,{fogData:e.props.mapData&&e.props.mapData.fog,dm:a,editing:e.props.fogEditMode,viewportZoom:e.state.viewportZoom}),a&&e.props.fogEditMode&&e.props.mapData&&Object.keys(e.props.mapData.fog.maskPolygons).length>0&&Object.keys(e.props.mapData.fog.maskPolygons).map(function(t,a){var r=e.props.mapData.fog.maskPolygons[t];return l.a.createElement(gr,{key:t,onUpdate:function(a,r){e.props.onUpdateFogPolygon(e.props.mapData.id,t,a,r)},position:new La.Point(r.position.x,r.position.y),editMode:e.props.fogEditMode,polyPoints:r.points,viewportZoom:e.state.viewportZoom})}),l.a.createElement(Ja,{visible:e.state.measuring,measuring:e.state.measuring,start:e.state.measureStart,end:e.state.measureEnd,distance:e.state.measuredDistance,scale:e._viewport?1/e._viewport.scale.x:1,thickness:3}),Object.keys(e.props.mapPings).map(function(t){var a=e.props.mapPings[t],r=e.props.users[a.userId];return l.a.createElement(ur,{key:t,colour:r?r.colour:16711680,position:new La.Point(a.position.x,a.position.y),viewportZoom:e.state.viewportZoom})}),e.state.boxSelectStart&&e.state.boxSelectEnd&&l.a.createElement(Ua.Graphics,{draw:function(t){t.clear(),t.lineStyle(1/e.state.viewportZoom*5.2,16711680,.7,.5),t.drawRect(e.state.boxSelectStart.x,e.state.boxSelectStart.y,e.state.boxSelectEnd.x-e.state.boxSelectStart.x,e.state.boxSelectEnd.y-e.state.boxSelectStart.y)}}))}))))}}]),t}(s.Component),Tr={canDrop:function(e,t){return!0},hover:function(e,t,a){},drop:function(e,t,r){var n=t.getItem(),c=t.getItemType(),i=t.getClientOffset(),A=r._viewport.toLocal(new La.Point(i.x,i.y));switch(c){case $:if(e.onAddAssetToMap&&e.mapData){var o={position:{x:A.x,y:A.y}};if(1===n.assetType){var s=e.nonPlayerCharacters.find(function(e){return e.id===n.id});if(s.hpDice){var l=a(74).DiceRoll,u=Math.max(new l(s.hpDice.replace(/ /g,"")).total,1);o.hp={value:u,max:u}}}e.onAddAssetToMap(e.mapData.id,n.assetType,n.id,o)}break;case ee:e.onAddImageToMap&&e.mapData&&e.onAddImageToMap(e.mapData.id,n.imageRef,{position:{x:A.x,y:A.y}})}}};var Dr=Object(Z.DropTarget)([$,ee],Tr,function(e,t){return{connectDropTarget:e.dropTarget(),itemType:t.getItemType(),isHovering:t.isOver()}})(kr),_r={MAPS:{SYNC:{SUCCESS:"MAPS.SYNC.SUCCESS",ERROR:"MAPS.SYNC.ERROR"},UPDATE:{OBJECT:"MAPS.UPDATE.OBJECT",BACKGROUND_COLOUR:"MAPS.UPDATE.BACKGROUND_COLOUR",LAYER_LOCKED:"MAPS.UPDATE.LAYER_LOCKED"},REMOVE:{OBJECT:"MAPS.REMOVE.OBJECT"},ASSET:{ADD:"MAPS.ASSET.ADD"},IMAGE:{ADD:"MAPS.IMAGE.ADD"},SELECT:{OBJECT:"MAPS.SELECT.OBJECT",OBJECTS:"MAPS.SELECT.OBJECTS"},MEASURE_MODE:{TOGGLE:"MAPS.MEASURE_MODE.TOGGLE"},FOG:{ADD:{ENABLE:"MAPS.FOG.ADD.ENABLE",DISABLE:"MAPS.FOG.ADD.DISABLE",TOGGLE:"MAPS.FOG.ADD.TOGGLE"},EDIT:{ENABLE:"MAPS.FOG.EDIT.ENABLE",DISABLE:"MAPS.FOG.EDIT.DISABLE",TOGGLE:"MAPS.FOG.EDIT.TOGGLE"},UPDATE:{POLYGON:"MAPS.FOG.UPDATE.POLYGON",COLOUR:"MAPS.FOG.UPDATE.COLOUR"}}}},Mr=function(e){return{type:_r.MAPS.SYNC.SUCCESS,maps:e}},Br=function(e){return{type:_r.MAPS.SYNC.ERROR,error:e}},xr=function(e,t,a){return{type:_r.MAPS.UPDATE.OBJECT,mapId:e,mapObjectId:t,newData:a}},Rr=function(e){return{type:_r.MAPS.SELECT.OBJECT,mapObjectId:e}},Ur=function(e){return{type:_r.MAPS.MEASURE_MODE.TOGGLE,val:e}},Lr={MAP_PINGS:{SYNC:{NEW_PING:"MAP_PINGS.SYNC.NEW_PING",FAILURE:"MAP_PINGS.SYNC.FAILURE"},SEND_PING:"MAP_PINGS.SEND_PING",ADD_PING:"MAP_PINGS.ADD_PING",REMOVE_PING:"MAP_PINGS.REMOVE_PING"}},Fr=function(e){return{type:Lr.MAP_PINGS.SYNC.NEW_PING,ping:e}},Qr=function(e){return{type:Lr.MAP_PINGS.SYNC.FAILURE,error:e}},Gr=function(e,t){return{type:Lr.MAP_PINGS.ADD_PING,uniqueId:e,ping:t}},Hr=function(e){return{type:Lr.MAP_PINGS.REMOVE_PING,uniqueId:e}},Yr=a(67),Kr=function(e){return e.users.users},Jr=function(e){return e.auth.user},Wr=Object(Yr.a)(Kr,function(e){return Object.keys(e).map(function(t){return Object(b.a)({id:t},e[t])})}),zr=Object(Yr.a)(Kr,Jr,function(e,t){return{user:e&&t?e[t.uid]:null,firebaseUser:t}}),Vr=Object(Yr.a)(Kr,Jr,function(e,t){if(!t)return 16711680;var a=e[t.uid];return a?a.colour||16711680:void 0}),Xr=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.maps,a=e.activeMapId,r=e.selectedObjects,n=e.onUpdateObject,c=e.onSelectObject,i=e.onSelectObjects,A=e.onAddAssetToMap,o=e.onAddImageToMap,s=e.playerCharacters,u=e.nonPlayerCharacters,p=e.images,d=e.dm,h=e.user,m=e.users,f=e.sendPing,g=e.mapPings,v=e.keyShiftDown,E=e.toggleMeasureMode,b=e.measureModeEnabled,y=e.fogEditMode,C=e.fogAddMode,O=e.onUpdateFogPolygon,S=e.userColour,j=t?t.find(function(e){return e.id===a}):null;return j?l.a.createElement(Dr,{updateSpriteLocation:function(){},mapData:j,selectedObjects:r,playerCharacters:s,nonPlayerCharacters:u,onUpdateObject:n,onAddAssetToMap:A,onAddImageToMap:o,onSelectObject:c,onSelectObjects:i,images:p,dm:d,user:h,users:m,userColour:S,sendPing:f,mapPings:g,keyShiftDown:v,toggleMeasureMode:E,measureModeEnabled:b,fogEditMode:y,fogAddMode:C,onUpdateFogPolygon:O}):l.a.createElement("div",{className:Va.a.noMapWrapper},l.a.createElement("div",{className:Va.a.noMapText},"No Map"))}}]),t}(s.Component),qr=Object(m.c)(function(e){return{selectedObjects:e.maps.selectedObjects,images:e.images.images,playerCharacters:e.assets.playerCharacters,nonPlayerCharacters:e.assets.nonPlayerCharacters,dm:e.auth.dm,user:e.auth.user,users:e.users.users,maps:e.maps.maps,activeMapId:e.globalState.state?e.globalState.state.activeMapId:null,mapPings:e.mapPings.pings,keyShiftDown:e.keys.shiftDown,measureModeEnabled:e.maps.measureModeEnabled,fogEditMode:e.maps.fogEditMode,fogAddMode:e.maps.fogAddMode,userColour:Vr(e)}},function(e){return{onUpdateObject:function(t,a,r){return e(xr(t,a,r))},onAddAssetToMap:function(t,a,r,n){return e(function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:_r.MAPS.ASSET.ADD,mapId:e,assetType:t,assetId:a,initialData:r}}(t,a,r,n))},onAddImageToMap:function(t,a,r){return e(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:_r.MAPS.IMAGE.ADD,mapId:e,imageRef:t,initialData:a}}(t,a,r))},onSelectObject:function(t){return e(Rr(t))},onSelectObjects:function(t){return e((a=t,{type:_r.MAPS.SELECT.OBJECTS,mapObjectIds:a}));var a},sendPing:function(t){return e(function(e){return{type:Lr.MAP_PINGS.SEND_PING,ping:e}}(t))},toggleMeasureMode:function(t){return e(Ur(t))},onUpdateFogPolygon:function(t,a,r,n){return e(function(e,t,a,r){return{type:_r.MAPS.FOG.UPDATE.POLYGON,mapId:e,fogPolygonId:t,position:a,points:r}}(t,a,r,n))}}})(Xr),Zr=a(61),$r=a(104),en=a(68),tn=a(500),an={messages:[],new:{},syncError:null,messagesOpen:!1};function rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case nt.CHAT.SYNC:return Object(b.a)({},e,{messages:t.messages});case nt.CHAT.SYNC_FAILED:return Object(b.a)({},e,{syncError:t.error});case nt.CHAT.OPEN:return Object(b.a)({},e,{messagesOpen:!0});case nt.CHAT.CLOSE:return Object(b.a)({},e,{messagesOpen:!1});default:return e}}var nn={editingCharacterSheets:[]};function cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ra.CHARACTERS.EDIT_SHEET:return Object(b.a)({},e,{editingCharacterSheets:[].concat(Object(De.a)(e.editingCharacterSheets.filter(function(e){return e!==t.characterId})),[t.characterId])});case ra.CHARACTERS.ABORT_EDIT_SHEET:return Object(b.a)({},e,{editingCharacterSheets:Object(De.a)(e.editingCharacterSheets.filter(function(e){return e!==t.characterId}))});default:return e}}var An={loading:!1,loggedIn:!1,user:null,loginError:null,dm:!1,canBeDm:!1};function on(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Na.LOGIN.REQUEST:case Na.LOGOUT.REQUEST:return Object(b.a)({},e,{loading:!0});case Na.LOGIN.SUCCESS:return Object(b.a)({},e,{loading:!1,loggedIn:!0,user:t.user,loginError:null});case Na.LOGIN.FAILURE:return Object(b.a)({},e,{loading:!1,loginError:t.error});case Na.LOGOUT.SUCCESS:return An;case Na.LOGOUT.FAILURE:return Object(b.a)({},e,{loading:!1});case Na.CAN_BE_DM.SET:return Object(b.a)({},e,{canBeDm:t.value,dm:t.value});case Na.DM.SET:return Object(b.a)({},e,{dm:t.value});default:return e}}var sn={uploading:!1,url:null,uploadProgress:0,uploadError:null};function ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ua.STORAGE.SEND_FILE:return Object(b.a)({},e,{uploading:!0});case ua.STORAGE.SEND_FILE_SUCCESS:return Object(b.a)({},e,{uploading:!1});case ua.STORAGE.SEND_FILE_FAILURE:return Object(b.a)({},e,{uploading:!1,uploadError:t.error});case ua.STORAGE.SEND_FILE_PROGRESS:return Object(b.a)({},e,{uploadProgress:t.progress});default:return e}}var un={IMAGES:{SYNC:"IMAGES.SYNC",SYNC_FAILED:"IMAGES.SYNC_FAILED"}},pn=function(e){return{type:un.IMAGES.SYNC,images:e}},dn=function(e){return{type:un.IMAGES.SYNC_FAILED,error:e}},hn={images:[],syncError:null};function mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case un.IMAGES.SYNC:return Object(b.a)({},e,{images:t.images});case un.IMAGES.SYNC_FAILED:return Object(b.a)({},e,{syncError:t.error});default:return e}}var fn=a(105),gn=a(131),vn=a.n(gn),En={playerCharacters:[],nonPlayerCharacters:[],pcSyncError:null,npcSyncError:null,nonPlayerCharacterFilter:"",activeCharacterSheetId:null,nonPlayerCharacterLastUpdate:null};var bn={key:"assets",storage:vn.a},yn=Object(fn.a)(bn,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case lt.ASSETS.OPEN_SHEET:return Object(b.a)({},e,{activeCharacterSheetId:t.characterId});case lt.ASSETS.PLAYERCHARACTER.SYNC:return Object(b.a)({},e,{playerCharacters:t.playerCharacters});case lt.ASSETS.NONPLAYERCHARACTER.FILTER.TEXT_CHANGE:return Object(b.a)({},e,{nonPlayerCharacterFilter:t.text});case lt.ASSETS.NONPLAYERCHARACTER.SYNC:return Object(b.a)({},e,{nonPlayerCharacters:t.nonPlayerCharacters});case lt.ASSETS.PLAYERCHARACTER.SYNC_FAILED:return Object(b.a)({},e,{pcSyncError:t.error});case lt.ASSETS.NONPLAYERCHARACTER.LAST_UPDATE.SYNC:return Object(b.a)({},e,{nonPlayerCharacterLastUpdate:t.lastUpdate});default:return e}}),Cn={SPELLS:{FILTER:{TEXT_CHANGE:"SPELLS.FILTER.TEXT_CHANGE"},LAST_UPDATE:{SYNC:"SPELLS.LAST_UPDATE.SYNC"},SYNC:"SPELLS.SYNC",SYNC_FAILED:"SPELLS.SYNC_FAILED",UPDATE:"SPELLS.UPDATE",NEW:{SAVE:"SPELLS.NEW.SAVE"}}},On=function(e){return{type:Cn.SPELLS.SYNC,spells:e}},Sn=function(e){return{type:Cn.SPELLS.SYNC_FAILED,error:e}},jn=function(e){return{type:Cn.SPELLS.LAST_UPDATE.SYNC,lastUpdate:e}},Nn={spells:[],syncError:null,filter:"",lastUpdate:null};var In={key:"spells",storage:vn.a},wn=Object(fn.a)(In,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Cn.SPELLS.FILTER.TEXT_CHANGE:return Object(b.a)({},e,{filter:t.text});case Cn.SPELLS.SYNC:return Object(b.a)({},e,{spells:t.spells});case Cn.SPELLS.SYNC_FAILED:return Object(b.a)({},e,{syncError:t.error});case Cn.SPELLS.LAST_UPDATE.SYNC:return Object(b.a)({},e,{lastUpdate:t.lastUpdate});default:return e}}),Pn={maps:null,error:null,selectedObjects:[],measureModeEnabled:!1,fogEditMode:!1,fogAddMode:!1};function kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case _r.MAPS.SYNC.SUCCESS:var a=t;return Object(b.a)({},e,{maps:a.maps});case _r.MAPS.SYNC.ERROR:var r=t;return Object(b.a)({},e,{error:r.error});case _r.MAPS.SELECT.OBJECT:var n=t;return Object(b.a)({},e,{selectedObjects:n.mapObjectId?[n.mapObjectId]:[]});case _r.MAPS.SELECT.OBJECTS:var c=t;return Object(b.a)({},e,{selectedObjects:c.mapObjectIds?c.mapObjectIds:[]});case _r.MAPS.MEASURE_MODE.TOGGLE:var i=t;return Object(b.a)({},e,{measureModeEnabled:void 0!==i.val&&null!==i.val?i.val:!e.measureModeEnabled});case _r.MAPS.FOG.EDIT.DISABLE:return Object(b.a)({},e,{fogEditMode:!1});case _r.MAPS.FOG.EDIT.ENABLE:return Object(b.a)({},e,{fogEditMode:!0});case _r.MAPS.FOG.EDIT.TOGGLE:return Object(b.a)({},e,{fogEditMode:!e.fogEditMode});case _r.MAPS.FOG.ADD.DISABLE:return Object(b.a)({},e,{fogAddMode:!1});case _r.MAPS.FOG.ADD.ENABLE:return Object(b.a)({},e,{fogAddMode:!0});case _r.MAPS.FOG.ADD.TOGGLE:return Object(b.a)({},e,{fogAddMode:!e.fogAddMode});default:return e}}var Tn={UI:{PROPERTY_PANEL:{VISIBILITY:"UI.PROPERTY_PANEL.VISIBILITY"},SIDEBAR:{OPEN:"UI.SIDEBAR.OPEN",CLOSE:"UI.SIDEBAR.CLOSE",TOGGLE:"UI.SIDEBAR.TOGGLE",OPEN_PANEL:"UI.SIDEBAR.OPEN_PANEL"},INITIATIVE_TRACKER:{OPEN:"UI.INITIATIVE_TRACKER.OPEN",CLOSE:"UI.INITIATIVE_TRACKER.CLOSE",TOGGLE:"UI.INITIATIVE_TRACKER.TOGGLE"},USER_LIST:{OPEN:"UI.USER_LIST.OPEN",CLOSE:"UI.USER_LIST.CLOSE",TOGGLE:"UI.USER_LIST.TOGGLE"},SOUNDS:{MUTE:"UI.SOUNDS.MUTE",UNMUTE:"UI.SOUNDS.UNMUTE",TOGGLE_MUTED:"UI.SOUNDS.TOGGLE_MUTED"}}},Dn={propertyPanel:{visible:!1},sidebarOpen:!1,sidebarPanel:null,initiativeTrackerOpen:!1,userListOpen:!0,soundsMuted:!1};var _n={key:"ui",storage:vn.a},Mn=Object(fn.a)(_n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Tn.UI.PROPERTY_PANEL.VISIBILITY:var a=t;return Object(b.a)({},e,{propertyPanel:Object(b.a)({},e.propertyPanel,{visible:a.visible})});case Tn.UI.SIDEBAR.OPEN:return Object(b.a)({},e,{sidebarOpen:!0});case Tn.UI.SIDEBAR.CLOSE:return Object(b.a)({},e,{sidebarOpen:!1});case Tn.UI.SIDEBAR.TOGGLE:return Object(b.a)({},e,{sidebarOpen:!e.sidebarOpen});case Tn.UI.SIDEBAR.OPEN_PANEL:var r=t;return Object(b.a)({},e,{sidebarPanel:r.panel});case Tn.UI.INITIATIVE_TRACKER.OPEN:return Object(b.a)({},e,{initiativeTrackerOpen:!0});case Tn.UI.INITIATIVE_TRACKER.CLOSE:return Object(b.a)({},e,{initiativeTrackerOpen:!1});case Tn.UI.INITIATIVE_TRACKER.TOGGLE:return Object(b.a)({},e,{initiativeTrackerOpen:!e.initiativeTrackerOpen});case Tn.UI.USER_LIST.OPEN:return Object(b.a)({},e,{userListOpen:!0});case Tn.UI.USER_LIST.CLOSE:return Object(b.a)({},e,{userListOpen:!1});case Tn.UI.USER_LIST.TOGGLE:return Object(b.a)({},e,{userListOpen:!e.userListOpen});case Tn.UI.SOUNDS.MUTE:var n=t;return Object(b.a)({},e,{soundsMuted:void 0===n.val||null===n.val||n.val});case Tn.UI.SOUNDS.UNMUTE:return Object(b.a)({},e,{soundsMuted:!1});case Tn.UI.SOUNDS.TOGGLE_MUTED:return Object(b.a)({},e,{soundsMuted:!e.soundsMuted});default:return e}}),Bn={GLOBAL_STATE:{SYNC:{SUCCESS:"GLOBAL_STATE.SYNC.SUCCESS",FAILURE:"GLOBAL_STATE.SYNC.FAILURE"},UPDATE_TIME:"GLOBAL_STATE.UPDATE_TIME",SET_ACTIVE_MAP:"GLOBAL_STATE.SET_ACTIVE_MAP"}},xn=function(e){return{type:Bn.GLOBAL_STATE.SYNC.SUCCESS,state:e}},Rn=function(e){return{type:Bn.GLOBAL_STATE.SYNC.SUCCESS,error:e}},Un=function(){return{type:Bn.GLOBAL_STATE.UPDATE_TIME}},Ln={state:null,syncError:null,currentTime:(new Date).getTime()};function Fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Bn.GLOBAL_STATE.SET_ACTIVE_MAP:var a=t;return{state:Object(b.a)({},e,{state:Object(b.a)({},e.state,{activeMapId:a.mapId})}),currentTime:e.currentTime};case Bn.GLOBAL_STATE.SYNC.SUCCESS:var r=t;return Object(b.a)({},e,{state:r.state});case Bn.GLOBAL_STATE.SYNC.FAILURE:var n=t;return Object(b.a)({},e,{syncError:n.error});case Bn.GLOBAL_STATE.UPDATE_TIME:return Object(b.a)({},e,{currentTime:(new Date).getTime()});default:return e}}var Qn=a(502);function Gn(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Hn={pings:{}};function Yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Lr.MAP_PINGS.ADD_PING:var a=t;return Object(b.a)({},e,{pings:Object(b.a)({},e.pings,Object(E.a)({},a.uniqueId,a.ping))});case Lr.MAP_PINGS.REMOVE_PING:var r=t,n=e.pings,c=(n[r.uniqueId],Object(Qn.a)(n,[r.uniqueId].map(Gn)));return Object(b.a)({},e,{pings:c});default:return e}}var Kn,Jn={USERS:{PRESENCE:{SYNC:"USERS.PRESENCE.SYNC",SYNC_FAILED:"USERS.PRESENCE.SYNC_FAILED"},SYNC:"USERS.SYNC",SYNC_FAILED:"USERS.SYNC_FAILED",SET_COLOUR:"USERS.SET_COLOUR",JOURNAL:{PRIVATE:{UPDATE:"USERS.JOURNAL.PRIVATE.UPDATE"},PUBLIC:{UPDATE:"USERS.JOURNAL.PUBLIC.UPDATE"}}}},Wn=function(e){return{type:Jn.USERS.PRESENCE.SYNC,onlineUsers:Object.keys(e)}},zn=function(e){return{type:Jn.USERS.PRESENCE.SYNC_FAILED,error:e}},Vn=function(e){return{type:Jn.USERS.SYNC,users:e}},Xn=function(e){return{type:Jn.USERS.SYNC_FAILED,error:e}},qn={onlineUsers:[],users:{},userPresenceSyncError:null,usersSyncError:null};function Zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jn.USERS.PRESENCE.SYNC:var a=t;return Object(b.a)({},e,{onlineUsers:a.onlineUsers});case Jn.USERS.PRESENCE.SYNC_FAILED:var r=t;return Object(b.a)({},e,{userPresenceSyncError:r.error});case Jn.USERS.SYNC:var n=t;return Object(b.a)({},e,{users:n.users});case Jn.USERS.SYNC_FAILED:var c=t;return Object(b.a)({},e,{usersSyncError:c.error});default:return e}}!function(e){e[e.SHIFT=0]="SHIFT"}(Kn||(Kn={}));var $n={KEYS:{DOWN:{SHIFT:"KEYS.DOWN.SHIFT"},UP:{SHIFT:"KEYS.UP.SHIFT"}}},ec={shiftDown:!1};function tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ec,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case $n.KEYS.DOWN.SHIFT:return Object(b.a)({},e,{shiftDown:!0});case $n.KEYS.UP.SHIFT:return Object(b.a)({},e,{shiftDown:!1});default:return e}}var ac={INITIATIVE:{SYNC:{SUCCESS:"INITIATIVE.SYNC.SUCCESS",FAILURE:"INITIATIVE.SYNC.FAILURE"},SET_CURRENT_TURN:"INITIATIVE.SET_CURRENT_TURN",ADD_ROLL:"INITIATIVE.ADD_ROLL",CLEAR:"INITIATIVE.CLEAR",REMOVE:"INITIATIVE.REMOVE",UPDATE:{ROLL:"INITIATIVE.UPDATE.ROLL"}}},rc=function(e){return{type:ac.INITIATIVE.SYNC.SUCCESS,initiativeData:e}},nc=function(e){return{type:ac.INITIATIVE.SYNC.SUCCESS,error:e}},cc=function(e){return{type:ac.INITIATIVE.ADD_ROLL,data:e}},ic={syncError:null,rolls:null};function Ac(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ac.INITIATIVE.SYNC.SUCCESS:var a=t;return Object(b.a)({},e,{rolls:a.initiativeData});case ac.INITIATIVE.SYNC.FAILURE:var r=t;return Object(b.a)({},e,{syncError:r.error});default:return e}}var oc=a(9),sc=a.n(oc),lc=a(6),uc=a(488),pc=a(23),dc=a.n(pc),hc=(a(77),a(489)),mc=a.n(hc),fc=JSON.parse(localStorage.getItem("firebaseConfig")),gc=dc.a.initializeApp(fc);gc.database();var vc=new mc.a(gc),Ec=sc.a.mark(Sc),bc=sc.a.mark(Nc),yc=sc.a.mark(Ic),Cc=sc.a.mark(wc),Oc=null;function Sc(e){var t,a,r,n,c;return sc.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(lc.select)(function(e){return e.auth.user});case 2:if(t=i.sent,a=e.message||"","roll"!==(r=e.data||{}).type){i.next=20;break}if("Initiative"!==(n=r).rollType){i.next=20;break}c=0,i.t0=n.rollAdvantageType,i.next=i.t0===j.Advantage?12:i.t0===j.Disadvantage?14:(i.t0,j.None,16);break;case 12:return c=Math.max(n.roll1Total,n.roll2Total),i.abrupt("break",18);case 14:return c=Math.min(n.roll1Total,n.roll2Total),i.abrupt("break",18);case 16:return c=n.roll1Total,i.abrupt("break",18);case 18:return i.next=20,Object(lc.put)(cc({initiativeRoll:c,pcId:n.pcId,npcTokenId:n.npcTokenId}));case 20:return i.next=22,Object(lc.put)(st());case 22:return i.next=24,Object(lc.call)(vc.database.create,"/chatroom",{sender:t.email,timestamp:dc.a.database.ServerValue.TIMESTAMP,msg:a,data:r});case 24:case"end":return i.stop()}},Ec)}var jc=function(e){var t=e.value;return Object.keys(t).map(function(e){return Object(b.a)({},t[e],{id:e})})};function Nc(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.fork)(vc.database.sync,dc.a.database(vc.app).ref("/chatroom").orderByChild("timestamp").limitToLast(100),{successActionCreator:ct,failureActionCreator:At,transform:jc},"value");case 2:case"end":return e.stop()}},bc)}function Ic(){var e,t;return sc.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(lc.select)(function(e){return e.ui.soundsMuted});case 2:return e=a.sent,t=(new Date).getTime(),e||Oc&&!(Oc<t-800)||(Oc=t,new uc.Howl({src:["".concat("","/sounds/plucky.mp3")]}).play()),a.next=7,Object(lc.delay)(7e3);case 7:return a.next=9,Object(lc.put)(Un());case 9:case"end":return a.stop()}},yc)}function wc(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.all)([Object(lc.fork)(Nc),Object(lc.takeEvery)(nt.CHAT.NEW.SAVE,Sc),Object(lc.takeEvery)(nt.CHAT.SYNC,Ic)]);case 2:case"end":return e.stop()}},Cc)}a(230);var Pc=sc.a.mark(_c),kc=sc.a.mark(Mc),Tc=sc.a.mark(Bc),Dc=sc.a.mark(xc);new dc.a.auth.EmailAuthProvider;function _c(e){return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(lc.call)(vc.auth.signInWithEmailAndPassword,e.username,e.password);case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),t.next=9,Object(lc.put)(Pa(t.t0));case 9:case"end":return t.stop()}},Pc,null,[[0,5]])}function Mc(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(lc.call)(vc.auth.signOut);case 3:localStorage.removeItem("firebaseConfig"),window.location.reload(),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(lc.put)(Da(e.t0));case 11:case"end":return e.stop()}},kc,null,[[0,7]])}function Bc(){var e,t,a,r,n,c;return sc.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(lc.call)(vc.auth.channel);case 2:e=i.sent;case 3:return i.next=6,Object(lc.take)(e);case 6:if(t=i.sent,!(a=t.user)){i.next=24;break}return i.next=11,Object(lc.put)(wa(a));case 11:return i.next=13,Object(lc.delay)(2500);case 13:return i.next=15,Object(lc.select)(function(e){return e.users.users});case 15:if(r=i.sent,n=a.uid,c=r.hasOwnProperty(n)?r[n]:null){i.next=22;break}return c={name:a.email,colour:16711680},i.next=22,Object(lc.call)(vc.database.patch,dc.a.database(vc.app).ref("/users/".concat(n)),c);case 22:i.next=26;break;case 24:return i.next=26,Object(lc.put)(Ta());case 26:i.next=3;break;case 28:case"end":return i.stop()}},Tc)}function xc(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.fork)(Bc);case 2:return e.next=4,Object(lc.all)([Object(lc.takeEvery)(Na.LOGIN.REQUEST,_c),Object(lc.takeEvery)(Na.LOGOUT.REQUEST,Mc)]);case 4:case"end":return e.stop()}},Dc)}a(1155);var Rc=a(304),Uc=a.n(Rc),Lc=sc.a.mark(Hc),Fc=sc.a.mark(Yc),Qc=sc.a.mark(Kc),Gc=Object($r.channel)();function Hc(e){var t,a,r,n;return sc.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t="uploads/".concat(e.name,"/").concat(Uc()()),(a=vc.storage.uploadFile(t,e.file)).on("state_changed",function(e){var t=100*e.bytesTransferred/e.totalBytes;console.log("".concat(t,"%")),Gc.put(pa(t))}),c.next=5,a;case 5:return c.prev=5,c.next=8,Object(lc.call)(vc.storage.getDownloadURL,t);case 8:return r=c.sent,n={downloadUrl:r,name:e.name,filePath:t,uploadTime:dc.a.database.ServerValue.TIMESTAMP},c.next=12,Object(lc.call)(vc.database.create,"/uploads",n);case 12:return c.next=14,Object(lc.put)(da());case 14:c.next=21;break;case 16:return c.prev=16,c.t0=c.catch(5),console.error(c.t0),c.next=21,Object(lc.put)(ha(c.t0));case 21:case"end":return c.stop()}},Lc,null,[[5,16]])}function Yc(){var e;return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(lc.take)(Gc);case 3:return e=t.sent,t.next=6,Object(lc.put)(e);case 6:t.next=0;break;case 8:case"end":return t.stop()}},Fc)}function Kc(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.fork)(Yc);case 2:return e.next=4,Object(lc.all)([Object(lc.takeEvery)(ua.STORAGE.SEND_FILE,Hc)]);case 4:case"end":return e.stop()}},Qc)}var Jc=sc.a.mark(Vc),Wc=sc.a.mark(Xc),zc=function(e){var t=e.value;return Object.keys(t).map(function(e){return Object(b.a)({},t[e],{id:e})})};function Vc(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.fork)(vc.database.sync,dc.a.database(vc.app).ref("/uploads").orderByChild("timestamp"),{successActionCreator:pn,failureActionCreator:dn,transform:zc},"value");case 2:case"end":return e.stop()}},Jc)}function Xc(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.all)([Object(lc.fork)(Vc)]);case 2:case"end":return e.stop()}},Wc)}var qc=sc.a.mark(ii),Zc=sc.a.mark(Ai),$c=sc.a.mark(oi),ei=sc.a.mark(si),ti=sc.a.mark(li),ai=sc.a.mark(ui),ri=sc.a.mark(pi),ni=function(e){var t=e.value;return Object.keys(t).map(function(e){return Object(b.a)({},t[e],{id:e})})},ci=function(e){var t=e.value;return Object.keys(t).map(function(e){return Object(b.a)({},t[e],{id:e})})};function ii(e){var t,a;return sc.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(lc.select)(function(e){return e.auth.user});case 2:return t=r.sent,a=Object(b.a)({},e.nonPlayerCharacterData,{timestamp:pc.database.ServerValue.TIMESTAMP,creator:t.uid}),r.next=6,Object(lc.call)(vc.database.create,"/nonPlayerCharacters",a);case 6:case"end":return r.stop()}},qc)}function Ai(e){var t,a;return sc.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(lc.select)(function(e){return e.auth.user});case 2:return t=r.sent,a=Object(b.a)({},e.character,{timestamp:pc.database.ServerValue.TIMESTAMP,creator:t.uid}),r.next=6,Object(lc.call)(vc.database.patch,"/playerCharacters/"+e.characterId,a);case 6:case"end":return r.stop()}},Zc)}function oi(e){var t,a;return sc.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(lc.select)(function(e){return e.auth.user});case 2:return t=r.sent,a=Object(b.a)({},e.playerCharacterData,{timestamp:pc.database.ServerValue.TIMESTAMP,creator:t.uid}),r.next=6,Object(lc.call)(vc.database.create,"/playerCharacters",a);case 6:case"end":return r.stop()}},$c)}function si(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.fork)(vc.database.sync,pc.database(vc.app).ref("/playerCharacters"),{successActionCreator:pt,failureActionCreator:dt,transform:ni},"value");case 2:case"end":return e.stop()}},ei)}function li(e){var t,a;return sc.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(lc.select)(function(e){return e.auth.user});case 2:return t=r.sent,a=Object(b.a)({},e.character,{timestamp:pc.database.ServerValue.TIMESTAMP,creator:t.uid}),r.next=6,Object(lc.call)(vc.database.update,"/nonPlayerCharacters/"+e.characterId,a);case 6:return r.next=8,Object(lc.call)(vc.database.update,"/lastUpdates/nonPlayerCharacters",pc.database.ServerValue.TIMESTAMP);case 8:case"end":return r.stop()}},ti)}function ui(){var e,t;return sc.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(lc.delay)(100);case 3:return a.next=5,Object(lc.select)(function(e){return e.assets._persist.rehydrated});case 5:if(!a.sent){a.next=7;break}return a.abrupt("break",9);case 7:a.next=0;break;case 9:return a.next=11,Object(lc.select)(function(e){return e.assets.nonPlayerCharacterLastUpdate});case 11:return e=a.sent,a.next=14,Object(lc.fork)(vc.database.sync,pc.database(vc.app).ref("/lastUpdates/nonPlayerCharacters"),{successActionCreator:Et},"value");case 14:return a.next=16,Object(lc.take)(lt.ASSETS.NONPLAYERCHARACTER.LAST_UPDATE.SYNC);case 16:if(t=a.sent,e!==t.lastUpdate){a.next=20;break}return a.next=20,Object(lc.take)(lt.ASSETS.NONPLAYERCHARACTER.LAST_UPDATE.SYNC);case 20:return a.next=22,Object(lc.fork)(vc.database.sync,pc.database(vc.app).ref("/nonPlayerCharacters"),{successActionCreator:mt,failureActionCreator:ft,transform:ci},"value");case 22:case"end":return a.stop()}},ai)}function pi(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.all)([Object(lc.fork)(si),Object(lc.fork)(ui),Object(lc.takeEvery)(lt.ASSETS.PLAYERCHARACTER.UPDATE,Ai),Object(lc.takeEvery)(lt.ASSETS.PLAYERCHARACTER.NEW.SAVE,oi),Object(lc.takeEvery)(lt.ASSETS.NONPLAYERCHARACTER.UPDATE,li),Object(lc.takeEvery)(lt.ASSETS.NONPLAYERCHARACTER.NEW.SAVE,ii)]);case 2:case"end":return e.stop()}},ri)}var di,hi=sc.a.mark(Ei),mi=sc.a.mark(bi),fi=sc.a.mark(yi),gi=sc.a.mark(Ci),vi=function(e){var t=e.value;return Object.keys(t).map(function(e){return Object(b.a)({},t[e],{id:e})})};function Ei(e){var t,a;return sc.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(lc.select)(function(e){return e.auth.user});case 2:return t=r.sent,a=Object(b.a)({},e.spell,{timestamp:pc.database.ServerValue.TIMESTAMP,creator:t.uid}),r.next=6,Object(lc.call)(vc.database.create,"/spells",a);case 6:return r.next=8,Object(lc.call)(vc.database.update,"/lastUpdates/spells",pc.database.ServerValue.TIMESTAMP);case 8:case"end":return r.stop()}},hi)}function bi(e){var t,a;return sc.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(lc.select)(function(e){return e.auth.user});case 2:return t=r.sent,a=Object(b.a)({},e.spell,{timestamp:pc.database.ServerValue.TIMESTAMP,creator:t.uid}),r.next=6,Object(lc.call)(vc.database.update,"/spells/"+e.spellId,a);case 6:return r.next=8,Object(lc.call)(vc.database.update,"/lastUpdates/spells",pc.database.ServerValue.TIMESTAMP);case 8:case"end":return r.stop()}},mi)}function yi(){var e,t;return sc.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(lc.delay)(100);case 3:return a.next=5,Object(lc.select)(function(e){return e.assets._persist.rehydrated});case 5:if(!a.sent){a.next=7;break}return a.abrupt("break",9);case 7:a.next=0;break;case 9:return a.next=11,Object(lc.select)(function(e){return e.spells.lastUpdate});case 11:return e=a.sent,a.next=14,Object(lc.fork)(vc.database.sync,pc.database(vc.app).ref("/lastUpdates/spells"),{successActionCreator:jn},"value");case 14:return a.next=16,Object(lc.take)(Cn.SPELLS.LAST_UPDATE.SYNC);case 16:if(t=a.sent,e!==t.lastUpdate){a.next=20;break}return a.next=20,Object(lc.take)(Cn.SPELLS.LAST_UPDATE.SYNC);case 20:return a.next=22,Object(lc.fork)(vc.database.sync,pc.database(vc.app).ref("/spells"),{successActionCreator:On,failureActionCreator:Sn,transform:vi},"value");case 22:case"end":return a.stop()}},fi)}function Ci(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.all)([Object(lc.fork)(yi),Object(lc.takeEvery)(Cn.SPELLS.UPDATE,bi),Object(lc.takeEvery)(Cn.SPELLS.NEW.SAVE,Ei)]);case 2:case"end":return e.stop()}},gi)}!function(e){e[e.PlayerCharacter=0]="PlayerCharacter",e[e.NonPlayerCharacter=1]="NonPlayerCharacter"}(di||(di={}));var Oi=sc.a.mark(Mi),Si=sc.a.mark(Bi),ji=sc.a.mark(xi),Ni=sc.a.mark(Ri),Ii=sc.a.mark(Ui),wi=sc.a.mark(Li),Pi=sc.a.mark(Fi),ki=sc.a.mark(Qi),Ti=sc.a.mark(Gi),Di=sc.a.mark(Hi),_i=function(e){var t=e.value;return Object.keys(t).map(function(e){return Object(b.a)({},t[e],{id:e})})};function Mi(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.fork)(vc.database.sync,dc.a.database(vc.app).ref("/maps"),{successActionCreator:Mr,failureActionCreator:Br,transform:_i},"value");case 2:case"end":return e.stop()}},Oi)}function Bi(e){var t,a;return sc.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.mapId,a=e.colour,r.next=3,Object(lc.call)(vc.database.update,"/maps/".concat(t,"/backgroundColour"),a);case 3:case"end":return r.stop()}},Si)}function xi(e){var t,a,r,n,c;return sc.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.mapId,a=e.assetType,r=e.assetId,n=e.initialData,c=Object(b.a)({anchor:{x:.5,y:.5},pivot:{x:.5,y:.5},name:"New Asset",position:{x:0,y:0},rotation:0,scale:{x:1,y:1},layer:"tokens"},n||{}),a===di.PlayerCharacter?c.pcId=r:a===di.NonPlayerCharacter&&(c.npcId=r),i.next=5,Object(lc.call)(vc.database.create,"/maps/".concat(t,"/objects"),c);case 5:case"end":return i.stop()}},ji)}function Ri(e){var t,a,r,n;return sc.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.mapId,a=e.imageRef,r=e.initialData,n=Object(b.a)({anchor:{x:.5,y:.5},pivot:{x:.5,y:.5},name:"New Map Object",position:{x:0,y:0},rotation:0,scale:{x:1,y:1},imageRef:a,layer:"background"},r||{}),c.next=4,Object(lc.call)(vc.database.create,"/maps/".concat(t,"/objects"),n);case 4:case"end":return c.stop()}},Ni)}function Ui(e){var t,a,r;return sc.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.mapId,a=e.mapObjectId,r=e.newData,n.next=3,Object(lc.call)(vc.database.patch,"/maps/".concat(t,"/objects/").concat(a),r);case 3:case"end":return n.stop()}},Ii)}function Li(e){var t,a;return sc.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.mapId,a=e.mapObjectId,r.next=3,Object(lc.call)(vc.database.delete,"/maps/".concat(t,"/objects/").concat(a));case 3:case"end":return r.stop()}},wi)}function Fi(e){var t,a,r,n;return sc.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.mapId,a=e.fogPolygonId,r=e.position,(n=e.points)&&0!==n.length){c.next=6;break}return c.next=4,Object(lc.call)(vc.database.delete,"/maps/".concat(t,"/fog/maskPolygons/").concat(a));case 4:c.next=8;break;case 6:return c.next=8,Object(lc.call)(vc.database.update,"/maps/".concat(t,"/fog/maskPolygons/").concat(a),{position:{x:r.x,y:r.y},points:n});case 8:case"end":return c.stop()}},Pi)}function Qi(e){var t,a;return sc.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.mapId,a=e.colour,r.next=3,Object(lc.call)(vc.database.update,"/maps/".concat(t,"/fog/colour"),a);case 3:case"end":return r.stop()}},ki)}function Gi(e){return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(lc.call)(vc.database.update,"/maps/".concat(e.mapId,"/layers/").concat(e.layerId,"/locked"),e.locked);case 2:case"end":return t.stop()}},Ti)}function Hi(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.all)([Object(lc.fork)(Mi),Object(lc.takeEvery)(_r.MAPS.UPDATE.BACKGROUND_COLOUR,Bi),Object(lc.takeEvery)(_r.MAPS.ASSET.ADD,xi),Object(lc.takeEvery)(_r.MAPS.IMAGE.ADD,Ri),Object(lc.takeEvery)(_r.MAPS.REMOVE.OBJECT,Li),Object(lc.takeEvery)(_r.MAPS.UPDATE.OBJECT,Ui),Object(lc.takeEvery)(_r.MAPS.FOG.UPDATE.POLYGON,Fi),Object(lc.takeEvery)(_r.MAPS.FOG.UPDATE.COLOUR,Qi),Object(lc.takeEvery)(_r.MAPS.UPDATE.LAYER_LOCKED,Gi)]);case 2:case"end":return e.stop()}},Di)}var Yi=sc.a.mark(zi),Ki=sc.a.mark(Vi),Ji=sc.a.mark(Xi),Wi=function(e){return e.value};function zi(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.fork)(vc.database.sync,dc.a.database(vc.app).ref("/globalState"),{successActionCreator:xn,failureActionCreator:Rn,transform:Wi},"value");case 2:case"end":return e.stop()}},Yi)}function Vi(e){return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(lc.call)(vc.database.update,"/globalState/activeMapId",e.mapId);case 2:case"end":return t.stop()}},Ki)}function Xi(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.all)([Object(lc.fork)(zi),Object(lc.takeEvery)(Bn.GLOBAL_STATE.SET_ACTIVE_MAP,Vi)]);case 2:case"end":return e.stop()}},Ji)}var qi=sc.a.mark(aA),Zi=sc.a.mark(rA),$i=sc.a.mark(nA),eA=sc.a.mark(cA),tA=function(e){return e.value};function aA(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.fork)(vc.database.sync,dc.a.database(vc.app).ref("/mapPings"),{successActionCreator:Fr,failureActionCreator:Qr,transform:tA},"child_changed");case 2:case"end":return e.stop()}},qi)}function rA(e){var t;return sc.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("PING @ ".concat(e.ping.position.x,", ").concat(e.ping.position.y," by userId ").concat(e.ping.userId)),t=Object(Fa.v4)(),a.next=4,Object(lc.put)(Gr(t,e.ping));case 4:return a.next=6,Object(lc.delay)(3e3);case 6:return a.next=8,Object(lc.put)(Hr(t));case 8:case"end":return a.stop()}},Zi)}function nA(e){return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(lc.call)(vc.database.update,"/mapPings/".concat(e.ping.userId),e.ping);case 2:case"end":return t.stop()}},$i)}function cA(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.all)([Object(lc.fork)(aA),Object(lc.takeEvery)(Lr.MAP_PINGS.SYNC.NEW_PING,rA),Object(lc.takeEvery)(Lr.MAP_PINGS.SEND_PING,nA)]);case 2:case"end":return e.stop()}},eA)}var iA=sc.a.mark(dA),AA=sc.a.mark(hA),oA=sc.a.mark(mA),sA=sc.a.mark(fA),lA=sc.a.mark(gA),uA=sc.a.mark(vA),pA=sc.a.mark(EA);function dA(){var e,t;return sc.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=dc.a.auth(vc.app);case 1:if(e.currentUser){a.next=6;break}return a.next=4,Object(lc.delay)(500);case 4:a.next=1;break;case 6:return t=dc.a.database(vc.app).ref("/userPresence/"+e.currentUser.uid),dc.a.database(vc.app).ref("/.info/connected").on("value",function(e){e.val()&&(t.onDisconnect().remove(),t.set(!0))}),a.next=11,Object(lc.fork)(vc.database.sync,dc.a.database(vc.app).ref("/userPresence"),{successActionCreator:Wn,failureActionCreator:zn},"value");case 11:case"end":return a.stop()}},iA)}function hA(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.fork)(vc.database.sync,dc.a.database(vc.app).ref("/users"),{successActionCreator:Vn,failureActionCreator:Xn},"value");case 2:case"end":return e.stop()}},AA)}function mA(e){var t,a,r;return sc.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=dc.a.auth().currentUser){n.next=3;break}return n.abrupt("return");case 3:return a=e.users&&e.users[t.uid]&&e.users[t.uid].dm,n.next=6,Object(lc.select)(function(e){return e.auth.canBeDm});case 6:if(r=n.sent,a===r){n.next=10;break}return n.next=10,Object(lc.put)(_a(a));case 10:case"end":return n.stop()}},oA)}function fA(e){return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(lc.call)(vc.database.patch,dc.a.database(vc.app).ref("/users/".concat(e.userId)),{colour:e.colour});case 2:case"end":return t.stop()}},sA)}function gA(e){return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(lc.call)(vc.database.patch,dc.a.database(vc.app).ref("/users/".concat(e.userId,"/journal/private")),e.data);case 2:case"end":return t.stop()}},lA)}function vA(e){return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(lc.call)(vc.database.patch,dc.a.database(vc.app).ref("/users/".concat(e.userId,"/journal/public")),e.data);case 2:case"end":return t.stop()}},uA)}function EA(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.all)([Object(lc.fork)(dA),Object(lc.fork)(hA),Object(lc.takeEvery)(Jn.USERS.SYNC,mA),Object(lc.takeEvery)(Jn.USERS.SET_COLOUR,fA),Object(lc.takeEvery)(Jn.USERS.JOURNAL.PRIVATE.UPDATE,gA),Object(lc.takeEvery)(Jn.USERS.JOURNAL.PUBLIC.UPDATE,vA)]);case 2:case"end":return e.stop()}},pA)}var bA=sc.a.mark(wA),yA=sc.a.mark(PA),CA=sc.a.mark(kA),OA=sc.a.mark(TA),SA=sc.a.mark(DA),jA=sc.a.mark(_A),NA=sc.a.mark(MA),IA=function(e){return e.value};function wA(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.fork)(vc.database.sync,dc.a.database(vc.app).ref("/initiatives"),{successActionCreator:rc,failureActionCreator:nc,transform:IA},"value");case 2:case"end":return e.stop()}},bA)}function PA(e){return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(lc.call)(vc.database.create,"/initiatives/rolls",e.data);case 2:case"end":return t.stop()}},yA)}function kA(e){return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(lc.call)(vc.database.delete,"/initiatives/rolls/".concat(e.id));case 2:case"end":return t.stop()}},CA)}function TA(e){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.call)(vc.database.delete,"/initiatives/rolls");case 2:case"end":return e.stop()}},OA)}function DA(e){return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(lc.call)(vc.database.update,"/initiatives/currentTurn",e.id);case 2:case"end":return t.stop()}},SA)}function _A(e){return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(lc.call)(vc.database.update,"/initiatives/rolls/".concat(e.initiativeId,"/initiativeRoll"),e.newRoll);case 2:case"end":return t.stop()}},jA)}function MA(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.all)([Object(lc.fork)(wA),Object(lc.takeEvery)(ac.INITIATIVE.ADD_ROLL,PA),Object(lc.takeEvery)(ac.INITIATIVE.REMOVE,kA),Object(lc.takeEvery)(ac.INITIATIVE.CLEAR,TA),Object(lc.takeEvery)(ac.INITIATIVE.SET_CURRENT_TURN,DA),Object(lc.takeEvery)(ac.INITIATIVE.UPDATE.ROLL,_A)]);case 2:case"end":return e.stop()}},NA)}var BA=sc.a.mark(xA);function xA(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lc.all)([Object(lc.fork)(wc),Object(lc.fork)(xc),Object(lc.fork)(Kc),Object(lc.fork)(Xc),Object(lc.fork)(pi),Object(lc.fork)(Ci),Object(lc.fork)(Hi),Object(lc.fork)(Xi),Object(lc.fork)(cA),Object(lc.fork)(EA),Object(lc.fork)(MA)]);case 2:case"end":return e.stop()}},BA)}var RA,UA=Object(en.a)({basename:""}),LA=Object($r.default)(),FA=[LA],QA=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Zr.compose).apply(void 0,[Zr.applyMiddleware.apply(void 0,FA)].concat([])),GA=Object(Zr.createStore)((RA=UA,Object(Zr.combineReducers)({router:Object(tn.a)(RA),chat:rn,auth:on,storage:ln,images:mn,assets:yn,spells:wn,maps:kn,characters:cn,ui:Mn,globalState:Fn,mapPings:Yn,users:Zn,keys:tc,initiative:Ac})),{},QA),HA=Object(fn.b)(GA);LA.run(xA);var YA,KA={store:GA,persistor:HA},JA=a(490),WA=a.n(JA),zA=a(211),VA=a.n(zA),XA=a(210),qA=a.n(XA),ZA=a(492),$A=a.n(ZA),eo=function(e){return l.a.createElement("div",{style:{backgroundColor:"blue",width:e.width||"16px",height:e.diameter?e.diameter/2:"64px",position:"absolute",left:"50%",transform:"rotate(".concat(e.rotation,"deg) translate(-50%, 0)"),transformOrigin:"0% 100%"}})},to=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e)))._el=void 0,a.mouseDown=function(e){a.setState({isActive:!0})},a.mouseMove=function(e){a.state.isActive&&a._updateRotation(e)},a.mouseUp=function(e){a.state.isActive&&(a.setState({isActive:!1}),a._updateRotation(e),a.props.rotationChanged&&a.props.rotationChanged(a.state.rotationDeg,a.state.rotationRad))},a._updateRotation=function(e){var t=a._el.clientWidth/2,r=a._el.clientHeight/2;if(e.currentTarget){var n=e.currentTarget.getBoundingClientRect(),c=e.clientX-n.left-t,i=e.clientY-n.top-r,A=Math.atan2(i,c)+Math.PI/2,o=A*(180/Math.PI);a.setState({rotationDeg:o,rotationRad:A})}},a.state={isActive:!1,rotationDeg:(a.props.initialRotationRad||0)*(180/Math.PI),rotationRad:a.props.initialRotationRad||0},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.initialRotationRad!==this.props.initialRotationRad&&this.setState({rotationDeg:(this.props.initialRotationRad||0)*(180/Math.PI),rotationRad:this.props.initialRotationRad||0})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{ref:function(t){return e._el=t},onMouseDown:this.mouseDown,onMouseMove:this.mouseMove,onMouseUp:this.mouseUp,style:Object(b.a)({display:"block",cursor:"grab",position:"relative",backgroundColor:"red",width:this.props.diameter||"128px",height:this.props.diameter||"128px",borderRadius:"50%",overflow:"hidden"},this.props.style)},l.a.createElement(eo,{diameter:this.props.diameter,width:8,rotation:this.state.rotationDeg}))}}]),t}(s.Component),ao=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.images,a=e.nonPlayerCharacters,r=e.characterSheetId,n=e.token,c=this.updateCharacter.bind(this);if(!r)return null;var i=a.find(function(e){return e.id===r});if(i){var A=t.find(function(e){return e.filePath===i.imageRef});return l.a.createElement(aa,Object.assign({},this.props,{character:Object(b.a)({},i,{hp:n.hp&&n.hp.value,maxHp:n.hp&&n.hp.max}),characterId:this.props.characterSheetId,image:A,editing:!1,inline:!0,updateNonPlayerCharacter:c}))}return null}},{key:"updateCharacter",value:function(e,t){this.props.updateToken(this.props.mapId,this.props.tokenId,Object(b.a)({},this.props.token,{hp:{value:t.hp,max:t.maxHp}}))}}]),t}(s.Component),ro=Object(m.c)(function(e){return{nonPlayerCharacters:e.assets.nonPlayerCharacters,images:e.images.images}},function(e){return{sendMessage:function(t,a){return e(it(t,a))},updateNonPlayerCharacter:function(t,a){return e(gt(t,a))},updateToken:function(t,a,r){return e(xr(t,a,r))}}})(ao),no=a(491),co=a.n(no),io=function(e){return l.a.createElement("div",{style:{marginTop:"10px"}},e.children)},Ao=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).state={objectId:null,object:null,rotation:0,layer:null,isPcAsset:!1,isNpcAsset:!1,layers:[],scaleX:1,scaleY:1,dmOnly:!1},a.handleChange=function(e){return function(t){null!==t.target.value&&a.setState(Object(E.a)({},e,t.target.value))}},a.onChangeDmOnly=function(e){a.setState({dmOnly:!!e.target.checked})},a.removeObject=function(){a.props.removeObject&&a.props.removeObject(a.props.map.id,a.state.objectId)},a.saveChanges=function(){if(a.props.onUpdateObject){if(!a.state.object||!a.state.objectId)return;a.props.onUpdateObject(a.props.map.id,a.state.objectId,{rotation:a.state.rotation,layer:a.state.layer,scale:{x:a.state.scaleX,y:a.state.scaleY},dmOnly:a.state.dmOnly})}},a.updateState=function(e){var t=e.selected,r=e.map,n=t.length>0?t[0]:null,c=n&&r.objects.hasOwnProperty(n)?r.objects[n]:null,i=!!c&&!!c.pcId,A=!!c&&!!c.npcId,o=r&&r.layers?Object.keys(r.layers).map(function(e){return Object(b.a)({},r.layers[e],{id:e})}):[];a.setState({objectId:n,object:c,rotation:c?c.rotation:0,layer:c?c.layer:null,isPcAsset:i,isNpcAsset:A,layers:o,scaleX:c?c.scale.x:1,scaleY:c?c.scale.y:1,dmOnly:c&&c.dmOnly||!1})},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.updateState(this.props)}},{key:"componentDidUpdate",value:function(e,t){this.props.map===e.map&&this.props.selected===e.selected||this.updateState(this.props)}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,r=t.dm,n=this.state,c=n.object,i=n.rotation,A=n.layers,o=n.scaleX,s=n.scaleY;return a&&c?l.a.createElement("div",{style:{backgroundColor:"#222",width:"400px",height:"100%",position:"absolute",top:0,left:0,overflow:"hidden scroll",zIndex:99}},l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},this.props.selected&&this.props.selected.length>1&&l.a.createElement("div",{className:co.a.multiSelect},this.props.selected.length," item",this.props.selected.length>1?"s":""," selected"),c.npcId&&l.a.createElement(ro,{characterSheetId:c.npcId,token:c,tokenId:this.state.objectId,mapId:this.props.map.id}),l.a.createElement(io,null,"Rotation",l.a.createElement("input",{type:"number",value:i,onChange:this.handleChange("rotation")}),l.a.createElement(to,{diameter:64,style:{marginLeft:"auto",marginRight:"auto"},initialRotationRad:i,rotationChanged:function(t,a){e.setState({rotation:a})}})),r&&l.a.createElement(io,null,"Layer = ",c.layer,l.a.createElement("select",{value:c.layer,onChange:this.handleChange("layer")},l.a.createElement("option",{value:null},"---"),A.map(function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.id," (",e.zIndex,")")}))),!this.state.isNpcAsset&&!this.state.isPcAsset&&l.a.createElement("div",null,l.a.createElement(io,null,l.a.createElement("span",{style:{marginRight:5}},"Scale X"),l.a.createElement("input",{type:"number",value:o,onChange:this.handleChange("scaleX")})),l.a.createElement(io,null,l.a.createElement("span",{style:{marginRight:5}},"Scale Y"),l.a.createElement("input",{type:"number",value:s,onChange:this.handleChange("scaleY")}))),r&&l.a.createElement(io,null,l.a.createElement(ma.d,{control:l.a.createElement(ma.m,{checked:this.state.dmOnly,onChange:this.onChangeDmOnly}),label:"DM Only"})),l.a.createElement(ma.a,{fullWidth:!0,color:"primary",variant:"contained",onClick:this.saveChanges,style:{marginTop:"15px"}},"Save",l.a.createElement(qA.a,null)),l.a.createElement(ma.a,{fullWidth:!0,color:"secondary",variant:"contained",onClick:this.removeObject,style:{marginTop:"15px"}},"Remove Object",l.a.createElement($A.a,null))),l.a.createElement("div",{style:{padding:2,color:"#d29a38",textAlign:"center",top:"8px",right:"8px",position:"absolute",width:24,height:24,cursor:"pointer"},onClick:function(){return e.props.close()}},l.a.createElement("span",{style:{}},l.a.createElement(VA.a,null)))):l.a.createElement("div",null)}}]),t}(s.Component),oo=Object(Yr.a)(function(e){return e.maps.maps},function(e){return e.globalState.state?e.globalState.state.activeMapId:null},function(e,t){return e&&t?e.find(function(e){return e.id===t}):null}),so=(Object(Yr.a)(oo,function(e){return e?e.backgroundColour:null}),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.map,a=e.selected,r=e.onUpdateObject,n=e.removeObject,c=e.close,i=e.dm;return l.a.createElement(Ao,{visible:a&&a.length>0,selected:a,map:t,onUpdateObject:r,removeObject:n,close:c,dm:i})}}]),t}(s.Component)),lo=Object(m.c)(function(e){return{selected:e.maps.selectedObjects,map:oo(e),dm:e.auth.dm}},function(e){return{onUpdateObject:function(t,a,r){return e(xr(t,a,r))},removeObject:function(t,a){return e(function(e,t){return{type:_r.MAPS.REMOVE.OBJECT,mapId:e,mapObjectId:t}}(t,a))},close:function(){return e(Rr({mapObjectId:null}))}}})(so),uo=a(215),po=a.n(uo),ho=(a(437),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.styles,r=t.sender||"unknown",n=(t.msg||"").split(/\s/),c=n.map(function(e,t){var a=t!==n.length-1?" ":"";return e.match(/^https?\:\//)?l.a.createElement("a",{key:t,href:e,target:"_blank"},e,a):e+a});return l.a.createElement("div",{className:a.message,key:t.id},l.a.createElement("div",{className:a.username},r," :"),l.a.createElement("div",null,c))}}]),t}(l.a.Component)),mo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.props.message,a=t.data;switch(a.rollType){case"Skill":e="roll-skill";break;case"Ability":e="roll-ability";break;case"Initiative":e="roll-initiative";break;case"Attack":e="roll-attack";break;case"Spell":e="roll-spell";break;case"Ad-hoc":default:e="roll-adhoc"}var r=a.rollAdvantageType>0&&a.roll1Total<a.roll2Total||a.rollAdvantageType<0&&a.roll1Total>a.roll2Total,n=a.rollAdvantageType&&!r,c=t.data&&t.data.characterName||t.sender;return l.a.createElement("div",{className:"roll-container ".concat(e)},l.a.createElement("div",{className:"roll-header"},l.a.createElement("span",{className:"roll-user"},c),l.a.createElement("span",{className:"roll-type"},a.rollType)),l.a.createElement("div",{className:"roll-title"},l.a.createElement("span",{className:"roll-name"},a.rollName),null!==a.modifier&&void 0!==a.modifier&&l.a.createElement("span",{className:"roll-modifier"},"(",a.modifier,")")),l.a.createElement("div",{className:"roll-rolls"},l.a.createElement("div",{className:"roll-1 ".concat(r?"ignore":"")},l.a.createElement("span",{className:"summary "+(a.roll1CritSuccess?"crit":a.roll1CritFail?"critFail":"")},l.a.createElement("span",{className:"roll-total"},a.roll1Total),l.a.createElement("span",{className:"roll-suffix"},a.rollSuffix)),l.a.createElement("span",{className:"details"},a.roll1Details)),a.roll2Details&&a.rollAdvantageType&&l.a.createElement("div",{className:a.rollAdvantageType>0?"roll-advantage":"roll-disadvantage"},a.rollAdvantageType>0?"A":"D"),a.roll2Details&&l.a.createElement("div",{className:"roll-2 ".concat(n?"ignore":"")},l.a.createElement("span",{className:"summary "+(a.roll2CritSuccess?"crit":a.roll2CritFail?"critFail":"")},l.a.createElement("span",{className:"roll-total"},a.roll2Total),l.a.createElement("span",{className:"roll-suffix"},a.rollSuffix)),l.a.createElement("span",{className:"details"},a.roll2Details))))}}]),t}(l.a.Component),fo=a(97),go=a.n(fo),vo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.result,t=[],a=0,r=!0,n=!1,c=void 0;try{for(var i,A=e.rolls[Symbol.iterator]();!(r=(i=A.next()).done);r=!0){var o=i.value;t.push(l.a.createElement("div",{key:a++,className:"".concat(go.a.roll," ").concat(o.ignore?"ignore":"")},l.a.createElement("span",{className:"summary "+(o.critSuccess?"crit":o.critFail?"critFail":"")},l.a.createElement("span",{className:"roll-total"},o.total),l.a.createElement("span",{className:"roll-suffix",style:{paddingLeft:"2px"}},o.suffix)),l.a.createElement("span",{className:"details"},o.details))),e.advantage&&o!=e.rolls[e.rolls.length-1]&&t.push(l.a.createElement("div",{key:a++,className:e.advantage===j.Advantage?"roll-advantage":"roll-disadvantage"},e.advantage===j.Advantage?"A":"D"))}}catch(s){n=!0,c=s}finally{try{r||null==A.return||A.return()}finally{if(n)throw c}}return l.a.createElement("div",{className:"roll-rolls"},t)}}]),t}(l.a.Component),Eo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.result;return l.a.createElement("div",{className:"text",style:{marginTop:"4px"}},e.text)}}]),t}(l.a.Component),bo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.result;return l.a.createElement("div",{className:"column"},l.a.createElement("div",null,e.condition),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"column"},l.a.createElement("div",null,"On success:"),l.a.createElement("div",null,l.a.createElement(yo,{action:e.onSuccess}))),l.a.createElement("div",{className:"column"},l.a.createElement("div",null,"On failure:"),l.a.createElement("div",null,l.a.createElement(yo,{action:e.onFailure})))))}}]),t}(l.a.Component),yo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.action;switch(e.type){case S.Text:return l.a.createElement(Eo,{result:e});case S.DiceRoll:return l.a.createElement(vo,{result:e});case S.Condition:return l.a.createElement(bo,{result:e});default:return l.a.createElement("div",null,"Unknown action type ",e.type,"!")}}}]),t}(l.a.Component),Co=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.message,t=e.data,a=[];for(var r in t.results){var n=t.results[r];a.push(l.a.createElement(yo,{key:r,action:n}))}return l.a.createElement("div",{className:go.a.characterActionContainer},l.a.createElement("div",{className:go.a.actionHeader},l.a.createElement("span",{className:go.a.actionUser},t.characterName||e.sender),l.a.createElement("span",{className:go.a.actionType},"Action")),l.a.createElement("div",{className:go.a.actionTitle},l.a.createElement("span",{className:go.a.actionName},t.title)),t.results.map(function(e,t){return l.a.createElement(yo,{key:t,action:e})}))}}]),t}(l.a.Component),Oo=a(116),So=a.n(Oo),jo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.message,t=e.data;return l.a.createElement("div",{className:So.a.info,key:e.id},l.a.createElement("div",{className:So.a.infoHeader},l.a.createElement("span",{className:So.a.infoUser},t.characterName||e.sender),l.a.createElement("span",{className:So.a.infoType},"Info")),l.a.createElement("div",{className:So.a.infoTitle},l.a.createElement("span",null,t.title)),l.a.createElement("span",{className:So.a.infoDetails},t.details))}}]),t}(l.a.Component),No=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).state={msg:""},a.scrollDiv=void 0,a.scrollToBottomOfChat=function(){a.scrollDiv&&(a.scrollDiv.scrollTop=a.scrollDiv.scrollHeight)},a.handleMsgChange=function(e){a.setState({msg:e.target.value})},a.handleEnter=function(e){if(27!==e.keyCode){if(13===e.keyCode)if(a.props.messagesOpen)if(a.state.msg){if(a.state.msg.match(/^\d*?d(\d+|%)/)){var t=new I.DiceRoll(a.state.msg),r={type:"roll",rollType:"Ad-hoc",rollName:t.notation,modifier:null,roll1Total:t.total,roll1Details:t.toString().match(/.*?: (.*?) =/)[1],roll1CritSuccess:!1,roll1CritFail:!1};a.props.sendMessage("",r)}else a.sendMessage(a.state.msg);a.setState({msg:""})}else a.props.closeChat();else a.props.openChat()}else a.props.closeChat()},a.sendMessage=function(e){a.props.sendMessage(e)},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.scrollToBottomOfChat()}},{key:"componentDidMount",value:function(){this.scrollToBottomOfChat()}},{key:"render",value:function(){var e=this,t=this.props,a=t.messages,r=t.messagesOpen;return r?l.a.createElement("div",{className:po.a.chatContainer},l.a.createElement("div",{className:po.a.messages,ref:function(t){return e.scrollDiv=t}},a.map(function(t,a){switch(t.data&&t.data.type){case"roll":return l.a.createElement(mo,{message:t,key:a});case"action":case"spell":return l.a.createElement(Co,{message:t,key:a});case"info":return l.a.createElement(jo,{message:t,key:a});default:return l.a.createElement(ho,{message:t,key:a,styles:po.a,isOwner:t.sender===e.props.user.email})}})),l.a.createElement("input",{onChange:function(t){return e.handleMsgChange(t)},onKeyDown:function(t){return e.handleEnter(t)},autoFocus:!0,disabled:!r,value:this.state.msg})):null}}]),t}(l.a.Component),Io=a(216),wo=a.n(Io),Po=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).scrollDiv=void 0,a.scrollToBottomOfChat=function(){a.scrollDiv&&(a.scrollDiv.scrollTop=a.scrollDiv.scrollHeight)},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.scrollToBottomOfChat()}},{key:"componentDidMount",value:function(){this.scrollToBottomOfChat()}},{key:"render",value:function(){var e=this,t=this.props,a=t.recentMessages;return t.messagesOpen?null:l.a.createElement("div",{className:wo.a.chatContainer},l.a.createElement("div",{className:wo.a.messages,ref:function(t){return e.scrollDiv=t}},a.map(function(t,a){switch(t.data&&t.data.type){case"roll":return l.a.createElement(mo,{message:t,key:a});case"action":case"spell":return l.a.createElement(Co,{message:t,key:a});case"info":return l.a.createElement(jo,{message:t,key:a});default:return l.a.createElement(ho,{message:t,key:a,styles:wo.a,isOwner:t.sender===e.props.user.email})}})))}}]),t}(l.a.Component),ko=Object(Yr.a)(function(e){return e.chat.messages},function(e){return e.globalState.currentTime},function(e,t){return e?[].concat(e).filter(function(e){return e.timestamp>t-7e3}):[]}),To=a(501),Do=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).state={showWindowPortal:!1,chatPosition:{x:440,y:-640},chatDelta:{width:440,height:600}},a._chat=void 0,a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.showWindowPortal&&!t.showWindowPortal&&this.forceUpdate()}},{key:"render",value:function(){var e=this,t=l.a.createElement(No,Object.assign({},this.props,{ref:function(t){return e._chat=t},messagesOpen:this.props.messagesOpen||this.state.showWindowPortal}));return l.a.createElement("div",{style:{height:"100%"}},this.state.showWindowPortal?l.a.createElement(oa,{title:"Chat",width:440,height:600,onClose:function(){return e.setState({showWindowPortal:!1})}},t):l.a.createElement("div",null,l.a.createElement(Po,this.props),this.props.messagesOpen&&l.a.createElement(To.a,{default:{x:this.state.chatPosition.x,y:this.state.chatPosition.y,width:this.state.chatDelta.width,height:this.state.chatDelta.height},minWidth:200,minHeight:100,disableDragging:!0,onResizeStop:function(t,a,r,n,c){return e.setState(function(e){return{chatPosition:c,chatDelta:{width:e.chatDelta.width+n.width,height:e.chatDelta.height+n.height}}})}},this.props.messagesOpen&&t,this.props.messagesOpen&&l.a.createElement(ma.f,{style:{position:"absolute",top:5,right:5,cursor:"pointer",fontSize:18,color:"#d29a38"},onClick:function(){return e.setState({showWindowPortal:!0})}},"open_in_new"))))}}]),t}(s.Component),_o=Object(m.c)(function(e){return{messages:e.chat.messages,recentMessages:ko(e),loggedIn:e.auth.loggedIn,user:e.auth.user,messagesOpen:e.chat.messagesOpen,currentTime:e.globalState.currentTime}},function(e){return{sendMessage:function(t,a){return e(it(t,a))},login:function(t,a){return e(Ia(t,a))},closeChat:function(){return e(st())},openChat:function(){return e(ot())},updateTime:function(){return e(Un())}}})(Do),Mo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.onClick,r=e.active;return l.a.createElement("div",{style:{}},l.a.createElement("div",{style:{padding:"50% 0",height:0}},l.a.createElement("div",{style:{display:"block",padding:10,backgroundColor:r?"purple":"red",borderLeft:"1px dashed #444",cursor:"pointer",transform:"rotate(-90deg)",transformOrigin:"left top",textTransform:"uppercase",whiteSpace:"nowrap",textAlign:"center",transition:"background-color 500ms",transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)",userSelect:"none",marginLeft:"3px"},onClick:function(){return a()}},t)))}}]),t}(s.Component),Bo=a(1164),xo=a(156),Ro=a.n(xo),Uo=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).state={in:!1},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.setState({in:!0})},0)}},{key:"render",value:function(){return l.a.createElement("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0,padding:"5px",overflowY:"scroll"}},l.a.createElement(Bo.a,{in:this.state.in,timeout:500,classNames:{enter:Ro.a.enter,enterActive:Ro.a.enterActive,exit:Ro.a.exit,exitActive:Ro.a.exitActive}},l.a.createElement("div",{style:{height:"100%"}},this.props.children)))}}]),t}(s.Component);!function(e){e[e.UPLOAD=0]="UPLOAD",e[e.ASSETS=1]="ASSETS",e[e.GENERAL=2]="GENERAL",e[e.MAP=3]="MAP",e[e.JOURNAL=4]="JOURNAL"}(YA||(YA={}));var Lo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.upload;return(0,this.props.connectDragSource)(l.a.createElement("img",{src:e.downloadUrl,width:64,height:64}))}}]),t}(s.Component);var Fo=Object(Z.DragSource)(ee,{beginDrag:function(e){return{imageRef:e.upload.filePath}},endDrag:function(e,t,a){t.didDrop()&&(t.getItem(),t.getDropResult())}},function(e,t){return{connectDragSource:e.dragSource()}})(Lo),Qo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.uploads.map(function(e){return l.a.createElement(Fo,{key:e.id,upload:e})})}}]),t}(s.Component),Go=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.uploads;return l.a.createElement(Qo,{uploads:e})}}]),t}(s.Component),Ho=Object(m.c)(function(e){return{uploads:e.images.images}},function(e){return{}})(Go),Yo=a(155),Ko=a.n(Yo),Jo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.asset,a=(e.assetType,e.images.find(function(e){return e.filePath===t.imageRef}));return l.a.createElement("img",{className:Ko.a.image,src:a?a.downloadUrl:t.imageUrl||t.imageRef,alt:t.name||"unknown"})}}]),t}(s.Component),Wo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.asset,r=t.assetType,n=t.isDragging,c=t.connectDragSource,i={cursor:"grab",padding:"5px 10px"};return n&&(i.backgroundColor="red"),c(l.a.createElement("div",{className:Ko.a.item,style:i},r===di.PlayerCharacter&&l.a.createElement(Jo,this.props),l.a.createElement("div",{className:Ko.a.title,onClick:function(){return e.props.openCharacterSheet(a.id)}},a.name||"unknown")))}}]),t}(s.Component);var zo=Object(Z.DragSource)($,{beginDrag:function(e){return{id:e.asset.id,assetType:e.assetType}},endDrag:function(e,t,a){t.didDrop()&&(t.getItem(),t.getDropResult())}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(Object(fa.withStyles)(function(e){return{assetItem:{backgroundColor:"transparent","&:hover":{backgroundColor:"green"}},dragging:{backgroundColor:"red"}}})(Wo)),Vo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.playerCharacters,r=t.nonPlayerCharacters,n=t.dm;return l.a.createElement("div",null,l.a.createElement("ul",null,a.map(function(t){return l.a.createElement(zo,Object.assign({asset:t,assetType:di.PlayerCharacter,key:t.id},e.props))})),l.a.createElement("hr",null),n&&l.a.createElement("div",null,l.a.createElement("input",{type:"text",value:this.props.nonPlayerCharacterFilter,placeholder:"Search",onChange:function(t){return e.props.changeNonPlayerCharacterFilterText(t.target.value)}}),r.map(function(t){return l.a.createElement(zo,Object.assign({asset:t,assetType:di.NonPlayerCharacter,key:t.id},e.props))})))}}]),t}(s.Component),Xo=Object(Yr.a)(function(e){return e.assets.nonPlayerCharacters},function(e){return e.assets.nonPlayerCharacterFilter},function(e,t){return e?[].concat(e).filter(function(e){return e.name.toLowerCase().indexOf(t)>-1}).sort(function(e,t){return e.name.localeCompare(t.name)}):e}),qo=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.playerCharacters,a=e.nonPlayerCharacters,r=e.openCharacterSheet,n=e.images,c=e.changeNonPlayerCharacterFilterText,i=e.nonPlayerCharacterFilter,A=e.dm;return l.a.createElement("div",null,l.a.createElement("h1",null,"Asset List"),l.a.createElement(Vo,{playerCharacters:t,nonPlayerCharacters:a,openCharacterSheet:r,changeNonPlayerCharacterFilterText:c,nonPlayerCharacterFilter:i,images:n,dm:A}))}}]),t}(s.Component),Zo=Object(m.c)(function(e){return{playerCharacters:e.assets.playerCharacters,nonPlayerCharacters:Xo(e),images:e.images.images,nonPlayerCharacterFilter:e.assets.nonPlayerCharacterFilter,dm:e.auth.dm}},function(e){return{changeNonPlayerCharacterFilterText:function(t){return e(function(e){return{type:lt.ASSETS.NONPLAYERCHARACTER.FILTER.TEXT_CHANGE,text:e}}(t))},openCharacterSheet:function(t){return e(ut(t))}}})(qo),$o=a(30),es=a.n($o),ts=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).state={current:di.PlayerCharacter},a.handleChange=function(e){a.setState({current:e.target.value}),a.props.onChange&&a.props.onChange(e.target.value)},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement(ma.c,{className:e.formControl},l.a.createElement(ma.h,{htmlFor:"assetType-input"},"Asset Type"),l.a.createElement(ma.l,{value:this.state.current,onChange:this.handleChange,inputProps:{name:"assetType",id:"assetType-input"}},l.a.createElement(ma.j,{value:di.PlayerCharacter},"Player Character"),l.a.createElement(ma.j,{value:di.NonPlayerCharacter},"Non Player Character")))}}]),t}(s.Component),as=Object(fa.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit}}})(ts),rs=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).state={name:"",assetType:di.PlayerCharacter,uploadId:null},a.onSave=function(){var e={imageRef:"",name:a.state.name};a.props.saveNewAsset(a.state.assetType,e)},a.onChangeAssetType=function(e){return a.setState({assetType:e})},a.onChangeName=function(e){return a.setState({name:e.currentTarget.value})},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.a.createElement("h1",null,"Create Asset"),l.a.createElement(as,{onChange:this.onChangeAssetType}),l.a.createElement(ma.n,{label:"Name",margin:"normal",className:e.nameInput,value:this.state.name,onChange:this.onChangeName}),l.a.createElement(ma.a,{variant:"contained",className:e.button,onClick:this.onSave},l.a.createElement(qA.a,{className:es()(e.leftIcon,e.iconSmall)}),"Save"))}}]),t}(s.Component),ns=Object(fa.withStyles)(function(e){return{button:{margin:e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},nameInput:{margin:e.spacing.unit}}})(rs),cs=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).saveNewAsset=function(e,t){e===di.PlayerCharacter?a.props.saveNewPlayerCharacter(t):e===di.NonPlayerCharacter&&a.props.saveNewNonPlayerCharacter(t)},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(ns,{saveNewAsset:this.saveNewAsset})}}]),t}(s.Component),is=Object(m.c)(function(e){return{assets:e.assets.assets}},function(e){return{saveNewPlayerCharacter:function(t){return e((a=t,{type:lt.ASSETS.PLAYERCHARACTER.NEW.SAVE,playerCharacterData:a}));var a},saveNewNonPlayerCharacter:function(t){return e(vt(t))}}})(cs),As=a(117),os=a.n(As),ss=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).state={roomUrlCopiedTooltipOpen:!1,roomUrlTooltipTimeout:null,userColour:a.props.currentUser&&a.props.currentUser.user?a.props.currentUser.user.colour:16711680},a.onChangeDm=function(e){a.props.setDm(!e.target.checked)},a.onChangeSoundsMuted=function(e){a.props.setSoundsMuted(e.target.checked)},a._hexToInt=function(e){return e?parseInt(e.replace("#","0x"),16):0},a._intToHex=function(e){return"#".concat((e||0).toString(16))},a.onChangeUserColour=function(e){var t=a._hexToInt(e.target.value);a.setState({userColour:t}),a.props.updateUserColour(a.props.currentUser.firebaseUser.uid,t)},a.copyRoomUrl=function(){var e=document.createElement("textarea");e.value=a.props.roomUrl,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e);var t=setTimeout(function(){a.setState({roomUrlCopiedTooltipOpen:!1,roomUrlTooltipTimeout:null})},4e3);a.state.roomUrlTooltipTimeout&&clearTimeout(a.state.roomUrlTooltipTimeout),a.setState({roomUrlCopiedTooltipOpen:!0,roomUrlTooltipTimeout:t})},a.onChangeDm=a.onChangeDm.bind(Object(f.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){}},{key:"importNpcs",value:function(){var e=this,t=prompt("enter NPC json..."),a=JSON.parse(t);if(a){var r=!0,n=!1,c=void 0;try{for(var i,A=function(){var t=i.value,a=e.props.nonPlayerCharacters.find(function(e){return e.name===t.name});a?e.props.updateNonPlayerCharacter(a.id,t):e.props.saveNewNonPlayerCharacter(t)},o=a[Symbol.iterator]();!(r=(i=o.next()).done);r=!0)A()}catch(s){n=!0,c=s}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}alert("Done!")}else alert("Failed to parse JSON.")}},{key:"exportNpcs",value:function(){var e=document.createElement("textarea");e.value=JSON.stringify(this.props.nonPlayerCharacters),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),alert("NPC JSON copied to clipboard.")}},{key:"importSpells",value:function(){var e=this,t=prompt("enter spell json..."),a=JSON.parse(t);if(a){var r=!0,n=!1,c=void 0;try{for(var i,A=function(){var t=i.value,a=e.props.spells.find(function(e){return e.name===t.name});a?e.props.updateSpell(a.id,t):e.props.saveNewSpell(t)},o=a[Symbol.iterator]();!(r=(i=o.next()).done);r=!0)A()}catch(s){n=!0,c=s}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}alert("Done!")}else alert("Failed to parse JSON.")}},{key:"exportSpells",value:function(){var e=document.createElement("textarea");e.value=JSON.stringify(this.props.spells),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),alert("Spell JSON copied to clipboard.")}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:os.a.generalPanel},l.a.createElement("h1",null,"General"),l.a.createElement("div",{className:os.a.settingWrapper},l.a.createElement("div",{className:os.a.settingRow},l.a.createElement("input",{type:"color",id:"userColour",name:"userColour",onChange:this.onChangeUserColour,value:this._intToHex(this.state.userColour),style:{margin:".4rem"}}),l.a.createElement("label",{htmlFor:"userColour",style:{font:'1rem "Fira Sans", sans-serif'}},"User Colour")),this.props.dm&&l.a.createElement("div",null,l.a.createElement("div",{className:os.a.settingRow},l.a.createElement(ma.o,{PopperProps:{disablePortal:!0},placement:"top",open:this.state.roomUrlCopiedTooltipOpen,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:"Copied!"},l.a.createElement(ma.a,{variant:"contained",fullWidth:!0,onClick:this.copyRoomUrl},"Copy Room URL"))),l.a.createElement("div",null,l.a.createElement(ma.a,{onClick:function(){return e.importNpcs()}},"Import NPCs"),l.a.createElement(ma.a,{onClick:function(){return e.exportNpcs()}},"Export NPCs")),l.a.createElement("div",null,l.a.createElement(ma.a,{onClick:function(){return e.importSpells()}},"Import Spells"),l.a.createElement(ma.a,{onClick:function(){return e.exportSpells()}},"Export Spells"))),l.a.createElement(ma.a,{onClick:function(){return e.props.logout()}},"Logout"),this.props.canBeDm&&l.a.createElement("div",{className:os.a.settingRow},l.a.createElement(ma.d,{control:l.a.createElement(ma.m,{checked:!this.props.dm,onChange:this.onChangeDm}),label:"View as Player?"})),l.a.createElement("div",{className:os.a.settingRow},l.a.createElement(ma.d,{control:l.a.createElement(ma.m,{checked:this.props.soundsMuted,onChange:this.onChangeSoundsMuted}),label:"Mute sounds"}))))}}]),t}(s.Component),ls=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dm,a=e.canBeDm,r=e.setDm,n=JSON.parse(localStorage.getItem("firebaseConfig")),c=document.location+"?projectId=".concat(n.projectId,"&apiKey=").concat(n.apiKey);return l.a.createElement(ss,{dm:t,canBeDm:a,setDm:r,currentUser:this.props.currentUser,roomUrl:c,nonPlayerCharacters:this.props.nonPlayerCharacters,spells:this.props.spells,updateNonPlayerCharacter:this.props.updateNonPlayerCharacter,saveNewNonPlayerCharacter:this.props.saveNewNonPlayerCharacter,updateSpell:this.props.updateSpell,saveNewSpell:this.props.saveNewSpell,logout:this.props.logout,updateUserColour:this.props.updateUserColour,soundsMuted:this.props.soundsMuted,setSoundsMuted:this.props.setSoundsMuted})}}]),t}(s.Component),us=Object(m.c)(function(e){return{dm:e.auth.dm,canBeDm:e.auth.canBeDm,nonPlayerCharacters:e.assets.nonPlayerCharacters,spells:e.spells.spells,currentUser:zr(e),soundsMuted:e.ui.soundsMuted}},function(e){return{setDm:function(t){return e(function(e){return{type:Na.DM.SET,value:e}}(t))},updateNonPlayerCharacter:function(t,a){return e(gt(t,a))},saveNewNonPlayerCharacter:function(t){return e(vt(t))},updateSpell:function(t,a){return e(function(e,t){return{type:Cn.SPELLS.UPDATE,spellId:e,spell:t}}(t,a))},saveNewSpell:function(t){return e(function(e){return{type:Cn.SPELLS.NEW.SAVE,spell:e}}(t))},logout:function(){return e(ka())},updateUserColour:function(t,a){return e(function(e,t){return{type:Jn.USERS.SET_COLOUR,userId:e,colour:t}}(t,a))},setSoundsMuted:function(t){return e(!0===t?function(e){return{type:Tn.UI.SOUNDS.MUTE,val:e||!0}}():{type:Tn.UI.SOUNDS.UNMUTE})}}})(ls),ps=a(307),ds=a.n(ps),hs=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).state={currActiveMapId:a.props.activeMapId},a.onFogEditToggle=function(e,t){t?a.props.enableFogEditMode():a.props.disableFogEditMode()},a.onFogAddToggle=function(e,t){t?a.props.enableFogAddMode():a.props.disableFogAddMode()},a.onChangeStageBackground=function(e){a.props.activeMapId&&e&&a.props.updateStageBackground&&a.props.updateStageBackground(a.props.activeMapId,e)},a.onChangeFogColour=function(e){a.props.activeMapId&&e&&a.props.updateFogColour&&a.props.updateFogColour(a.props.activeMapId,e)},a.onChangeActiveMap=function(e){a.setState({currActiveMapId:e.target.value})},a.changeMap=function(){console.log("Changing Map to ".concat(a.state.currActiveMapId)),a.props.setActiveMap&&a.props.setActiveMap(a.state.currActiveMapId)},a.addNewMap=function(){alert("NOT YET IMPLEMENTED.")},a.setLayerLocked=function(e,t){a.props.setLayerLocked&&a.props.setLayerLocked(a.props.activeMapId,e,t)},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.activeMapId!==this.state.currActiveMapId&&this.setState({currActiveMapId:this.props.activeMapId})}},{key:"render",value:function(){var e=this,t=this.props,a=t.fogEditMode,r=t.fogAddMode;return this.props.activeMap&&this.props.activeMapId&&this.props.maps?l.a.createElement("div",null,l.a.createElement(ma.p,{variant:"h4",component:"h1"},"Map Bits"),l.a.createElement(ma.k,{style:{marginTop:20,padding:5}},l.a.createElement(ma.p,{variant:"h5",component:"h3"},"Fog Settings"),l.a.createElement(ma.e,{row:!0},l.a.createElement(ma.d,{control:l.a.createElement(ma.m,{checked:a,onChange:this.onFogEditToggle}),label:"Fog Edit Mode"})),l.a.createElement(ma.e,{row:!0},l.a.createElement(ma.d,{control:l.a.createElement(ma.m,{checked:r,onChange:this.onFogAddToggle}),label:"Fog Add Mode"})),l.a.createElement(ma.e,{row:!0},l.a.createElement(ds.a,{fullWidth:!0,label:"Background Colour",name:"stageColor",defaultValue:this.props.activeMap?this.props.activeMap.backgroundColour:"#000000",onChange:this.onChangeStageBackground})),l.a.createElement(ma.e,{row:!0},l.a.createElement(ds.a,{fullWidth:!0,label:"Fog Colour",name:"fogColor",defaultValue:this.props.activeMap&&this.props.activeMap.fog.colour||"#000000",onChange:this.onChangeFogColour}))),l.a.createElement(ma.k,{style:{marginTop:30,padding:5}},l.a.createElement(ma.p,{variant:"body1",component:"p"},"Active Map ID ",this.props.activeMapId),l.a.createElement("select",{defaultValue:this.props.activeMapId,onChange:this.onChangeActiveMap},this.props.maps.map(function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.id)})),l.a.createElement("button",{onClick:this.changeMap},"Change!"),l.a.createElement("div",null,"Warning: This is still a little buggy! E.g. You need to refresh once changed"),l.a.createElement(ma.a,{fullWidth:!0,variant:"outlined",color:"secondary",onClick:this.addNewMap},"Add new Map")),l.a.createElement(ma.k,{style:{marginTop:30,padding:5}},l.a.createElement(ma.p,{variant:"h5",component:"h3"},"Layer Locking"),this.props.activeMap&&Object.keys(this.props.activeMap.layers).map(function(t){var a=e.props.activeMap.layers[t];return l.a.createElement(ma.e,{row:!0,key:t},l.a.createElement(ma.d,{control:l.a.createElement(ma.m,{checked:a.locked,onChange:function(a){e.setLayerLocked(t,a.target.checked)}}),label:t}))}))):l.a.createElement("div",null,"Loading...")}}]),t}(s.Component),ms=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.enableFogEditMode,a=e.disableFogEditMode,r=e.enableFogAddMode,n=e.disableFogAddMode,c=e.fogEditMode,i=e.fogAddMode,A=e.updateFogColour,o=e.updateStageBackground,s=e.activeMapId,u=e.activeMap,p=e.maps,d=e.setActiveMap,h=e.setLayerLocked;return l.a.createElement(hs,{maps:p,activeMapId:s,setActiveMap:d,activeMap:u,fogEditMode:c,fogAddMode:i,enableFogEditMode:t,disableFogEditMode:a,enableFogAddMode:r,disableFogAddMode:n,updateFogColour:A,updateStageBackground:o,setLayerLocked:h})}}]),t}(s.Component),fs=Object(m.c)(function(e){return{fogAddMode:e.maps.fogAddMode,fogEditMode:e.maps.fogEditMode,activeMapId:e.globalState.state?e.globalState.state.activeMapId:null,activeMap:oo(e),maps:e.maps.maps}},function(e){return{enableFogEditMode:function(){return e({type:_r.MAPS.FOG.EDIT.ENABLE})},disableFogEditMode:function(){return e({type:_r.MAPS.FOG.EDIT.DISABLE})},enableFogAddMode:function(){return e({type:_r.MAPS.FOG.ADD.ENABLE})},disableFogAddMode:function(){return e({type:_r.MAPS.FOG.ADD.DISABLE})},updateFogColour:function(t,a){return e(function(e,t){return{type:_r.MAPS.FOG.UPDATE.COLOUR,mapId:e,colour:t}}(t,a))},updateStageBackground:function(t,a){return e(function(e,t){return{type:_r.MAPS.UPDATE.BACKGROUND_COLOUR,mapId:e,colour:t}}(t,a))},setActiveMap:function(t){return e(function(e){return{type:Bn.GLOBAL_STATE.SET_ACTIVE_MAP,mapId:e}}(t))},setLayerLocked:function(t,a,r){return e(function(e,t,a){return{type:_r.MAPS.UPDATE.LAYER_LOCKED,mapId:e,layerId:t,locked:a}}(t,a,r))}}})(ms),gs=a(134),vs=a.n(gs),Es=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).state={privateJournalData:a.props.privateJournal?a.props.privateJournal.data:"",publicJournalData:a.props.publicJournal?a.props.publicJournal.data:""},a.savePrivate=function(){var e=Object(b.a)({},a.props.privateJournal);e.data=a.state.privateJournalData,a.props.updatePrivateJournal(e)},a.savePublic=function(){var e=Object(b.a)({},a.props.publicJournal);e.data=a.state.publicJournalData,a.props.updatePublicJournal(e)},a.onChangePrivateJournal=function(e){a._timeoutPrivate&&clearTimeout(a._timeoutPrivate),a._timeoutPrivate=setTimeout(function(){return a.savePrivate()},1e3),a.setState({privateJournalData:e})},a.onChangePublicJournal=function(e){a._timeoutPublic&&clearTimeout(a._timeoutPublic),a._timeoutPublic=setTimeout(function(){return a.savePublic()},1e3),a.setState({publicJournalData:e})},a._timeoutPrivate=void 0,a._timeoutPublic=void 0,a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.privateJournal!==e.privateJournal&&this.setState({privateJournalData:this.props.privateJournal.data}),this.props.publicJournal!==e.publicJournal&&this.setState({publicJournalData:this.props.publicJournal.data})}},{key:"render",value:function(){var e=this,t=this.props;t.privateJournal,t.publicJournal;return l.a.createElement("div",{className:vs.a.journalWrapper},l.a.createElement("div",{className:vs.a.journalRow},l.a.createElement(ma.n,{className:vs.a.journalTextField,variant:"outlined",label:"Private",fullWidth:!0,multiline:!0,onChange:function(t){return e.onChangePrivateJournal(t.target.value)},value:this.state.privateJournalData})),l.a.createElement("div",{className:vs.a.journalRow},l.a.createElement(ma.n,{className:vs.a.journalTextField,variant:"outlined",label:"Public",fullWidth:!0,multiline:!0,onChange:function(t){return e.onChangePublicJournal(t.target.value)},value:this.state.publicJournalData})))}}]),t}(s.Component),bs=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.updatePrivateJournal,r=t.updatePublicJournal,n=this.props.user&&this.props.user.user||null;if(!n)return l.a.createElement("div",null,"Loading...");var c=n.journal&&n.journal.private,i=n.journal&&n.journal.public;return l.a.createElement(Es,{privateJournal:c,publicJournal:i,updatePrivateJournal:function(t){return a(e.props.user.firebaseUser.uid,t)},updatePublicJournal:function(t){return r(e.props.user.firebaseUser.uid,t)}})}}]),t}(s.Component),ys=Object(m.c)(function(e){return{user:zr(e)}},function(e){return{updatePrivateJournal:function(t,a){return e(function(e,t){return{type:Jn.USERS.JOURNAL.PRIVATE.UPDATE,userId:e,data:t}}(t,a))},updatePublicJournal:function(t,a){return e(function(e,t){return{type:Jn.USERS.JOURNAL.PUBLIC.UPDATE,userId:e,data:t}}(t,a))}}})(bs),Cs=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).onClickTab=function(e){return function(){a.props.open&&a.props.currentPanel===e?(a.props.closeTabs(),a.props.openPanel(null)):(a.props.openPanel(e),a.props.open||a.props.openTab())}},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.openPanel,r=e.closeTabs;return l.a.createElement("div",{style:{zIndex:99,position:"absolute",top:0,bottom:0,right:0,transform:"translateX(".concat(t?0:"400px",")"),display:"flex",flexDirection:"row",transition:"transform 300ms",transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)",WebkitTransitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"}},l.a.createElement("div",{style:{position:"absolute",top:"100px",left:"-43px"}},this.props.dm&&l.a.createElement(Mo,{text:"Uploads",name:"uploads",active:this.props.currentPanel===YA.UPLOAD,onClick:this.onClickTab(YA.UPLOAD)}),l.a.createElement(Mo,{text:"Assets",name:"assets",active:this.props.currentPanel===YA.ASSETS,onClick:this.onClickTab(YA.ASSETS)}),l.a.createElement(Mo,{text:"General",name:"general",active:this.props.currentPanel===YA.GENERAL,onClick:this.onClickTab(YA.GENERAL)}),l.a.createElement(Mo,{text:"Journal",name:"journal",active:this.props.currentPanel===YA.JOURNAL,onClick:this.onClickTab(YA.JOURNAL)}),this.props.dm&&l.a.createElement(Mo,{text:"Map",name:"map",active:this.props.currentPanel===YA.MAP,onClick:this.onClickTab(YA.MAP)})),l.a.createElement("div",{style:{position:"relative",width:"400px",backgroundColor:"rgba(80, 80, 80, 0.8)"}},l.a.createElement("div",{style:{padding:5,backgroundColor:"red",textAlign:"center",position:"absolute",top:0,left:-42,width:32,height:32,opacity:t?1:0,transition:"opacity 500ms",transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},onClick:function(){r(),a(null)}},l.a.createElement("span",{style:{}},l.a.createElement(VA.a,null))),this.props.currentPanel===YA.UPLOAD&&l.a.createElement(Uo,null,l.a.createElement(ya,null),l.a.createElement(Ho,null)),this.props.currentPanel===YA.ASSETS&&l.a.createElement(Uo,null,this.props.dm&&l.a.createElement(is,null),l.a.createElement(Zo,null)),this.props.currentPanel===YA.GENERAL&&l.a.createElement(Uo,null,l.a.createElement(us,null)),this.props.currentPanel===YA.JOURNAL&&l.a.createElement(Uo,null,l.a.createElement(ys,null)),this.props.currentPanel===YA.MAP&&l.a.createElement(Uo,null,l.a.createElement(fs,null))))}}]),t}(s.Component),Os=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(Cs,{dm:this.props.dm,open:this.props.sidebarOpen,openTab:this.props.openTab,closeTabs:this.props.closeTabs,openPanel:this.props.openPanel,currentPanel:this.props.sidebarPanel})}}]),t}(s.Component),Ss=Object(m.c)(function(e){return{dm:e.auth.dm,sidebarOpen:e.ui.sidebarOpen,sidebarPanel:e.ui.sidebarPanel}},function(e){return{openTab:function(){return e({type:Tn.UI.SIDEBAR.OPEN})},closeTabs:function(){return e({type:Tn.UI.SIDEBAR.CLOSE})},openPanel:function(t){return e(function(e){return{type:Tn.UI.SIDEBAR.OPEN_PANEL,panel:e}}(t))}}})(Os),js=a(495),Ns=a(98),Is=a.n(Ns),ws=a(83),Ps=a.n(ws),ks=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).state={editing:!1},a.onClick=function(e){a.props.dm&&a.setState(function(e){return{editing:!e.editing}})},a.onModifyRoll=function(e){a.props.onModifyRoll&&a.props.onModifyRoll(e)},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.roll,a=this.state.editing;return l.a.createElement("div",{className:Ps.a.initiativeRoll,onClick:this.onClick},l.a.createElement("div",null,t),a&&l.a.createElement(ma.q,{in:a},l.a.createElement(ma.k,{elevation:4},l.a.createElement(F,{className:Ps.a.initiativeEditor,inputClassName:Ps.a.initiativeEditorInner,value:t,onEnter:this.onModifyRoll,onBlur:function(){return e.setState({editing:!1})},autoFocus:!0}))))}}]),t}(s.Component),Ts=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c)))).state={hpOpen:!1},a.onClick=function(e){a.props.dm&&(a.props.shiftPressed?a.props.removeInitiative(a.props.initId):a.setState(function(e){return{hpOpen:!e.hpOpen}}))},a.onModifyRoll=function(e){a.props.modifyRoll&&a.props.modifyRoll(a.props.initId,e)},a.onChangeHp=function(e){if(a.props.modifyHp){var t=a.props.char,r=(a.props.char,a.props.isPc?Object(b.a)({},t||{},{hp:e}):a.props.isNpc?Object(b.a)({},a.props.npcToken.hp,{hp:e}):null);a.props.modifyHp(r,a.props.isPc?a.props.char.id:null,a.props.isNpc?a.props.npcTokenId:null)}},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.char,r=t.initRoll,n=t.currentTurn,c=t.imageUrl,i=t.isPc,A=t.isNpc,o=t.npcToken,s=this.state.hpOpen,u=a,p=a,d=i&&u?u.ac:A&&p?p.ac:0,h=i&&u?u.hp:A&&o&&o.hp&&o.hp.value||0;i&&u?u.maxHp:A&&o&&o.hp&&o.hp.max;return l.a.createElement("div",{className:Ps.a.wrapper},l.a.createElement(ks,{dm:this.props.dm,roll:r,onModifyRoll:this.onModifyRoll}),l.a.createElement("div",{className:[Ps.a.avatar,n?Ps.a.currentTurn:null].filter(function(e){return e}).join(" "),style:{backgroundImage:"url('".concat(c,"')")},onClick:this.onClick}),(this.props.isPc||this.props.dm)&&l.a.createElement("div",{className:Ps.a.ac},d),s&&l.a.createElement(ma.q,{in:s},l.a.createElement(ma.k,{elevation:4},l.a.createElement(F,{className:Ps.a.hpInput,inputClassName:Ps.a.hpInputInner,value:h,onEnter:function(t){return e.onChangeHp(t)},onBlur:function(){return e.setState({hpOpen:!1})},autoFocus:!0}))))}}]),t}(s.Component),Ds=a(497),_s=a.n(Ds),Ms=a(498),Bs=a.n(Ms),xs=a(496),Rs=a.n(xs),Us=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||!e.rolls)return[];if(!t||!a)return[];var n=Object(b.a)({},e.rolls),c=Object.keys(n).map(function(e){return Object(b.a)({},n[e],{id:e})});if(c.sort(function(e,r){var n=e.pcId?t.find(function(t){return t.id===e.pcId}):e.npcTokenId?a.find(function(t){return t.id===e.npcTokenId}):null,c=r.pcId?t.find(function(e){return e.id===r.pcId}):r.npcTokenId?a.find(function(e){return e.id===r.npcTokenId}):null;return n&&c?r.initiativeRoll+.1*c.dexterity-(e.initiativeRoll+.1*n.dexterity):r.initiativeRoll-e.initiativeRoll}),r)return c;var i=c.findIndex(function(t){return t.id===e.currentTurn}),A=c.splice(0,i);return A&&A.length>0&&c.splice.apply(c,[c.length,0].concat(Object(De.a)(A))),c},Ls=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(c))))._activeRef=void 0,a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.currentTurnId!==this.props.currentTurnId&&this._activeRef&&this._activeRef.scrollIntoView()}},{key:"render",value:function(){var e=this,t=this.props,a=t.nonPlayerCharacters,r=t.playerCharacters,n=t.initiatives,c=t.images,i=t.currentTurnId,A=t.modifyHp,o=t.modifyRoll,s=t.dm,u=t.removeInitiative,p=t.map,d=t.shiftPressed;if(!n||!n.rolls)return l.a.createElement("div",null);var h=Us(n,this.props.playerCharacters,this.props.nonPlayerCharacters,!0);return l.a.createElement("div",{className:[Is.a.trackerWrapper,this.props.dm?Is.a.dm:"",this.props.initiativeTrackerOpen?Is.a.hidden:""].join(" ")},l.a.createElement("div",{className:Is.a.tokenWrapper},h.map(function(t){var n=t.npcTokenId&&p.objects[t.npcTokenId]||null,h=t.pcId?r.find(function(e){return e.id===t.pcId}):n&&n.npcId?a.find(function(e){return e.id===n.npcId}):null,m=h?c.find(function(e){return e.filePath===h.imageRef}):null,f=m?m.downloadUrl:h&&h.imageRef&&h.imageRef.startsWith("http")?h.imageRef:Rs.a,g=i===t.id;return l.a.createElement("div",{key:t.id,ref:function(t){g&&(e._activeRef=t)}},l.a.createElement(Ts,{initId:t.id,isPc:!!t.pcId,isNpc:!!t.npcTokenId,char:h,npcTokenId:t.npcTokenId,npcToken:n,imageUrl:f,initRoll:t.initiativeRoll,currentTurn:g,modifyHp:A,modifyRoll:o,dm:s,removeInitiative:u,shiftPressed:d}))})),l.a.createElement("div",{className:Is.a.backLine}),this.props.dm&&l.a.createElement("div",{className:Is.a.buttonWrapper},l.a.createElement(ma.b,{color:"secondary",size:"small","aria-label":"Next Turn",className:Is.a.nextButton,onClick:this.props.nextTurn},l.a.createElement(_s.a,null)),l.a.createElement(ma.b,{color:"primary",size:"small","aria-label":"Clear Initiative",className:Is.a.clearButton,onClick:this.props.clearInitiatives},l.a.createElement(Bs.a,null))))}}]),t}(s.Component),Fs=Object(Yr.a)(function(e){return e.initiative.rolls?e.initiative.rolls.currentTurn:null},function(e){return e}),Qs=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(A.a)(t).call(this,e))).nextTurn=a.nextTurn.bind(Object(f.a)(a)),a.modifyHp=a.modifyHp.bind(Object(f.a)(a)),a.modifyRoll=a.modifyRoll.bind(Object(f.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"nextTurn",value:function(){var e=this,t=Us(this.props.initiatives,this.props.playerCharacters,this.props.nonPlayerCharacters);if(t&&!(t.length<=1)){var a=t[1].id;t.findIndex(function(t){return t.id===e.props.currentTurnId})<0&&(a=t[0].id),this.props.setCurrentTurn(a)}}},{key:"modifyHp",value:function(e,t,a){if(t){var r=this.props.playerCharacters.find(function(e){return e.id===t});r&&this.props.updatePlayerCharacter(t,Object(b.a)({},r,{hp:e.hp}))}else if(a){var n=this.props.map.objects[a];this.props.updateToken(this.props.map.id,a,Object(b.a)({},n,{hp:{value:e.hp,max:e.max||e.hp}}))}}},{key:"modifyRoll",value:function(e,t){this.props.updateInitiativeRoll(e,t)}},{key:"render",value:function(){var e=this.props.currentTurnId;return l.a.createElement(Ls,{currentTurnId:e,initiatives:this.props.initiatives,playerCharacters:this.props.playerCharacters,nonPlayerCharacters:this.props.nonPlayerCharacters,map:this.props.map,images:this.props.images,nextTurn:this.nextTurn,clearInitiatives:this.props.clearInitiatives,modifyHp:this.modifyHp,modifyRoll:this.modifyRoll,dm:this.props.isDm,initiativeTrackerOpen:this.props.initiativeTrackerOpen,removeInitiative:this.props.removeInitiative,shiftPressed:this.props.shiftPressed})}}]),t}(s.Component),Gs=Object(m.c)(function(e){return{playerCharacters:e.assets.playerCharacters,nonPlayerCharacters:e.assets.nonPlayerCharacters,images:e.images.images,initiatives:e.initiative.rolls,currentTurnId:Fs(e),isDm:e.auth.dm,initiativeTrackerOpen:e.ui.initiativeTrackerOpen,map:oo(e),shiftPressed:e.keys.shiftDown}},function(e){return{setCurrentTurn:function(t){return e(function(e){return{type:ac.INITIATIVE.SET_CURRENT_TURN,id:e}}(t))},clearInitiatives:function(){return e({type:ac.INITIATIVE.CLEAR})},updatePlayerCharacter:function(t,a){return e(ht(t,a))},updateNonPlayerCharacter:function(t,a){return e(gt(t,a))},removeInitiative:function(t){return e(function(e){return{type:ac.INITIATIVE.REMOVE,id:e}}(t))},updateToken:function(t,a,r){return e(xr(t,a,r))},updateInitiativeRoll:function(t,a){return e(function(e,t){return{type:ac.INITIATIVE.UPDATE.ROLL,initiativeId:e,newRoll:t}}(t,a))}}})(Qs),Hs=a(107),Ys=a.n(Hs),Ks=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.users.sort(function(e,t){return e.name.localeCompare(t.name)});return l.a.createElement("div",{className:[Ys.a.userListWrapper,this.props.open?Ys.a.visible:Ys.a.hidden].join(" ")},l.a.createElement("div",{className:Ys.a.header},"User List"),l.a.createElement("ul",{className:Ys.a.listStyle},t.map(function(t){return l.a.createElement("li",{key:t.id,className:[Ys.a.user,e.props.onlineUsers.findIndex(function(e){return e===t.id})>=0?Ys.a.online:null].join(" "),style:{color:t.colour?"#".concat(t.colour.toString(16)):"#fff",textShadow:"".concat(t.colour?"#".concat(t.colour.toString(16)):"#fff"," 0px 0px 3px")}},t.name," ",t.dm&&"(DM)")})))}}]),t}(s.Component),Js=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.users,a=e.userListOpen,r=e.onlineUsers;return l.a.createElement(Ks,{users:t,onlineUsers:r,open:a})}}]),t}(s.Component),Ws=Object(m.c)(function(e){return{users:Wr(e),onlineUsers:e.users.onlineUsers,userListOpen:e.ui.userListOpen}},function(e){return{}})(Js);a.d(t,"App",function(){return qs});var zs={OPEN_CHAT:"enter",CLOSE_CHAT:"esc",TOGGLE_MEASURE_MODE:"m",TOGGLE_FOG_EDIT_MODE:"f",TOGGLE_FOG_ADD_MODE:"a",TOGGLE_SIDEBAR:"s",TOGGLE_INITIATIVE_TRACKER:"i",TOGGLE_USERLIST:"u",SHIFT_DOWN:{sequence:"shift",action:"keydown"},SHIFT_UP:{sequence:"shift",action:"keyup"}},Vs=function(e){return function(t){t.repeat||e&&e(t)}},Xs={OPEN_CHAT:Vs(function(e){return KA.store.dispatch(ot())}),CLOSE_CHAT:Vs(function(e){return KA.store.dispatch(st())}),TOGGLE_MEASURE_MODE:Vs(function(e){return KA.store.dispatch(Ur())}),SHIFT_DOWN:Vs(function(e){return KA.store.dispatch({type:$n.KEYS.DOWN.SHIFT,key:Kn.SHIFT})}),SHIFT_UP:Vs(function(e){return KA.store.dispatch({type:$n.KEYS.UP.SHIFT,key:Kn.SHIFT})}),TOGGLE_FOG_EDIT_MODE:Vs(function(e){return KA.store.dispatch({type:_r.MAPS.FOG.EDIT.TOGGLE})}),TOGGLE_FOG_ADD_MODE:Vs(function(e){return KA.store.dispatch({type:_r.MAPS.FOG.ADD.TOGGLE})}),TOGGLE_INITIATIVE_TRACKER:Vs(function(e){return KA.store.dispatch({type:Tn.UI.INITIATIVE_TRACKER.TOGGLE})}),TOGGLE_SIDEBAR:Vs(function(e){return KA.store.dispatch({type:Tn.UI.SIDEBAR.TOGGLE})}),TOGGLE_USERLIST:Vs(function(e){return KA.store.dispatch({type:Tn.UI.USER_LIST.TOGGLE})})},qs=function(e){function t(e){var a;return Object(n.a)(this,t),a=Object(i.a)(this,Object(A.a)(t).call(this,e)),Object(x.configure)({}),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=Object(fa.createMuiTheme)({palette:{type:"dark"},typography:{useNextVariants:!0}});return l.a.createElement(m.a,{store:KA.store},l.a.createElement(js.a,{persistor:KA.persistor},l.a.createElement(x.GlobalHotKeys,{keyMap:zs,handlers:Xs}),l.a.createElement(h.a,null,l.a.createElement(Z.DragDropContextProvider,{backend:WA.a},l.a.createElement("div",{className:"App"},l.a.createElement(fa.MuiThemeProvider,{theme:t},l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/",render:function(){return l.a.createElement("div",null,l.a.createElement(Ss,null),l.a.createElement("div",{className:d.a.overlayWrapper},l.a.createElement(_o,null)),l.a.createElement("div",{className:d.a.mapWrapper},l.a.createElement(lo,null),l.a.createElement(Gs,null),l.a.createElement(Ws,null),l.a.createElement(qr,null)),l.a.createElement("div",null,l.a.createElement(la,e.props)))}}),l.a.createElement(u.a,{path:"/upload",render:function(){return l.a.createElement(ya,null)}}),l.a.createElement(u.a,{path:"/login",render:function(){return l.a.createElement(Ra,null)}}))))))))}}]),t}(s.Component);t.default=qs},1154:function(e,t,a){"use strict";a.r(t);var r=a(9),n=a.n(r),c=a(472),i=a(0),A=a.n(i),o=a(47),s=a.n(o);a(583),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(80),u=a(17),p=a(23),d=a.n(p);a(230),a(323);a(1163).a({dsn:"https://04f41a05077c4badbe2fb7c804604233@sentry.dnd-player.com/2"});var h={projectId:"",apiKey:"",username:"",password:""},m=function(){var e=Object(c.a)(n.a.mark(function e(){var t,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={apiKey:h.apiKey,authDomain:"".concat(h.projectId,".firebaseapp.com"),databaseURL:"https://".concat(h.projectId,".firebaseio.com"),projectId:h.projectId,storageBucket:"".concat(h.projectId,".appspot.com")},a=d.a.initializeApp(t),e.prev=2,e.next=5,a.auth().signInWithEmailAndPassword(h.username,h.password);case 5:e.sent,localStorage.setItem("firebaseConfig",JSON.stringify(t)),window.location.replace(window.location.origin),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert("Failed to log in. ".concat(e.t0.message));case 13:return e.prev=13,a.delete(),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[2,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),f=window.location.href.match(/\?projectId=(.*?)&apiKey=(.*)$/);if(f&&(h.projectId=f[1],h.apiKey=f[2]),null==localStorage.getItem("firebaseConfig")){var g=Object(l.createMuiTheme)({palette:{type:"dark"},typography:{useNextVariants:!0}});s.a.render(A.a.createElement("div",{className:"App"},A.a.createElement(l.MuiThemeProvider,{theme:g},A.a.createElement("div",{className:"projectInputs"},A.a.createElement(u.n,{label:"Project Name",placeholder:"dnd-player-b8372",value:h.projectId||void 0,disabled:!!h.projectId,onChange:function(e){return h.projectId=e.target.value.trim()},margin:"normal"}),A.a.createElement(u.n,{label:"API Key",placeholder:"AIzaSd***************pK5ao6g95Q-9auWt-8",value:h.apiKey||void 0,disabled:!!h.apiKey,onChange:function(e){return h.apiKey=e.target.value.trim()},margin:"normal"}),A.a.createElement(u.n,{label:"Username",placeholder:"email@example.com",onChange:function(e){return h.username=e.target.value.trim()},margin:"normal"}),A.a.createElement(u.n,{label:"Password",type:"Password",onChange:function(e){return h.password=e.target.value},margin:"normal"}),A.a.createElement(u.a,{variant:"contained",color:"primary",onClick:function(){return m()}},"Save")))),document.getElementById("root"))}else{var v=a(1153).default;s.a.render(A.a.createElement(v,null),document.getElementById("root"))}"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},116:function(e,t,a){e.exports={info:"Info_info__1MlAy",infoHeader:"Info_infoHeader__32OJ9",infoType:"Info_infoType__1nl5e",infoTitle:"Info_infoTitle__1Ww22",infoDetails:"Info_infoDetails__H4lYn"}},117:function(e,t,a){e.exports={generalPanel:"GeneralPanel_generalPanel__1aqft",settingWrapper:"GeneralPanel_settingWrapper__iiGLA",settingRow:"GeneralPanel_settingRow__2UX_s"}},133:function(e,t,a){e.exports={wrapper:"EquipmentItem_wrapper__1B4fK",name:"EquipmentItem_name__1k22b",quantity:"EquipmentItem_quantity__3slE8",weight:"EquipmentItem_weight__AeSOZ",notes:"EquipmentItem_notes__2bBjX"}},134:function(e,t,a){e.exports={journalWrapper:"Journal_journalWrapper__IlNsU",journalRow:"Journal_journalRow__oFQNj"}},15:function(e,t,a){e.exports={row:"PlayerCharacterSheetEditor_row__yqutn",column:"PlayerCharacterSheetEditor_column__2eLcu",columnCenter:"PlayerCharacterSheetEditor_columnCenter__2a0dE",characterSheet:"PlayerCharacterSheetEditor_characterSheet__1bN5l",inline:"PlayerCharacterSheetEditor_inline__31EGy",name:"PlayerCharacterSheetEditor_name__2EL5S",ability:"PlayerCharacterSheetEditor_ability__3Qkeq",subtitle:"PlayerCharacterSheetEditor_subtitle__24es8",label:"PlayerCharacterSheetEditor_label__2ZFPd",button:"PlayerCharacterSheetEditor_button__3J46W",characterImageContainer:"PlayerCharacterSheetEditor_characterImageContainer__3BROT"}},155:function(e,t,a){e.exports={item:"AssetListItem_item__FHViu",image:"AssetListItem_image__3AR_3",title:"AssetListItem_title__3GLMy"}},156:function(e,t,a){e.exports={enter:"OverlayPanel_enter__32t_D",enterActive:"OverlayPanel_enterActive__3mHNX",exit:"OverlayPanel_exit__1TtZt",exitActive:"OverlayPanel_exitActive__aa--v"}},16:function(e,t,a){e.exports={row:"NonPlayerCharacterSheetEditor_row__rp-8p",column:"NonPlayerCharacterSheetEditor_column__1Cw8h",center:"NonPlayerCharacterSheetEditor_center__Kz82R",characterSheet:"NonPlayerCharacterSheetEditor_characterSheet__3CpG6",characterImageContainer:"NonPlayerCharacterSheetEditor_characterImageContainer__2Nu2q",characterName:"NonPlayerCharacterSheetEditor_characterName__pOrX2",button:"NonPlayerCharacterSheetEditor_button__38jvz",characterType:"NonPlayerCharacterSheetEditor_characterType__2ddy0",boldHeading:"NonPlayerCharacterSheetEditor_boldHeading__3mp2_",italicHeading:"NonPlayerCharacterSheetEditor_italicHeading__3LUVG",divider:"NonPlayerCharacterSheetEditor_divider__OmExG",abilityContainer:"NonPlayerCharacterSheetEditor_abilityContainer__2UBj7",ability:"NonPlayerCharacterSheetEditor_ability__18okj",speed:"NonPlayerCharacterSheetEditor_speed__1ZdlG",save:"NonPlayerCharacterSheetEditor_save__5DrZ5",sense:"NonPlayerCharacterSheetEditor_sense__BAnDD",abilityTitle:"NonPlayerCharacterSheetEditor_abilityTitle__1ekDS",speedTitle:"NonPlayerCharacterSheetEditor_speedTitle__33WRx",saveTitle:"NonPlayerCharacterSheetEditor_saveTitle__30CFf",senseTitle:"NonPlayerCharacterSheetEditor_senseTitle__3qEOC",skill:"NonPlayerCharacterSheetEditor_skill__OVh7e",trait:"NonPlayerCharacterSheetEditor_trait__YNEQx",action:"NonPlayerCharacterSheetEditor_action__3aPhy",subheading:"NonPlayerCharacterSheetEditor_subheading__3EwON",rollable:"NonPlayerCharacterSheetEditor_rollable__2i_lh"}},20:function(e,t,a){e.exports={row:"NonPlayerCharacterSheet_row__3_5Re",column:"NonPlayerCharacterSheet_column__3IaIZ",center:"NonPlayerCharacterSheet_center__3i0cF",characterSheet:"NonPlayerCharacterSheet_characterSheet__MJjtg",inline:"NonPlayerCharacterSheet_inline__3GwI2",popout:"NonPlayerCharacterSheet_popout__3A48y",characterImageContainer:"NonPlayerCharacterSheet_characterImageContainer__3EWcV",characterName:"NonPlayerCharacterSheet_characterName__3462p",button:"NonPlayerCharacterSheet_button__3DmcD",characterType:"NonPlayerCharacterSheet_characterType__xetC-",boldHeading:"NonPlayerCharacterSheet_boldHeading__2iOmZ",italicHeading:"NonPlayerCharacterSheet_italicHeading__19daM",divider:"NonPlayerCharacterSheet_divider__pecfK",abilityContainer:"NonPlayerCharacterSheet_abilityContainer__13vvz",ability:"NonPlayerCharacterSheet_ability__1akOo",abilityTitle:"NonPlayerCharacterSheet_abilityTitle__XClAW",speedTitle:"NonPlayerCharacterSheet_speedTitle__2_z_x",skill:"NonPlayerCharacterSheet_skill__fOA4H",save:"NonPlayerCharacterSheet_save__XNbMf",trait:"NonPlayerCharacterSheet_trait__3AabM",action:"NonPlayerCharacterSheet_action__1_8wl",subheading:"NonPlayerCharacterSheet_subheading__GUMSh"}},213:function(e,t,a){e.exports={popupAdvantage:"Rollable_popupAdvantage__3xcve",popupDisadvantage:"Rollable_popupDisadvantage__5tUR0",rollable:"Rollable_rollable__3fhqx",rollablediv:"Rollable_rollablediv__EYgsL"}},214:function(e,t,a){e.exports={hoverContainer:"HoverPopup_hoverContainer__3qz71",hover:"HoverPopup_hover__6a3_k",title:"HoverPopup_title__rHKuQ",hoverChildren:"HoverPopup_hoverChildren__3MWcB"}},215:function(e,t,a){e.exports={chatContainer:"Chat_chatContainer__1ELCd",enter:"Chat_enter__3LlNC",enterActive:"Chat_enterActive__3TkN9",exit:"Chat_exit__1nbxS",exitActive:"Chat_exitActive__nQasV",exitDone:"Chat_exitDone__1DApu",messages:"Chat_messages__OmdKQ",username:"Chat_username__VrIpL",message:"Chat_message__JXn-g"}},216:function(e,t,a){e.exports={chatContainer:"ChatDisplay_chatContainer__d4r8X",messages:"ChatDisplay_messages__NUiNv",username:"ChatDisplay_username__1owWd",message:"ChatDisplay_message__8Prs0"}},305:function(e,t,a){e.exports={mapWrapper:"App_mapWrapper__w0tfJ",overlayWrapper:"App_overlayWrapper__2ea5A",chatWrapper:"App_chatWrapper__2U1dO"}},437:function(e,t,a){},476:function(e,t,a){e.exports={wrapper:"CharacterImage_wrapper__3sak9"}},477:function(e,t,a){e.exports={wrapper:"Authentication_wrapper__1wnUP",username:"Authentication_username__1zpTM",password:"Authentication_password__1usTz",loginButton:"Authentication_loginButton__36BHo",logoutButton:"Authentication_logoutButton__1QowG"}},479:function(e,t){e.exports="data:image/png;base64,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"},480:function(e,t){e.exports="data:image/png;base64,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"},481:function(e,t){e.exports="data:image/png;base64,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"},482:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wULFRwwmabHlwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAoWSURBVHja7d1Rcuo6EARQOfvfs/ORrxQUhECBpvucHTxZ02rL3Ly1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOB9DksAs53neX4sQI5DhoACACQd7koCKACAg14xAAUAcNArBqAAAA58hQAUAHDgoxCAAgAO/YCDsuG/ERQAYPvDcMeDz7qAAgAOfQeatQMFABxeDitrCwoAOJgcStYdFABoOHwcPJ4JKABQcsg4YDwnUACg4EBxkHh+oACAQwPPFRQAcEDgOYMCACMPBIeBZw8KAJSEv+C3H+wHFAAQ9Ngf9gcKACSGu2C3V+wVFAAoCXNBbv/YPygAILixn+wnFAAQ1Nhf9hcKAIwOZ8GMvQYKAMIY7D0UABDAYA+iAIDQBXsSBQDmBK2Qxf4EBQDBCvYrKAAIU7BvQQFAgIJ9jAIAQhPsZxQA2DQsBSX2NigAeEsC+xwUALwZgT0PCgCCEOx9UACYFYDCD3NgDlAA8OYDZgIUAAQdmA1QAIgIOOGGOTEnKAAINTAv5gUFAGEG5sbcoAAgxMD8mB8UAOaFl+ACs4QCgMACzBQKAIIKMFsoAAgoMGNmDAUAwQRmzayhACCQwMyZORQABBGYPbOHAoAAAjMICgCCB8wiKAAIHDCTKAAgaMBsogCAgAEzigKAYBEsYFZJ82UJeKpBChQwf7gBoOuNQviAuUUBQIgA5hcFAOEBmGMUAIQGYJ7Zih8B8ve2KCzAnKIA0Pe2AJh/gsqiJTD83irAfFsxBQDhIBzAnFPAJwCEAphf3ADgrUB4gJnHDQC1QQDIBxQACnkTAPNM+L6wBNq9sAAZIAMUAAy+PQGyQBYU8AkAANwAoPEDMkEmKAAYdEA2EMknAABwA4CGD8gIGaEAYLABWSErIvkEAABuANDoAZkhM9wAkNv8DDIgDxQA+po8gHxRAND2AbkgF9qeuSXoaueGHJAjuAEoG1oAeYMCUEhrB+QECoA2DiB3FAC0egB5oQCghQPIHwUAbR6QG4Q9Y0uQ3b4NMSBncAMAALgB0MoB5I0bAABAAWA2bRyQJygAYfzTG0AuoQCgrQNyBQVAywaQTygAWjqAfEEB0K4B5BQKAAAoAEzneg6QMygAYVyrAfIKBQCtHJA3KAAAwINFzhLs7951mjYOyCbcAAAACkB6wwaQXygAhVyxAfIHBQAAUACmc30GyDEUAC64fgPkEAoAAKAAaN0A8ggFYBzfzQB5hgIAACgA7Vy3AXIJBSCQ6zJArqEAAAAKAACgANTxnQ2QTygAgXwnA+QbCgAAoAC0c70GyCkUAABAAUjg+xgg51AAAAAFoJ3vaoC8QgEAABQAAEABAADu8J1mE7d+Get7GiDXcAMAACgAAIACAAAoAACAAgAArLX8K4At+KUsIN9wAwAAKAAAgAIAACgAAIACAAAoANP5hSwgx1AAAAAFAABQAMa69UcyAOQfCgAAoAAAAAoAAKAAAAAKAACgAEzgj2cA8gwFAABQAAAABQAAUAAAAAUAAFAAAAAFAAAUAABAAQAAFAAAQAEAABQAAEABAAAUAABAAQAAFAAAQAEAABQAAEABKHGe52kVAHmGAgAAKAAAgAIAACgAAIACAAAoADs5juOwCoD8QwEAABQAAEABqOKPZwByDAUAAFAAAAAFAABQAAAABQAA+MUfYdjErV/K+mMZgFzDDQAAoAAAAAoAAKAAAAAKAACw1vKvALbiF7OAPMMNAACgAAAACgAAoADk8//UBuQVCgAAoACk8MtYQM6hAAAACgC+qwFyCgUAAFAAcvg+Bsg3FAAuuF4D5BMKAACgAAAACsBYvpMBcg0FgAu+swFyCQUAAFAAUrguA+QZCgAXXLcB8ggFAABQALRuADmEAjCW72aAHEMBAAAUAH64fgPkDwpAINdngPxCAQAAXlPQLMEM967aNG1AJuEGAABQALRxAHmDAjCS6zRAXqEAoJUDcgYFAABQAGK5VgPkFAoAV7meA+QLCoB2DSCfUAC0dAC5ggKgZQPIJQUAbR1AnigAAEAwVzbhrdy1HCBncAMAALgB0M4B5IsbAKqHGEBuKAAMon0D8gcFAG0ekBcoAFo4gNxBAdDqtXpATqAAaOMA8qb4OVqCvvZueAH5gRsAQw4gFxQAptPOAfmCAoC2D8gDrhc6S9A90Bo9yApZ4QYAAHADgGYPyAgZoQBgwAHZQAyfAADADQCaPiATZIICgIEHZAGRfAIAADcAaP6aP8gAGaAAIAAAs08knwB4KiwA84wCwADaPSAfWMsnAG8EAgHMull3AwD/DQ/A/OIGgMBw8HYA5hsFACEBmGuG8wmgvQEafjD/KADwqrcKwJyyeQG0BDwaGt4awByjACA8APOLAoAQAcwtCgDCBDCvbMmPAHlb+ADmDzcAhAWLNwswoygACBjAbKIAIGgAM4kCgMABzCIKAIIHMIMoAAggwOyhACCIwMyZORQABBKYNbOGAoBgAjNmxlAAEFBgtkABQFCBmQIFAIEFZgkUAD4bXMILzA8KAEIMzI25QQFAmIF5MS8oAAg1MCfmBAWA3HATcJgNs4ECgKADM2EmUABoCz2BhzkwBygAePMBex8UAAQh2POgAFARiEIR+xwUALwZgb0NCgDeksB+BgUAoQn2MSgACFCwb0EBQJiC/QoKAIIV7E8UAIgIWUGLPQkKAELXHsceBAUAAQz2HigACGOw11AAID+YhTP2FygACGr7H/sJBQAEN/aP/YMCAHVBLsztFXsFBQCKg1242x/2BwoACHozYj/YDygA0Br8wt+zt6ooAFB+GDgQPGdQAMABYYY8V1AAwKGB5wcKAFQeJA4UzwkUAHDAOGQ8E1AAwMHj8LHuoACAQ6n4YLK2oACAwyr48LJ2oACAMhB8uFkXUABAIdhhuF94GDb8N4ICAMQdlFGh5dAHBQAUAgc+oACAQuDABxQAUAwc9IACAIqBgx5QAEBJcLgDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwEd98E8o3tYHS8QAAAABJRU5ErkJggg=="},483:function(e,t){e.exports="data:image/png;base64,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"},484:function(e,t){e.exports="data:image/png;base64,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"},485:function(e,t){e.exports="data:image/png;base64,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"},486:function(e,t,a){e.exports=a.p+"static/media/Ac.811dba49.svg"},491:function(e,t,a){e.exports={multiSelect:"PropertiesPanel_multiSelect__1jcOP"}},496:function(e,t){e.exports="data:image/png;base64,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"},57:function(e,t,a){e.exports={attacks:"Attacks_attacks__BRqGa",attacksTitle:"Attacks_attacksTitle__2KkNa",attackHeader:"Attacks_attackHeader__n0Oc6",attack:"Attacks_attack__15jJN",attackName:"Attacks_attackName__34PFc",attackRange:"Attacks_attackRange__1i2p4",attackToHit:"Attacks_attackToHit__3Lq9C",attackDamage:"Attacks_attackDamage__1qcf3"}},576:function(e,t,a){e.exports=a(1154)},583:function(e,t,a){},63:function(e,t,a){e.exports={loadingWrapper:"Map_loadingWrapper__1SaP1",noMapWrapper:"Map_noMapWrapper__h11RC",loadingText:"Map_loadingText__1azfI",noMapText:"Map_noMapText__qelrn",dragAddObjectWrapper:"Map_dragAddObjectWrapper__3LbFl",dragAddObjectText:"Map_dragAddObjectText__1nGcz",measureToolWrapper:"Map_measureToolWrapper__FFK49",squaredOne:"Map_squaredOne__LWIgp",controlStateOverlay:"Map_controlStateOverlay__2Iyit",controlState:"Map_controlState__2UQde"}},69:function(e,t,a){e.exports={equipment:"Equipment_equipment__2nNRg",title:"Equipment_title__2IgJe",header:"Equipment_header__3fMBP",name:"Equipment_name__ttr6Q",quantity:"Equipment_quantity__3G8OO",weight:"Equipment_weight__18Lp4",notes:"Equipment_notes__-Iw94"}},70:function(e,t,a){e.exports={wrapper:"Spells_wrapper__1Jm7j",title:"Spells_title__UCDnt",bold:"Spells_bold__3pcWP",italic:"Spells_italic__19cR9"}},83:function(e,t,a){e.exports={wrapper:"InitiativeToken_wrapper__3HrnY",avatar:"InitiativeToken_avatar__3364-",ac:"InitiativeToken_ac__24BlX",currentTurn:"InitiativeToken_currentTurn__3WwMd",pulse:"InitiativeToken_pulse__2KCow",initiativeRoll:"InitiativeToken_initiativeRoll__1gqDL",initiativeEditor:"InitiativeToken_initiativeEditor__1IYFM",initiativeEditorInner:"InitiativeToken_initiativeEditorInner__2zQPe",hpInput:"InitiativeToken_hpInput__3_tBe",hpInputInner:"InitiativeToken_hpInputInner__3iEjf",deleteButton:"InitiativeToken_deleteButton__3JrD_"}},957:function(e,t){},97:function(e,t,a){e.exports={characterActionContainer:"CharacterAction_characterActionContainer__G2Pab",actionHeader:"CharacterAction_actionHeader__18HFt",actionType:"CharacterAction_actionType__2lQfm",actionTitle:"CharacterAction_actionTitle__1hT_U",roll:"CharacterAction_roll__260vY"}},98:function(e,t,a){e.exports={trackerWrapper:"InitiativeTracker_trackerWrapper__OWRIG",dm:"InitiativeTracker_dm__3DqGx",hidden:"InitiativeTracker_hidden__1A_2K",backLine:"InitiativeTracker_backLine__1cZru",tokenWrapper:"InitiativeTracker_tokenWrapper__3D6e_",buttonWrapper:"InitiativeTracker_buttonWrapper__UsKjR"}}},[[576,1,2]]]);
//# sourceMappingURL=main.38be7d01.chunk.js.map